[build-system]
requires = ["setuptools>=0.61", "wheel", "setuptools-scm", "cython!=3.0.0"]
build-backend = "setuptools.build_meta"

[tool.setuptools.packages]
find = {namespaces = false}  # Disable implicit namespaces

[tool.setuptools.package-data]
serpyco = ["*.pxd", "*.pxi", "*.pyx", "*.c"]

[project]
name = "serpycow"
version = "1.2.18"
authors = [
  {name = "SÃ©bastien Grignard", email = "pub@amakaze.org"},
  {name = "Patrick Mazulo", email = "mazulo@d7.dev"},
]
description = "Fast serialization of dataclasses using Cython"
readme = "README.rst"
requires-python = ">=3.7"
license = {text = "MIT"}
classifiers = [
  "Development Status :: 5 - Production/Stable",
  "Intended Audience :: Developers",
  "License :: OSI Approved :: MIT License",
  "Programming Language :: Python :: 3",
  "Topic :: Software Development :: Libraries",
  "Operating System :: OS Independent",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.7",
  "Programming Language :: Python :: 3.8",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
]
dependencies = [
  "python-dateutil",
  "python-rapidjson>=0.8.0",
  "typing-inspect>=0.6.0",
  "dataclasses;python_version<'3.7'",
]

[project.urls]
Homepage = "https://github.com/7ws/serpyco"
"Bug Tracker" = "https://github.com/7ws/serpyco/issues"

[project.optional-dependencies]
dev = [
  "black",
  "build",
  "dataslots",
  "mypy",
  "pytest",
  "pytest-benchmark",
  "ruff",
  "twine",
]
build-doc = [
  "sphinx",
  "sphinx-autodoc-typehints",
  "sphinx-rtd-theme",
  "sphinxcontrib-websupport",
]

[tool.semantic_release]
version_variables = [
  "setup.py:__version__",
]
version_toml = [
  "pyproject.toml:project.version",
]
branch = "develop"
changelog_file = "CHANGELOG.md"
dist_path = "dist/"
upload_to_release = true
upload_to_pypi = false
remove_dist = false
patch_without_tag = true

[tool.semantic_release.branches.main]
match = "(main|master|develop)"
prerelease_token = "rc"
prerelease = false

[tool.setuptools_scm]
