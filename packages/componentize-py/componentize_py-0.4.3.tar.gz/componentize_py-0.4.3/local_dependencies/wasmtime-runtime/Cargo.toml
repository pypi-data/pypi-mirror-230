[package]
name = "wasmtime-runtime"
version= "13.0.0"
authors= ["The Wasmtime Project Developers"]
description = "Runtime library support for Wasmtime"
documentation = "https://docs.rs/wasmtime-runtime"
license = "Apache-2.0 WITH LLVM-exception"
categories = ["wasm"]
keywords = ["webassembly", "wasm"]
repository = "https://github.com/bytecodealliance/wasmtime"
edition= "2021"
resolver = '2'

[dependencies]
wasmtime-wmemcheck = { path = "../wasmtime-wmemcheck" }
wasmtime-asm-macros = { path = "../wasmtime-asm-macros" }
wasmtime-environ = { path = "../wasmtime-environ" }
wasmtime-fiber = { optional = true , path = "../wasmtime-fiber" }
wasmtime-jit-debug = { features = ["gdb_jit_int"] , path = "../wasmtime-jit-debug" }
wasmtime-versioned-export-macros = { path = "../wasmtime-versioned-export-macros" }
libc = { version = "0.2.112", default-features = false }
log = { version = "0.4.8", default-features = false }
memoffset = "0.9.0"
indexmap = "2.0.0"
cfg-if = "1.0"
rand = { version = "0.8.3", features = ['small_rng'] }
anyhow = "1.0.22"
memfd = "0.6.2"
paste = "1.0.3"
encoding_rs = { version = "0.8.31", optional = true }
sptr = "0.3.2"
wasm-encoder = "0.32.0"

[target.'cfg(target_os = "macos")'.dependencies]
mach = "0.3.2"

[target.'cfg(unix)'.dependencies]
rustix = { version = "0.38.8", features = ["mm"] }

[target.'cfg(target_os = "windows")'.dependencies]
windows-sys= { version = "0.48.0", features = [
  "Win32_Foundation",
  "Win32_System_Kernel",
  "Win32_System_Memory",
  "Win32_System_Diagnostics_Debug",
  "Win32_System_SystemInformation",
  "Win32_Storage_FileSystem",
  "Win32_Security"] }

[build-dependencies]
cc = "1.0"
wasmtime-versioned-export-macros = { path = "../wasmtime-versioned-export-macros" }

[features]
async = ["wasmtime-fiber"]

# Enables support for the pooling instance allocator
pooling-allocator = []

component-model = [
  "wasmtime-environ/component-model",
  "dep:encoding_rs",
]

wmemcheck = []
