(this.webpackJsonpstreamlit_file_browser=this.webpackJsonpstreamlit_file_browser||[]).push([[0],{127:function(e,n,t){"use strict";t.r(n);var a=t(5),l=t.n(a),o=t(48),r=t.n(o),i=t(9),c=t(0),s=t(1),d=t(12),u=t(2),E=t(3),F=t(14),f=t(36),m=t.n(f),h=t(6),g=function(e){var n=e.selectedItems,t=e.isFolder,a=e.icons,o=e.nameFilter,r=e.canCreateFolder,i=e.onCreateFolder,c=e.canRenameFile,s=e.onRenameFile,d=e.canRenameFolder,u=e.onRenameFolder,E=e.canDeleteFile,F=e.onDeleteFile,f=(e.canDeleteFolder,e.onDeleteFolder,e.canDownloadFile),m=e.onDownloadFile,g=e.canDownloadFolder,D=e.onDownloadFolder,p=e.canChooseFile,O=e.onChooseFile,C=e.canChooseFolder,L=e.onChooseFolder,_=[];if(n.length){var v=n.filter((function(e){return e.action}));if(v.length===n.length&&1===Object(h.a)(new Set(v)).length){var R;switch(v[0].action){case"delete":R="Deleting ...";break;case"rename":R="Renaming ...";break;default:R="Moving ..."}_=l.a.createElement("div",{className:"item-actions"},a.Loading," ",R)}else{t&&r&&!o&&_.push(l.a.createElement("li",{key:"action-add-folder"},l.a.createElement("a",{onClick:i,href:"#",role:"button"},a.Folder,"\xa0Add Subfolder")));var b=n.find((function(e){return!e.keyDerived}));b||t||!c||1!==n.length?!b&&t&&d&&_.push(l.a.createElement("li",{key:"action-rename"},l.a.createElement("a",{onClick:u,href:"#",role:"button"},a.Rename,"\xa0Rename"))):_.push(l.a.createElement("li",{key:"action-rename"},l.a.createElement("a",{onClick:s,href:"#",role:"button"},a.Rename,"\xa0Rename"))),b||t||!E||_.push(l.a.createElement("li",{key:"action-delete"},l.a.createElement("a",{onClick:F,href:"#",role:"button"},a.Delete,"\xa0Delete"))),(!t&&f||t&&g)&&_.push(l.a.createElement("li",{key:"action-download"},l.a.createElement("a",{onClick:t?D:m,href:"#",role:"button"},a.Download,"\xa0Download"))),(!t&&p||t&&C)&&_.push(l.a.createElement("li",{key:"action-choose"},l.a.createElement("a",{onClick:t?L:O,href:"#",role:"button"},l.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}),"\xa0Choose"))),_=_.length?l.a.createElement("ul",{className:"item-actions"},_):l.a.createElement("div",{className:"item-actions"},"\xa0")}}else r&&!o&&_.push(l.a.createElement("li",{key:"action-add-folder"},l.a.createElement("a",{onClick:i,href:"#",role:"button"},a.Folder,"\xa0Add Folder"))),_=_.length?l.a.createElement("ul",{className:"item-actions"},_):l.a.createElement("div",{className:"item-actions"},"\xa0");return _};g.defaultProps={selectedItems:[],isFolder:!1,icons:{},nameFilter:"",canCreateFolder:!1,onCreateFolder:null,canRenameFile:!1,onRenameFile:null,canRenameFolder:!1,onRenameFolder:null,canDeleteFile:!1,onDeleteFile:null,canDeleteFolder:!1,onDeleteFolder:null,canDownloadFile:!1,onDownloadFile:null,canDownloadFolder:!1,onDownloadFolder:null,canChooseFile:!1,onChooseFile:null,canChooseFolder:!1,onChooseFolder:null};var D=g,p=(t(122),t(123),function(e){return e.SELECT_FILE="SELECT_FILE",e.SELECT_FOLDER="SELECT_FOLDER",e.DOWNLOAD="DOWNLOAD",e.DELETE_FILE="DELETE_FILE",e.DELETE_FOLDER="DELETE_FOLDER",e.RENAME_FOLDER="RENAME_FOLDER",e.RENAME_FILE="RENAME_FILE",e.CREATE_FILE="CREATE_FILE",e.CREATE_FOLDER="CREATE_FOLDER",e.MOVE_FILE="MOVE_FILE",e.MOVE_FOLDER="MOVE_FOLDER",e.CHOOSE_FILE="CHOOSE_FILE",e}(p||{})),O=function(e){return F.a.setComponentValue(e)},C=function(e){Object(u.a)(t,e);var n=Object(E.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).args=void 0,a.folderOpenHandler=function(e){return a.ajustHeight()},a.folderCloseHandler=function(e){return a.ajustHeight()},a.fileSelectedHandler=function(e){if(!a.args.ignore_file_select_event){var n=a.args.files.find((function(n){return n.path===e.key}));n&&O({type:p.SELECT_FILE,target:n})}},a.deleteFileHandler=function(e){var n=a.args.files.filter((function(n){return"string"===typeof e?e===n.path:e.includes(n.path)}));console.log("deleteFileHandler","key",e,"files ",n),n.length&&O({type:p.DELETE_FILE,target:n});var t=a.args.files.filter((function(n){return"string"===typeof e?e!==n.path:!e.includes(n.path)}));a.args.files=t},a.chooseHandler=function(e){var n=a.args.files.filter((function(n){return e.includes(n.path)}));n.length&&O({type:p.CHOOSE_FILE,target:n})},a.convertFiles=function(e){return e.map((function(e){return{key:e.path,modified:e.update_time||0,size:e.size||0}}))},a.noop=function(){return l.a.createElement(l.a.Fragment,null)},a.render=function(){var e=Object(d.a)(a);return l.a.createElement("div",null,l.a.createElement(m.a,Object.assign({},a.args,{showActionBar:!0,canFilter:!0,detailRenderer:a.noop,icons:f.Icons.FontAwesome(4),files:a.convertFiles(a.args.files),onFolderOpen:a.folderOpenHandler,onFolderClose:a.folderCloseHandler,onSelect:a.fileSelectedHandler,onDeleteFile:a.deleteFileHandler,actionRenderer:function(){for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return D(Object(i.a)(Object(i.a)({},t[0]),{canChooseFile:e.args.show_choose_file,canDownloadFile:!1,canDeleteFile:e.args.show_delete_file,onChooseFile:function(n){return e.chooseHandler(t[0].selectedItems.map((function(e){return e.key})))},onDeleteFile:function(n){return e.deleteFileHandler(t[0].selectedItems.map((function(e){return e.key})))}}))}})))},a.args=e.args,a}return Object(s.a)(t,[{key:"ajustHeight",value:function(e){var n=document.getElementById("root");if(n){var t=Math.min(n.clientHeight,n.scrollHeight,n.offsetHeight);F.a.setFrameHeight(t-(e||0)),setTimeout(F.a.setFrameHeight,1)}}},{key:"componentDidMount",value:function(){this.ajustHeight()}},{key:"componentDidUpdate",value:function(){this.ajustHeight()}}]),t}(F.b),L=Object(F.c)(C),_=function(e){Object(u.a)(t,e);var n=Object(E.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).args=void 0,a.args=e.args,a}return Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(L,this.props))}}]),t}(F.b),v=Object(F.c)(_);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(v,null)),document.getElementById("root"))},54:function(e,n,t){e.exports=t(127)}},[[54,1,2]]]);
//# sourceMappingURL=main.8be435cb.chunk.js.map