9 total failures in 1 files


###  (9 failures)

* line 44: `Cannot call overloaded function (code: incompatible_argument)`
```
    In overload (self, key: typing_extensions.SupportsIndex (Protocol with members '__index__'), /) -> int
      Incompatible argument type for key: expected typing_extensions.SupportsIndex (Protocol with members '__index__') but got Literal['tool']
          Literal['tool'] has no attribute '__index__'

    In overload (self, key: slice, /) -> bytes
      Incompatible argument type for key: expected slice but got Literal['tool']
          Cannot assign Literal['tool'] to slice


In crackerjack/crackerjack.py at line 44
  41:         our_toml_config = await load.toml(self.our_toml_path)  # type: ignore
  42:         pkg_toml_config = await load.toml(self.pkg_toml_path)  # type: ignore
  43:         if self.poetry_pip_env:
  44:             del pkg_toml_config["tool"]["poetry"]
                      ^
  45:         pkg_deps = pkg_toml_config["tool"]["pdm"]["dev-dependencies"]
  46:         pkg_toml_config["tool"] = our_toml_config["tool"]
  47:         for tool, settings in pkg_toml_config["tool"].items():
```
* line 45: `Cannot call overloaded function (code: incompatible_argument)`
```
    In overload (self, key: typing_extensions.SupportsIndex (Protocol with members '__index__'), /) -> int
      Incompatible argument type for key: expected typing_extensions.SupportsIndex (Protocol with members '__index__') but got Literal['tool']
          Literal['tool'] has no attribute '__index__'

    In overload (self, key: slice, /) -> bytes
      Incompatible argument type for key: expected slice but got Literal['tool']
          Cannot assign Literal['tool'] to slice


In crackerjack/crackerjack.py at line 45
  42:         pkg_toml_config = await load.toml(self.pkg_toml_path)  # type: ignore
  43:         if self.poetry_pip_env:
  44:             del pkg_toml_config["tool"]["poetry"]
  45:         pkg_deps = pkg_toml_config["tool"]["pdm"]["dev-dependencies"]
                         ^
  46:         pkg_toml_config["tool"] = our_toml_config["tool"]
  47:         for tool, settings in pkg_toml_config["tool"].items():
  48:             for setting, value in settings.items():
```
* line 46: `Object of type bytes does not support '__setitem__' (code: unsupported_operation)`
```
In crackerjack/crackerjack.py at line 46
  43:         if self.poetry_pip_env:
  44:             del pkg_toml_config["tool"]["poetry"]
  45:         pkg_deps = pkg_toml_config["tool"]["pdm"]["dev-dependencies"]
  46:         pkg_toml_config["tool"] = our_toml_config["tool"]
              ^
  47:         for tool, settings in pkg_toml_config["tool"].items():
  48:             for setting, value in settings.items():
  49:                 if isinstance(value, str | list) and "crackerjack" in value:
```
* line 46: `Cannot call overloaded function (code: incompatible_argument)`
```
    In overload (self, key: typing_extensions.SupportsIndex (Protocol with members '__index__'), /) -> int
      Incompatible argument type for key: expected typing_extensions.SupportsIndex (Protocol with members '__index__') but got Literal['tool']
          Literal['tool'] has no attribute '__index__'

    In overload (self, key: slice, /) -> bytes
      Incompatible argument type for key: expected slice but got Literal['tool']
          Cannot assign Literal['tool'] to slice


In crackerjack/crackerjack.py at line 46
  43:         if self.poetry_pip_env:
  44:             del pkg_toml_config["tool"]["poetry"]
  45:         pkg_deps = pkg_toml_config["tool"]["pdm"]["dev-dependencies"]
  46:         pkg_toml_config["tool"] = our_toml_config["tool"]
                                        ^
  47:         for tool, settings in pkg_toml_config["tool"].items():
  48:             for setting, value in settings.items():
  49:                 if isinstance(value, str | list) and "crackerjack" in value:
```
* line 47: `Cannot call overloaded function (code: incompatible_argument)`
```
    In overload (self, key: typing_extensions.SupportsIndex (Protocol with members '__index__'), /) -> int
      Incompatible argument type for key: expected typing_extensions.SupportsIndex (Protocol with members '__index__') but got Literal['tool']
          Literal['tool'] has no attribute '__index__'

    In overload (self, key: slice, /) -> bytes
      Incompatible argument type for key: expected slice but got Literal['tool']
          Cannot assign Literal['tool'] to slice


In crackerjack/crackerjack.py at line 47
  44:             del pkg_toml_config["tool"]["poetry"]
  45:         pkg_deps = pkg_toml_config["tool"]["pdm"]["dev-dependencies"]
  46:         pkg_toml_config["tool"] = our_toml_config["tool"]
  47:         for tool, settings in pkg_toml_config["tool"].items():
                                    ^
  48:             for setting, value in settings.items():
  49:                 if isinstance(value, str | list) and "crackerjack" in value:
  50:                     if isinstance(value, str):
```
* line 47: `Variable tool is never accessed (code: unused_variable)`
```
In crackerjack/crackerjack.py at line 47
  44:             del pkg_toml_config["tool"]["poetry"]
  45:         pkg_deps = pkg_toml_config["tool"]["pdm"]["dev-dependencies"]
  46:         pkg_toml_config["tool"] = our_toml_config["tool"]
  47:         for tool, settings in pkg_toml_config["tool"].items():
                  ^
  48:             for setting, value in settings.items():
  49:                 if isinstance(value, str | list) and "crackerjack" in value:
  50:                     if isinstance(value, str):
```
* line 56: `Cannot call overloaded function (code: incompatible_argument)`
```
    In overload (self, key: typing_extensions.SupportsIndex (Protocol with members '__index__'), /) -> int
      Incompatible argument type for key: expected typing_extensions.SupportsIndex (Protocol with members '__index__') but got Literal['tool']
          Literal['tool'] has no attribute '__index__'

    In overload (self, key: slice, /) -> bytes
      Incompatible argument type for key: expected slice but got Literal['tool']
          Cannot assign Literal['tool'] to slice


In crackerjack/crackerjack.py at line 56
  53:                         value.remove("crackerjack")
  54:                         value.append(self.pkg_name)
  55:                     settings[setting] = value
  56:         pkg_toml_config["tool"]["pdm"]["dev-dependencies"] = pkg_deps
              ^
  57:         if self.pkg_path.stem == "crackerjack":
  58:             await dump.toml(pkg_toml_config, self.our_toml_path)  # type: ignore
  59:         else:
```
* line 58: `Incompatible argument type for obj: expected Union[str, os.PathLike (Protocol with members '__fspath__'), dict] but got Union[dict, bytes] (code: incompatible_argument)`
```
  Cannot assign to Union
    Cannot assign bytes to str
    bytes has no attribute '__fspath__'
    Cannot assign bytes to dict

In crackerjack/crackerjack.py at line 58
  55:                     settings[setting] = value
  56:         pkg_toml_config["tool"]["pdm"]["dev-dependencies"] = pkg_deps
  57:         if self.pkg_path.stem == "crackerjack":
  58:             await dump.toml(pkg_toml_config, self.our_toml_path)  # type: ignore
                                  ^
  59:         else:
  60:             await dump.toml(pkg_toml_config, self.pkg_toml_path)  # type: ignore
  61: 
```
* line 60: `Incompatible argument type for obj: expected Union[str, os.PathLike (Protocol with members '__fspath__'), dict] but got Union[dict, bytes] (code: incompatible_argument)`
```
  Cannot assign to Union
    Cannot assign bytes to str
    bytes has no attribute '__fspath__'
    Cannot assign bytes to dict

In crackerjack/crackerjack.py at line 60
  57:         if self.pkg_path.stem == "crackerjack":
  58:             await dump.toml(pkg_toml_config, self.our_toml_path)  # type: ignore
  59:         else:
  60:             await dump.toml(pkg_toml_config, self.pkg_toml_path)  # type: ignore
                                  ^
  61: 
  62:     async def clean_poetry_pipenv(self) -> None:
  63:         root_files = [
```
