import{bz as k,ce as y,c7 as v,cf as V,cg as C,ch as w,ci as x,cj as S,ck as b,cl as T,ca as U,cm as H,cn as D,co as I,cp as z,cq as B,aM as $,o as L,bs as e,bC as N,az as M,z as t,bD as c,w as q,bE as _,cr as A,cs as g,ct as l,c4 as i,y as s,a_ as r,cu as n,cv as d,r as f,c5 as O}from"./index-8c9d4a8a.js";const W={name:"Dashboard",mixins:[y],head(){return{title:v("App.dashboard")}},data(){return{query:new V(C,{},"root",[],!0,!0),events:[]}},computed:{...w("user",["user"]),...w("workflows",["cylcTree"]),...x("workflows",["getNodes"]),workflows(){return this.getNodes("workflow")},workflowsTable(){const a=Object.values(this.workflows).map(o=>o.node.status).reduce((o,u)=>(o[u]=(o[u]||0)+1,o),{});return S.enumValues.sort((o,u)=>b.get(o)-b.get(u)).map(o=>({text:o.name.charAt(0).toUpperCase()+o.name.slice(1),count:a[o.name]||0}))},multiUserMode(){return this.user.mode!=="single user"}},workflowsHeader:[{value:"count"},{value:"text"}],eventsHeader:[{value:"id"},{value:"text"}],hubUrl:T("/hub/home",!1,!0),icons:{table:U,settings:H,hub:D,quickstart:I,workflow:z,documentation:B}},R=f("p",{class:"text-h4 mb-2"},"Workflows",-1),E=f("p",{class:"text-h4 mb-2"},"Events",-1),j=f("td",{class:"text-h6 text-disabled"},"No events",-1);function G(a,o,u,P,m,h){const p=$("v-data-table");return M(),L(N,{fluid:"","grid-list":"",class:"c-dashboard mt-4 py-0 px-6"},{default:e(()=>[t(_,{wrap:""},{default:e(()=>[t(c,{md:"6",lg:"6"},{default:e(()=>[R,t(p,{headers:a.$options.workflowsHeader,items:h.workflowsTable,loading:a.isLoading,id:"dashboard-workflows","items-per-page":"-1"},{headers:e(()=>[]),bottom:e(()=>[]),_:1},8,["headers","items","loading"])]),_:1}),t(c,{md:"6",lg:"6"},{default:e(()=>[E,t(p,{headers:a.$options.eventsHeader,items:m.events},q({headers:e(()=>[]),"no-data":e(()=>[j]),_:2},[m.events.length?void 0:{name:"bottom",fn:e(()=>[]),key:"0"}]),1032,["headers","items"])]),_:1})]),_:1}),t(A),t(_,{wrap:""},{default:e(()=>[t(c,{md:"6",lg:"6"},{default:e(()=>[t(g,{lines:"three",class:"pa-0"},{default:e(()=>[t(l,{to:"/workflow-table","data-cy":"workflow-table-link"},{prepend:e(()=>[t(i,{size:"1.6em"},{default:e(()=>[s(r(a.$options.icons.table),1)]),_:1})]),default:e(()=>[t(n,{class:"text-h6 font-weight-light"},{default:e(()=>[s(" Workflows Table ")]),_:1}),t(d,null,{default:e(()=>[s(" View name, host, port, etc. of your workflows ")]),_:1})]),_:1}),t(l,{to:"/user-profile","data-cy":"user-settings-link"},{prepend:e(()=>[t(i,{size:"1.6em"},{default:e(()=>[s(r(a.$options.icons.settings),1)]),_:1})]),default:e(()=>[t(n,{class:"text-h6 font-weight-light"},{default:e(()=>[s(" Settings ")]),_:1}),t(d,null,{default:e(()=>[s(" View your Hub permissions, and alter user preferences ")]),_:1})]),_:1}),f("div",null,[t(l,{id:"cylc-hub-button",disabled:!h.multiUserMode,href:a.$options.hubUrl},{prepend:e(()=>[t(i,{size:"1.6em"},{default:e(()=>[s(r(a.$options.icons.hub),1)]),_:1})]),default:e(()=>[t(n,{class:"text-h6 font-weight-light"},{default:e(()=>[s(" Cylc Hub ")]),_:1}),t(d,null,{default:e(()=>[s(" Visit the Hub to manage your running UI Servers ")]),_:1})]),_:1},8,["disabled","href"]),t(O,{disabled:h.multiUserMode},{default:e(()=>[s(" You are not running Cylc UI via Cylc Hub. ")]),_:1},8,["disabled"])])]),_:1})]),_:1}),t(c,{md:"6",lg:"6"},{default:e(()=>[t(g,{lines:"three",class:"pa-0"},{default:e(()=>[t(l,{to:"/guide","data-cy":"quickstart-link"},{prepend:e(()=>[t(i,{size:"1.6em"},{default:e(()=>[s(r(a.$options.icons.quickstart),1)]),_:1})]),default:e(()=>[t(n,{class:"text-h6 font-weight-light"},{default:e(()=>[s(" Cylc UI Quickstart ")]),_:1}),t(d,null,{default:e(()=>[s(" Learn how to use the Cylc UI ")]),_:1})]),_:1}),t(l,{href:"https://cylc.github.io/cylc-doc/stable/html/workflow-design-guide/index.html",target:"_blank"},{prepend:e(()=>[t(i,{size:"1.6em"},{default:e(()=>[s(r(a.$options.icons.workflow),1)]),_:1})]),default:e(()=>[t(n,{class:"text-h6 font-weight-light"},{default:e(()=>[s(" Workflow Design Guide ")]),_:1}),t(d,null,{default:e(()=>[s(" How to make complex Cylc workflows and Rose suites simpler and easier to maintain ")]),_:1})]),_:1}),t(l,{href:"https://cylc.github.io/cylc-doc/stable/html/index.html",target:"_blank"},{prepend:e(()=>[t(i,{size:"1.6em"},{default:e(()=>[s(r(a.$options.icons.documentation),1)]),_:1})]),default:e(()=>[t(n,{class:"text-h6 font-weight-light"},{default:e(()=>[s(" Documentation ")]),_:1}),t(d,null,{default:e(()=>[s(" The complete Cylc documentation ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Y=k(W,[["render",G]]);export{Y as default};
