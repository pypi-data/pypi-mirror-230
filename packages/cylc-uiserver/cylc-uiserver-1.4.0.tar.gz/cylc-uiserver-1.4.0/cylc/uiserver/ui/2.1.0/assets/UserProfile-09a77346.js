import{bH as T,dK as J,dL as X,dM as Y,dN as M,m as H,bZ as O,dO as q,dP as K,dQ as x,z as t,dR as ee,ah as g,dS as Z,dT as te,dU as le,dV as se,dW as ae,bI as N,bR as oe,dX as ne,F as _,dY as re,dZ as ue,bz as de,cx as ie,d_ as ce,ch as me,c7 as pe,d$ as fe,e0 as be,cm as Ve,e1 as ge,e2 as ye,aM as ve,o as j,bs as l,bC as E,az as d,bD as o,r as n,a_ as i,e3 as _e,cc as he,bE as r,cb as L,c3 as z,b_ as F,y as U,c4 as G,q as b,aK as S,aj as Se,ct as Pe,dq as we}from"./index-8c9d4a8a.js";import{defaultView as $e,allViews as ke}from"./Workspace-ab0cbaa9.js";import{V as Ce}from"./VAlert-bb90aec3.js";import"./graphql-ef51ac83.js";const D=T()({name:"VCheckbox",inheritAttrs:!1,props:{...J(),...X()},emits:{"update:focused":e=>!0},setup(e,a){let{attrs:V,slots:m}=a;const{isFocused:u,focus:c,blur:p}=Y(e),s=M(),f=H(()=>e.id||`checkbox-${s}`);return O(()=>{const[P,B]=q(V),[w,W]=K(e),[y,h]=x(e);return t(Z,g({class:"v-checkbox"},P,w,{id:f.value,focused:u.value}),{...m,default:v=>{let{id:$,messagesId:k,isDisabled:C,isReadonly:I}=v;return t(ee,g(y,{id:$.value,"aria-describedby":k.value,disabled:C.value,readonly:I.value},B,{onFocus:c,onBlur:p}),m)}})}),{}}}),Q=2;function R(e=null){localStorage.fontSize=e,document.documentElement.style.fontSize=e}function Ie(){R(`${A()-Q}px`)}function je(){R(`${A()+Q}px`)}function A(){const e=window.getComputedStyle(document.documentElement).fontSize;return parseFloat(e)}const ze=T()({name:"VRadio",props:{...te({falseIcon:"$radioOff",trueIcon:"$radioOn"})},setup(e,a){let{slots:V}=a;return O(()=>t(le,g(e,{class:"v-radio",type:"radio"}),V)),{}}});const Fe=T()({name:"VRadioGroup",inheritAttrs:!1,props:{height:{type:[Number,String],default:"auto"},...J(),...se(ae(),["multiple"]),trueIcon:{type:N,default:"$radioOn"},falseIcon:{type:N,default:"$radioOff"},type:{type:String,default:"radio"}},emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:V,slots:m}=a;const u=M(),c=H(()=>e.id||`radio-group-${u}`),p=oe(e,"modelValue");return O(()=>{const[s,f]=q(V),[P,B]=K(e),[w,W]=ne({...e,multiple:!1}),y=m.label?m.label({label:e.label,props:{for:c.value}}):e.label;return t(Z,g({class:"v-radio-group"},s,P,{modelValue:p.value,"onUpdate:modelValue":h=>p.value=h,id:c.value}),{...m,default:h=>{let{id:v,messagesId:$,isDisabled:k,isReadonly:C}=h;return t(_,null,[y&&t(re,{id:v.value},{default:()=>[y]}),t(ue,g(w,{id:v.value,"aria-describedby":$.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:k.value,readonly:C.value,"aria-labelledby":y?v.value:void 0},f,{modelValue:p.value,"onUpdate:modelValue":I=>p.value=I}),m)])}})}),{}}}),Ue={name:"UserProfile",components:{Job:ie},mixins:[ce],data(){return{defaultView:$e(),cyclePointsOrderDesc:!0,jobTheme:localStorage.jobTheme||"default"}},computed:{...me("user",["user"]),reducedAnimation:{get(){return this.$store.state.app.reducedAnimation},set(e){this.setReducedAnimation(e)}}},head(){return{title:pe("App.userProfile")}},mounted(){localStorage.cyclePointsOrderDesc&&(this.cyclePointsOrderDesc=JSON.parse(localStorage.cyclePointsOrderDesc))},methods:{resetFontSize:R,decreaseFontSize:Ie,increaseFontSize:je,getCurrentFontSize:A,...fe("app",["setJobTheme"])},watch:{jobTheme:function(e){this.setJobTheme(e)},cyclePointsOrderDesc(e){localStorage.setItem("cyclePointsOrderDesc",e),this.cyclePointsOrderDesc=e},defaultView(e){localStorage.setItem("defaultView",e),this.defaultView=e}},allViews:Object.fromEntries(ke.map(({name:e,icon:a})=>[e,a])),vuetifyDefaults:{global:{hideDetails:!0}},jobStates:be.enumValues.map(e=>e.name),jobThemes:["default","greyscale","colour_blind"],icons:{settings:Ve,increase:ge,decrease:ye}},De={class:"text-h5"},Te={class:"text-body-1"},Oe=n("p",{class:"text-h6"},"Preferences",-1),Re=n("span",null,"Font size",-1),Ae=n("span",null,"Colour Theme",-1),Be={class:"c-job-state-table"},Ne=n("th",null,"State",-1),Ee=n("td",null,null,-1),Le=n("span",null,"Latest cycle point at top",-1),Ge=n("span",null,"Reduced animations",-1),Je=n("span",null,"Default view",-1);function Me(e,a,V,m,u,c){const p=ve("job");return d(),j(E,{fluid:"",class:"c-user-profile"},{default:l(()=>[t(r,{class:"wrap"},{default:l(()=>[t(o,{cols:"12"},{default:l(()=>[t(Ce,{icon:e.$options.icons.settings,prominent:"",color:"grey-lighten-3"},{default:l(()=>[n("h3",De,i(e.$t("UserProfile.tableHeader")),1),n("p",Te,i(e.$t("UserProfile.tableSubHeader")),1)]),_:1},8,["icon"]),e.user!==null?(d(),j(_e,{key:0},{default:l(()=>[t(he,{defaults:e.$options.vuetifyDefaults},{default:l(()=>[t(E,{"py-0":""},{default:l(()=>[t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,i(e.$t("UserProfile.username")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(L,{"model-value":e.user.username,disabled:"",id:"profile-username","aria-disabled":"true",class:"text-body-1"},null,8,["model-value"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,i(e.$t("UserProfile.administrator")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(D,{modelValue:e.user.admin,"onUpdate:modelValue":a[0]||(a[0]=s=>e.user.admin=s),disabled:"",id:"profile-admin","aria-disabled":"true",class:"text-body-1"},null,8,["modelValue"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,i(e.$t("UserProfile.groups")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(z,{items:e.user.groups,modelValue:e.user.groups,"onUpdate:modelValue":a[1]||(a[1]=s=>e.user.groups=s),"menu-props":{attach:!0},multiple:"",disabled:"",id:"profile-groups","aria-disabled":"true",class:"text-body-1"},null,8,["items","modelValue"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,i(e.$t("UserProfile.created")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(L,{"model-value":e.user.created,disabled:"",id:"profile-created","aria-disabled":"true",class:"text-body-1"},null,8,["model-value"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,i(e.$t("UserProfile.permissions")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(z,{items:e.user.permissions,modelValue:e.user.permissions,"onUpdate:modelValue":a[2]||(a[2]=s=>e.user.permissions=s),"menu-props":{attach:!0},multiple:"",disabled:"",id:"profile-permissions","aria-disabled":"true",class:"text-body-1"},null,8,["items","modelValue"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"mt-4"},{default:l(()=>[t(o,{cols:"12"},{default:l(()=>[Oe]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Re]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(F,{variant:"outlined",id:"font-size-reset-button",class:"mr-2",onClick:a[3]||(a[3]=s=>c.resetFontSize())},{default:l(()=>[U(" Reset ")]),_:1}),t(F,{variant:"outlined",id:"font-size-decrease-button",class:"mx-2",onClick:a[4]||(a[4]=s=>c.decreaseFontSize())},{default:l(()=>[t(G,null,{default:l(()=>[U(i(e.$options.icons.decrease),1)]),_:1})]),_:1}),t(F,{variant:"outlined",id:"font-size-increase-button",class:"ml-2",onClick:a[5]||(a[5]=s=>c.increaseFontSize())},{default:l(()=>[t(G,null,{default:l(()=>[U(i(e.$options.icons.increase),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Ae]),_:1}),t(Fe,{modelValue:u.jobTheme,"onUpdate:modelValue":a[6]||(a[6]=s=>u.jobTheme=s)},{default:l(()=>[n("table",Be,[n("tr",null,[Ne,(d(!0),b(_,null,S(e.$options.jobThemes,s=>(d(),b("th",{key:s},i(s.replace("_"," ")),1))),128))]),n("tr",null,[Ee,(d(!0),b(_,null,S(e.$options.jobThemes,s=>(d(),b("td",{key:s},[t(ze,{value:s,id:`input-job-theme-${s}`},null,8,["value","id"])]))),128))]),(d(!0),b(_,null,S(e.$options.jobStates,s=>(d(),b("tr",{key:s},[n("td",null,i(s),1),(d(!0),b(_,null,S(e.$options.jobThemes,f=>(d(),b("td",{key:f,class:Se([`job_theme--${f}`,"job_theme_override"])},[t(p,{status:s},null,8,["status"])],2))),128))]))),128))])]),_:1},8,["modelValue"]),t(o,{cols:"9"})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Le]),_:1}),t(D,{modelValue:u.cyclePointsOrderDesc,"onUpdate:modelValue":a[7]||(a[7]=s=>u.cyclePointsOrderDesc=s),id:"input-cyclepoints-order"},null,8,["modelValue"])]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Ge]),_:1}),t(D,{modelValue:c.reducedAnimation,"onUpdate:modelValue":a[8]||(a[8]=s=>c.reducedAnimation=s),"data-cy":"reduced-animation"},null,8,["modelValue"])]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Je]),_:1}),t(z,{modelValue:u.defaultView,"onUpdate:modelValue":a[9]||(a[9]=s=>u.defaultView=s),items:Object.keys(e.$options.allViews),"prepend-inner-icon":e.$options.allViews[u.defaultView],"data-cy":"select-default-view","menu-props":{"data-cy":"select-default-view-menu"}},{item:l(({item:s,props:f})=>[t(Pe,g(f,{"prepend-icon":e.$options.allViews[s.value]}),null,16,["prepend-icon"])]),_:1},8,["modelValue","items","prepend-inner-icon"])]),_:1})]),_:1})]),_:1},8,["defaults"])]),_:1})):(d(),j(we,{key:1,indeterminate:!0}))]),_:1})]),_:1})]),_:1})}const Qe=de(Ue,[["render",Me]]);export{Qe as default};
