"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9197],{51471:function(e,n,t){t.d(n,{Z:function(){return U}});var a=t(34896),i=t(88038),r=t.n(i),s=t(86677),o=(t(27378),t(90768)),c=t(35100),l=t(64989),u=t(48114),_=t(51365),d=t(29549),p=t(60709),S=t(24246),f=function(){var e=(0,s.useRouter)();return(0,S.jsx)(a.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,S.jsxs)(a.xu,{children:[(0,S.jsxs)(a.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,S.jsx)(a.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,S.jsx)(d.zx,{size:"sm",variant:"outline",onClick:function(){e.push(p.fz)},children:"Configure"})]}),(0,S.jsxs)(a.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},U=function(e){var n=e.children,t=e.title,i=(0,o.hz)(),d=(0,s.useRouter)(),p="/privacy-requests"===d.pathname||"/datastore-connection"===d.pathname,U=!(i.flags.privacyRequestsConfiguration&&p),h=(0,_.JE)(void 0,{skip:U}).data,m=(0,_.PW)(void 0,{skip:U}).data,v=i.flags.privacyRequestsConfiguration&&(!h||!m)&&p;return(0,S.jsxs)(a.kC,{"data-testid":t,direction:"column",children:[(0,S.jsxs)(r(),{children:[(0,S.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,S.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,S.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,S.jsx)(c.Z,{}),(0,S.jsx)(u.Z,{}),(0,S.jsxs)(a.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,S.jsx)(a.xu,{flex:0,flexShrink:0,children:(0,S.jsx)(l.U,{})}),(0,S.jsxs)(a.kC,{direction:"column",flex:1,minWidth:0,children:[v?(0,S.jsx)(f,{}):null,n]})]})]})}},86054:function(e,n,t){var a=t(90849),i=t(90089),r=t(34896),s=t(24246),o=["title","children"];function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.title,t=e.children,a=(0,i.Z)(e,o);return(0,s.jsxs)(r.xu,l(l({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},a),{},{children:[(0,s.jsx)(r.X6,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:n}),(0,s.jsx)(r.Kq,{p:6,spacing:6,children:t})]}))}},64429:function(e,n,t){t.d(n,{BD:function(){return c},NA:function(){return o}});var a,i=t(90849),r=t(20477),s=(a={},(0,i.Z)(a,r._F.US,"United States"),(0,i.Z)(a,r._F.US_AL,"Alabama (USA)"),(0,i.Z)(a,r._F.US_AK,"Alaska (USA)"),(0,i.Z)(a,r._F.US_AZ,"Arizona (USA)"),(0,i.Z)(a,r._F.US_AR,"Arkansas (USA)"),(0,i.Z)(a,r._F.US_CA,"California (USA)"),(0,i.Z)(a,r._F.US_CO,"Colorado (USA)"),(0,i.Z)(a,r._F.US_CT,"Connecticut (USA)"),(0,i.Z)(a,r._F.US_DE,"Delaware (USA)"),(0,i.Z)(a,r._F.US_FL,"Florida (USA)"),(0,i.Z)(a,r._F.US_GA,"Georgia (USA)"),(0,i.Z)(a,r._F.US_HI,"Hawaii (USA)"),(0,i.Z)(a,r._F.US_ID,"Idaho (USA)"),(0,i.Z)(a,r._F.US_IL,"Illinois (USA)"),(0,i.Z)(a,r._F.US_IN,"Indiana (USA)"),(0,i.Z)(a,r._F.US_IA,"Iowa (USA)"),(0,i.Z)(a,r._F.US_KS,"Kansas (USA)"),(0,i.Z)(a,r._F.US_KY,"Kentucky (USA)"),(0,i.Z)(a,r._F.US_LA,"Louisiana (USA)"),(0,i.Z)(a,r._F.US_ME,"Maine (USA)"),(0,i.Z)(a,r._F.US_MD,"Maryland (USA)"),(0,i.Z)(a,r._F.US_MA,"Massachusetts (USA)"),(0,i.Z)(a,r._F.US_MI,"Michigan (USA)"),(0,i.Z)(a,r._F.US_MN,"Minnesota (USA)"),(0,i.Z)(a,r._F.US_MS,"Mississippi (USA)"),(0,i.Z)(a,r._F.US_MO,"Missouri (USA)"),(0,i.Z)(a,r._F.US_MT,"Montana (USA)"),(0,i.Z)(a,r._F.US_NE,"Nebraska (USA)"),(0,i.Z)(a,r._F.US_NV,"Nevada (USA)"),(0,i.Z)(a,r._F.US_NH,"New Hampshire (USA)"),(0,i.Z)(a,r._F.US_NJ,"New Jersey (USA)"),(0,i.Z)(a,r._F.US_NM,"New Mexico (USA)"),(0,i.Z)(a,r._F.US_NY,"New York (USA)"),(0,i.Z)(a,r._F.US_NC,"North Carolina (USA)"),(0,i.Z)(a,r._F.US_ND,"North Dakota (USA)"),(0,i.Z)(a,r._F.US_OH,"Ohio (USA)"),(0,i.Z)(a,r._F.US_OK,"Oklahoma (USA)"),(0,i.Z)(a,r._F.US_OR,"Oregon (USA)"),(0,i.Z)(a,r._F.US_PA,"Pennsylvania (USA)"),(0,i.Z)(a,r._F.US_RI,"Rhode Island (USA)"),(0,i.Z)(a,r._F.US_SC,"South Carolina (USA)"),(0,i.Z)(a,r._F.US_SD,"South Dakota (USA)"),(0,i.Z)(a,r._F.US_TN,"Tennessee (USA)"),(0,i.Z)(a,r._F.US_TX,"Texas (USA)"),(0,i.Z)(a,r._F.US_UT,"Utah (USA)"),(0,i.Z)(a,r._F.US_VT,"Vermont (USA)"),(0,i.Z)(a,r._F.US_VA,"Virginia (USA)"),(0,i.Z)(a,r._F.US_WA,"Washington (USA)"),(0,i.Z)(a,r._F.US_WV,"West Virginia (USA)"),(0,i.Z)(a,r._F.US_WI,"Wisconsin (USA)"),(0,i.Z)(a,r._F.US_WY,"Wyoming (USA)"),(0,i.Z)(a,r._F.BE,"Belgium (EU)"),(0,i.Z)(a,r._F.BG,"Bulgaria (EU)"),(0,i.Z)(a,r._F.CZ,"Czech Republic (EU)"),(0,i.Z)(a,r._F.DK,"Denmark (EU)"),(0,i.Z)(a,r._F.DE,"Germany (EU)"),(0,i.Z)(a,r._F.EE,"Estonia (EU)"),(0,i.Z)(a,r._F.IE,"Ireland (EU)"),(0,i.Z)(a,r._F.GR,"Greece (EU)"),(0,i.Z)(a,r._F.ES,"Spain (EU)"),(0,i.Z)(a,r._F.FR,"France (EU)"),(0,i.Z)(a,r._F.HR,"Croatia (EU)"),(0,i.Z)(a,r._F.IT,"Italy (EU)"),(0,i.Z)(a,r._F.CY,"Cyprus (EU)"),(0,i.Z)(a,r._F.LV,"Latvia (EU)"),(0,i.Z)(a,r._F.LT,"Lithuania (EU)"),(0,i.Z)(a,r._F.LU,"Luxembourg (EU)"),(0,i.Z)(a,r._F.HU,"Hungary (EU)"),(0,i.Z)(a,r._F.MT,"Malta (EU)"),(0,i.Z)(a,r._F.NL,"Netherlands (EU)"),(0,i.Z)(a,r._F.AT,"Austria (EU)"),(0,i.Z)(a,r._F.PL,"Poland (EU)"),(0,i.Z)(a,r._F.PT,"Portugal (EU)"),(0,i.Z)(a,r._F.RO,"Romania (EU)"),(0,i.Z)(a,r._F.SI,"Slovenia (EU)"),(0,i.Z)(a,r._F.SK,"Slovakia (EU)"),(0,i.Z)(a,r._F.FI,"Finland (EU)"),(0,i.Z)(a,r._F.SE,"Sweden (EU)"),(0,i.Z)(a,r._F.GB_ENG,"England"),(0,i.Z)(a,r._F.GB_SCT,"Scotland"),(0,i.Z)(a,r._F.GB_WLS,"Wales"),(0,i.Z)(a,r._F.GB_NIR,"Northern Ireland"),(0,i.Z)(a,r._F.IS,"Iceland"),(0,i.Z)(a,r._F.NO,"Norway"),(0,i.Z)(a,r._F.LI,"Liechtenstein"),(0,i.Z)(a,r._F.CA,"Canada"),(0,i.Z)(a,r._F.CA_AB,"Alberta (Canada)"),(0,i.Z)(a,r._F.CA_BC,"British Columbia (Canada)"),(0,i.Z)(a,r._F.CA_MB,"Manitoba (Canada)"),(0,i.Z)(a,r._F.CA_NB,"New Brunswick (Canada)"),(0,i.Z)(a,r._F.CA_NL,"Newfoundland and Labrador (Canada)"),(0,i.Z)(a,r._F.CA_NS,"Nova Scotia (Canada)"),(0,i.Z)(a,r._F.CA_ON,"Ontario (Canada)"),(0,i.Z)(a,r._F.CA_PE,"Prince Edward Island (Canada)"),(0,i.Z)(a,r._F.CA_QC,"Quebec (Canada)"),(0,i.Z)(a,r._F.CA_SK,"Saskatchewan (Canada)"),(0,i.Z)(a,r._F.CA_NT,"Northwest Territories (Canada)"),(0,i.Z)(a,r._F.CA_NU,"Nunavut (Canada)"),(0,i.Z)(a,r._F.CA_YT,"Yukon (Canada)"),a),o=new Map(Object.entries(s)),c=Object.entries(s).map((function(e){return{value:e[0],label:e[1]}}))},24753:function(e,n,t){t.d(n,{MA:function(){return u},Vo:function(){return d},t5:function(){return _}});var a=t(90849),i=t(34896),r=t(24246);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c=function(e){var n=e.message;return(0,r.jsxs)(i.xv,{"data-testid":"toast-success-msg",children:[(0,r.jsx)("strong",{children:"Success:"})," ",n]})},l=function(e){var n=e.message;return(0,r.jsxs)(i.xv,{"data-testid":"toast-error-msg",children:[(0,r.jsx)("strong",{children:"Error:"})," ",n]})},u={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},_=function(e){var n=(0,r.jsx)(c,{message:e});return o(o({},u),{description:n})},d=function(e){var n=(0,r.jsx)(l,{message:e});return o(o({},u),{description:n,status:"error"})}},85915:function(e,n,t){t.d(n,{Z:function(){return L}});var a=t(55732),i=t(97865),r=t(34707),s=t.n(r),o=t(70409),c=t(34896),l=t(29549),u=t(34090),_=t(86677),d=t(27378),p=t(6848),S=t(86054),f=t(43139),U=t(78624),h=t(60709),m=t(64429),v=t(24753),Z=t(75846),b=t(20800),F=t(20477),y=t(24246),j=(0,U.MM)(F.J7).map((function(e){return{label:b.y.get(e.label)||e.label,value:e.value}})),A=(0,U.MM)(F.QT).map((function(e){return{label:b.B.get(e.label)||e.label,value:e.value}})),g=function(){var e=(0,u.u6)(),n=e.values,t=e.setFieldValue,a=(0,d.useMemo)((function(){return n.consent_mechanism===F.J7.NOTICE_ONLY}),[n.consent_mechanism]);return(0,d.useEffect)((function(){a&&(t("enforcement_level",F.QT.NOT_APPLICABLE),t("has_gpc_flag",!1))}),[a,t]),(0,y.jsxs)(S.Z,{title:"Consent mechanism",children:[(0,y.jsx)(f.AP,{label:"If this use of data requires consent, you can specify the method of consent here.",name:"consent_mechanism",options:j,variant:"stacked"}),(0,y.jsx)(f.AP,{label:"Select the enforcement level for this consent mechanism",name:"enforcement_level",options:A,variant:"stacked",isDisabled:a}),(0,y.jsxs)(c.xu,{children:[(0,y.jsx)(c.xv,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Configure whether this notice conforms to the Global Privacy Control."}),(0,y.jsx)(f.w8,{label:"GPC Enabled",name:"has_gpc_flag",variant:"condensed",isDisabled:a})]})]})},x=t(90849),C=t(90089),O=t(68301),E=["created_at","updated_at","privacy_notice_history_id","version","cookies"];function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,x.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var k={name:"",regions:[],consent_mechanism:F.J7.OPT_IN,data_uses:[],enforcement_level:F.QT.SYSTEM_WIDE,displayed_in_api:!0,displayed_in_overlay:!0,displayed_in_privacy_center:!0},N=O.Ry().shape({name:O.Z_().required().label("Title"),data_uses:O.IX(O.Z_()).min(1,"Must assign at least one data use").label("Data uses"),regions:O.IX(O.Z_()).min(1,"Must assign at least one location").label("Locations")}),M=t(14441),I=t.n(M),D=function(e){var n=e.isEditing,t=(0,u.u6)(),a=t.values,i=t.setFieldValue;return(0,d.useEffect)((function(){if(!n){var e=I()(a.name);i("notice_key",e)}}),[a.name,n,i]),(0,y.jsx)(f.j0,{name:"notice_key",label:"Key used in Fides cookie",variant:"stacked"})},T=t(15749),L=function(e){var n=e.privacyNotice,t=(0,_.useRouter)(),r=(0,o.pm)(),b=n?function(e){var n,t,a,i,r;return e.created_at,e.updated_at,e.privacy_notice_history_id,e.version,e.cookies,P(P({},(0,C.Z)(e,E)),{},{name:null!==(n=e.name)&&void 0!==n?n:k.name,regions:null!==(t=e.regions)&&void 0!==t?t:k.regions,consent_mechanism:null!==(a=e.consent_mechanism)&&void 0!==a?a:k.consent_mechanism,data_uses:null!==(i=e.data_uses)&&void 0!==i?i:k.data_uses,enforcement_level:null!==(r=e.enforcement_level)&&void 0!==r?r:k.enforcement_level})}(n):k;(0,Z.fd)();var F=(0,p.C)(Z.qv),j=(0,T.vL)(),A=(0,i.Z)(j,1)[0],x=(0,T.p4)(),O=(0,i.Z)(x,1)[0],w=(0,d.useMemo)((function(){return!!n}),[n]),M=function(){var e=(0,a.Z)(s().mark((function e(n){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=6;break}return e.next=3,A([n]);case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,O([n]);case 8:a=e.sent;case 9:(0,U.D4)(a)?r((0,v.Vo)((0,U.e$)(a.error))):(r((0,v.t5)("Privacy notice ".concat(w?"updated":"created"))),w||t.push(h.IT));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsx)(u.J9,{initialValues:b,enableReinitialize:!0,onSubmit:M,validationSchema:N,children:function(e){var n=e.dirty,a=e.isValid,i=e.isSubmitting;return(0,y.jsx)(u.l0,{children:(0,y.jsxs)(c.Kq,{spacing:10,children:[(0,y.jsxs)(c.Kq,{spacing:6,children:[(0,y.jsxs)(S.Z,{title:"Privacy notice details",children:[(0,y.jsx)(f.j0,{label:"Title of the consent notice as displayed to the user",name:"name",variant:"stacked"}),(0,y.jsx)(f.Ks,{label:"Privacy notice displayed to the user",name:"description",variant:"stacked"})]}),(0,y.jsx)(g,{}),(0,y.jsxs)(S.Z,{title:"Privacy notice configuration",children:[(0,y.jsx)(f.AP,{name:"data_uses",label:"Data uses associated with this privacy notice",options:F,variant:"stacked",isMulti:!0,isRequired:!0}),(0,y.jsx)(f.Ks,{label:"Description of the privacy notice (visible to internal users only)",name:"internal_description",variant:"stacked"}),(0,y.jsx)(f.AP,{name:"regions",label:"Locations where consent notice is shown to visitors",options:m.BD,variant:"stacked",isMulti:!0,isRequired:!0}),(0,y.jsx)(D,{isEditing:w}),(0,y.jsxs)(c.xu,{children:[(0,y.jsx)(c.xv,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Configure the user experience for how this notice is displayed"}),(0,y.jsxs)(c.Ug,{justifyContent:"space-between",children:[(0,y.jsx)(f.w8,{label:"Show in Privacy Preference Center",name:"displayed_in_privacy_center",variant:"condensed"}),(0,y.jsx)(f.w8,{label:"Show in Privacy Overlay",name:"displayed_in_overlay",variant:"condensed"}),(0,y.jsx)(f.w8,{label:"API Only",name:"displayed_in_api",variant:"condensed"})]})]})]})]}),(0,y.jsxs)(l.hE,{size:"sm",spacing:2,children:[(0,y.jsx)(l.zx,{variant:"outline",onClick:function(){t.back()},children:"Cancel"}),(0,y.jsx)(l.zx,{type:"submit",variant:"primary",size:"sm",isDisabled:i||!n||!a,isLoading:i,"data-testid":"save-btn",children:"Save"})]})]})})}})}},20800:function(e,n,t){t.d(n,{B:function(){return i},y:function(){return a}});var a=new Map([["opt_in","Opt in"],["notice_only","Notice only"],["opt_out","Opt out"]]),i=new Map([["system_wide","System wide"],["frontend","Front end"],["not_applicable","Not applicable"]])}}]);