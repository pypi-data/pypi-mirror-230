{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://collimator.ai/models/state-machine-diagram.schema.json",

  "title": "State Machine Diagram",
  "type": "object",

  "description": "The description of a state machine document",
  "properties": {
    "uuid": {
      "$ref": "uuid.schema.json",
      "description": "Unique ID for a state link"
    },
    "nodes": {
      "type": "array",
      "items": {
        "$ref": "state-node-instance.schema.json"
      }
    },
    "links": {
      "type": "array",
      "items": {
        "$ref": "state-link-instance.schema.json"
      }
    },
    "entry_point": {
      "type": "object",
      "properties": {
        "actions": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "dest_id": {
          "type": "string"
        },
        "dest_side": {
          "type": "string",
          "enum": ["top", "right", "down", "left"]
        },
        "dest_coord": {
          "type": "number"
        }
      }
    }
  },
  "required": ["uuid", "nodes", "links", "entry_point"]
}
