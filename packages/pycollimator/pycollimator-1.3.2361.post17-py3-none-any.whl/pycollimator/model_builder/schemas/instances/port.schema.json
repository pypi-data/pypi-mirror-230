{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://collimator.ai/models/port.schema.json",
  "title": "Port",
  "description": "A single I/O port on a node",
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "pattern": "[a-zA-Z_][a-zA-Z0-9_]*",
      "description": "Builtin or user-given name of the port"
    },
    "kind": {
      "type": "string",
      "enum": ["static", "dynamic", "conditional"],
      "default": "static",
      "description": "How the port was created, affects various behaviors"
    },
    "parameters": {
      "anyOf": [
        { "$ref": "parameters.schema.json" },
        { "type": "object", "additionalProperties": { "type": "string" } }
      ]
    },
    "record": {
      "type": "boolean",
      "default": false,
      "description": "When the global record_mode is not 'all', this enables this output to be recorded."
    }
  },
  "required": ["name"],
  "additionalProperties": false
}
