"use strict";(self.webpackChunkipymuvue=self.webpackChunkipymuvue||[]).push([[518],{518:(t,e,r)=>{r.r(e),r.d(e,{VueWidgetModel:()=>c,VueWidgetView:()=>mr});var n=r(465),o=r(297),i=r(549);t=r.hmd(t);const a=r(565).i8;class c extends n.DOMWidgetModel{defaults(){return{...super.defaults(),_model_name:"VueWidgetModel",_view_name:"VueWidgetView",_model_module:"ipymuvue",_view_module:"ipymuvue",_model_module_version:`~${a}`,_view_module_version:`~${a}`,_VueWidget__type:"VueWidget",_VueWidget__template:"<div>â€¦</div>",_VueWidget__methods:[],_VueWidget__components:{},_VueWidget__assets:{},_VueWidget__children:{}}}get reactiveState(){const t=["layout",...Object.keys(this.defaults())];return Object.fromEntries(this.keys().filter((e=>!t.includes(e))).map((t=>[t,this.get(t)])))}get methods(){var t=this;const e=this.get("_VueWidget__methods");return Object.fromEntries(e.map((e=>[e,function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.callback(e,n||[])}])))}callback(t,e){this.send({method:t,args:e},this.callbacks())}}class u{constructor(t){this.FS=t}async provision(t,e){-1!=t.lastIndexOf("/")&&await this.mkdir(t.substring(0,t.lastIndexOf("/")));const r=this.FS.analyzePath(t,!0),n={replaced:!1,abspath:r.path};if(r.exists){if(u.equal(this.FS.readFile(t),e.buffer))return n;n.replaced=!0}return this.FS.writeFile(t,new Uint8Array(e.buffer),{encoding:"binary"}),n}async mkdir(t){-1!=t.lastIndexOf("/")&&await this.mkdir(t.substring(0,t.lastIndexOf("/"))),this.FS.analyzePath(t,!0).exists||await this.FS.mkdir(t)}static equal(t,e){if(t.byteLength!==e.byteLength)return!1;const r=new Uint8Array(t),n=new Uint8Array(e);return r.every(((t,e)=>t===n[e]))}}class s{constructor(t,e,r){this.name=t,this.url=e,this.integrity=r}get object(){return(async()=>{const t=window;return"function"==typeof t.requirejs?await this.loadRequireJS(t.requirejs):await this.loadBrowser()})()}async loadRequireJS(t){if(!this.url.endsWith(".js"))throw Error("url must end with .js to be loaded through RequireJS");return t.config({paths:{[this.name]:this.url.substring(0,this.url.length-3)},onNodeCreated:function(t,e,r,n){r===this.name&&(this.integrity&&(t.integrity=this.integrity),t.crossOrigin="anonymous")}}),await new Promise(((e,r)=>{t([this.name],(function(t){e(t)}),(function(t){r(t)}))}))}async loadBrowser(){const t=document.createElement("script"),e=new Promise(((e,r)=>{t.addEventListener("load",(()=>e())),t.addEventListener("error",(()=>r()))}));return t.async=!0,t.src=this.url,this.integrity&&(t.integrity=this.integrity),t.crossOrigin="anonymous",document.head.appendChild(t),await e,window}}function l(t,e){return t===e||t!=t&&e!=e}function f(t,e){for(var r=t.length;r--;)if(l(t[r][0],e))return r;return-1}var d=Array.prototype.splice;function p(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}p.prototype.clear=function(){this.__data__=[],this.size=0},p.prototype.delete=function(t){var e=this.__data__,r=f(e,t);return!(r<0||(r==e.length-1?e.pop():d.call(e,r,1),--this.size,0))},p.prototype.get=function(t){var e=this.__data__,r=f(e,t);return r<0?void 0:e[r][1]},p.prototype.has=function(t){return f(this.__data__,t)>-1},p.prototype.set=function(t,e){var r=this.__data__,n=f(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var h="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,y="object"==typeof self&&self&&self.Object===Object&&self,b=h||y||Function("return this")(),v=b.Symbol,_=Object.prototype,g=_.hasOwnProperty,j=_.toString,m=v?v.toStringTag:void 0,w=Object.prototype.toString,O=v?v.toStringTag:void 0;function A(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":O&&O in Object(t)?function(t){var e=g.call(t,m),r=t[m];try{t[m]=void 0;var n=!0}catch(t){}var o=j.call(t);return n&&(e?t[m]=r:delete t[m]),o}(t):function(t){return w.call(t)}(t)}function S(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function x(t){if(!S(t))return!1;var e=A(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var E,V=b["__core-js_shared__"],W=(E=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",C=Function.prototype.toString;function P(t){if(null!=t){try{return C.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var z=/^\[object .+?Constructor\]$/,F=Function.prototype,k=Object.prototype,M=F.toString,$=k.hasOwnProperty,I=RegExp("^"+M.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function D(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!S(t)||(e=t,W&&W in e))&&(x(t)?I:z).test(P(t));var e}(r)?r:void 0}var R=D(b,"Map"),U=D(Object,"create"),B=Object.prototype.hasOwnProperty,T=Object.prototype.hasOwnProperty;function L(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function q(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function J(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function N(t){var e=this.__data__=new p(t);this.size=e.size}L.prototype.clear=function(){this.__data__=U?U(null):{},this.size=0},L.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},L.prototype.get=function(t){var e=this.__data__;if(U){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return B.call(e,t)?e[t]:void 0},L.prototype.has=function(t){var e=this.__data__;return U?void 0!==e[t]:T.call(e,t)},L.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=U&&void 0===e?"__lodash_hash_undefined__":e,this},J.prototype.clear=function(){this.size=0,this.__data__={hash:new L,map:new(R||p),string:new L}},J.prototype.delete=function(t){var e=q(this,t).delete(t);return this.size-=e?1:0,e},J.prototype.get=function(t){return q(this,t).get(t)},J.prototype.has=function(t){return q(this,t).has(t)},J.prototype.set=function(t,e){var r=q(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},N.prototype.clear=function(){this.__data__=new p,this.size=0},N.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},N.prototype.get=function(t){return this.__data__.get(t)},N.prototype.has=function(t){return this.__data__.has(t)},N.prototype.set=function(t,e){var r=this.__data__;if(r instanceof p){var n=r.__data__;if(!R||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new J(n)}return r.set(t,e),this.size=r.size,this};var G=function(){try{var t=D(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function Y(t,e,r){"__proto__"==e&&G?G(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var H=Object.prototype.hasOwnProperty;function K(t,e,r){var n=t[e];H.call(t,e)&&l(n,r)&&(void 0!==r||e in t)||Y(t,e,r)}function Q(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var c=e[i],u=n?n(r[c],t[c],c,r,t):void 0;void 0===u&&(u=t[c]),o?Y(r,c,u):K(r,c,u)}return r}function X(t){return null!=t&&"object"==typeof t}function Z(t){return X(t)&&"[object Arguments]"==A(t)}var tt=Object.prototype,et=tt.hasOwnProperty,rt=tt.propertyIsEnumerable,nt=Z(function(){return arguments}())?Z:function(t){return X(t)&&et.call(t,"callee")&&!rt.call(t,"callee")},ot=Array.isArray,it="object"==typeof exports&&exports&&!exports.nodeType&&exports,at=it&&t&&!t.nodeType&&t,ct=at&&at.exports===it?b.Buffer:void 0,ut=(ct?ct.isBuffer:void 0)||function(){return!1},st=/^(?:0|[1-9]\d*)$/;function lt(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&st.test(t))&&t>-1&&t%1==0&&t<e}function ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var dt={};function pt(t){return function(e){return t(e)}}dt["[object Float32Array]"]=dt["[object Float64Array]"]=dt["[object Int8Array]"]=dt["[object Int16Array]"]=dt["[object Int32Array]"]=dt["[object Uint8Array]"]=dt["[object Uint8ClampedArray]"]=dt["[object Uint16Array]"]=dt["[object Uint32Array]"]=!0,dt["[object Arguments]"]=dt["[object Array]"]=dt["[object ArrayBuffer]"]=dt["[object Boolean]"]=dt["[object DataView]"]=dt["[object Date]"]=dt["[object Error]"]=dt["[object Function]"]=dt["[object Map]"]=dt["[object Number]"]=dt["[object Object]"]=dt["[object RegExp]"]=dt["[object Set]"]=dt["[object String]"]=dt["[object WeakMap]"]=!1;var ht="object"==typeof exports&&exports&&!exports.nodeType&&exports,yt=ht&&t&&!t.nodeType&&t,bt=yt&&yt.exports===ht&&h.process,vt=function(){try{return yt&&yt.require&&yt.require("util").types||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),_t=vt&&vt.isTypedArray,gt=_t?pt(_t):function(t){return X(t)&&ft(t.length)&&!!dt[A(t)]},jt=Object.prototype.hasOwnProperty;function mt(t,e){var r=ot(t),n=!r&&nt(t),o=!r&&!n&&ut(t),i=!r&&!n&&!o&&gt(t),a=r||n||o||i,c=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=c.length;for(var s in t)!e&&!jt.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||lt(s,u))||c.push(s);return c}var wt=Object.prototype;function Ot(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function At(t,e){return function(r){return t(e(r))}}var St=At(Object.keys,Object),xt=Object.prototype.hasOwnProperty;function Et(t){return null!=t&&ft(t.length)&&!x(t)}function Vt(t){return Et(t)?mt(t):function(t){if(!Ot(t))return St(t);var e=[];for(var r in Object(t))xt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}var Wt=Object.prototype.hasOwnProperty;function Ct(t){return Et(t)?mt(t,!0):function(t){if(!S(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Ot(t),r=[];for(var n in t)("constructor"!=n||!e&&Wt.call(t,n))&&r.push(n);return r}(t)}var Pt="object"==typeof exports&&exports&&!exports.nodeType&&exports,zt=Pt&&t&&!t.nodeType&&t,Ft=zt&&zt.exports===Pt?b.Buffer:void 0,kt=Ft?Ft.allocUnsafe:void 0;function Mt(){return[]}var $t=Object.prototype.propertyIsEnumerable,It=Object.getOwnPropertySymbols,Dt=It?function(t){return null==t?[]:(t=Object(t),function(e,r){for(var n=-1,o=null==e?0:e.length,i=0,a=[];++n<o;){var c=e[n];u=c,$t.call(t,u)&&(a[i++]=c)}var u;return a}(It(t)))}:Mt;function Rt(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var Ut=At(Object.getPrototypeOf,Object),Bt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Rt(e,Dt(t)),t=Ut(t);return e}:Mt;function Tt(t,e,r){var n=e(t);return ot(t)?n:Rt(n,r(t))}function Lt(t){return Tt(t,Vt,Dt)}function qt(t){return Tt(t,Ct,Bt)}var Jt=D(b,"DataView"),Nt=D(b,"Promise"),Gt=D(b,"Set"),Yt=D(b,"WeakMap"),Ht="[object Map]",Kt="[object Promise]",Qt="[object Set]",Xt="[object WeakMap]",Zt="[object DataView]",te=P(Jt),ee=P(R),re=P(Nt),ne=P(Gt),oe=P(Yt),ie=A;(Jt&&ie(new Jt(new ArrayBuffer(1)))!=Zt||R&&ie(new R)!=Ht||Nt&&ie(Nt.resolve())!=Kt||Gt&&ie(new Gt)!=Qt||Yt&&ie(new Yt)!=Xt)&&(ie=function(t){var e=A(t),r="[object Object]"==e?t.constructor:void 0,n=r?P(r):"";if(n)switch(n){case te:return Zt;case ee:return Ht;case re:return Kt;case ne:return Qt;case oe:return Xt}return e});var ae=ie,ce=Object.prototype.hasOwnProperty,ue=b.Uint8Array;function se(t){var e=new t.constructor(t.byteLength);return new ue(e).set(new ue(t)),e}var le=/\w*$/,fe=v?v.prototype:void 0,de=fe?fe.valueOf:void 0;var pe=Object.create,he=function(){function t(){}return function(e){if(!S(e))return{};if(pe)return pe(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),ye=vt&&vt.isMap,be=ye?pt(ye):function(t){return X(t)&&"[object Map]"==ae(t)},ve=vt&&vt.isSet,_e=ve?pt(ve):function(t){return X(t)&&"[object Set]"==ae(t)},ge="[object Arguments]",je="[object Function]",me="[object Object]",we={};function Oe(t,e,r,n,o,i){var a,c=1&e,u=2&e,s=4&e;if(r&&(a=o?r(t,n,o,i):r(t)),void 0!==a)return a;if(!S(t))return t;var l=ot(t);if(l){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&ce.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!c)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,a)}else{var f=ae(t),d=f==je||"[object GeneratorFunction]"==f;if(ut(t))return function(t,e){if(e)return t.slice();var r=t.length,n=kt?kt(r):new t.constructor(r);return t.copy(n),n}(t,c);if(f==me||f==ge||d&&!o){if(a=u||d?{}:function(t){return"function"!=typeof t.constructor||Ot(t)?{}:he(Ut(t))}(t),!c)return u?function(t,e){return Q(t,Bt(t),e)}(t,function(t,e){return t&&Q(e,Ct(e),t)}(a,t)):function(t,e){return Q(t,Dt(t),e)}(t,function(t,e){return t&&Q(e,Vt(e),t)}(a,t))}else{if(!we[f])return o?t:{};a=function(t,e,r){var n,o,i,a=t.constructor;switch(e){case"[object ArrayBuffer]":return se(t);case"[object Boolean]":case"[object Date]":return new a(+t);case"[object DataView]":return function(t,e){var r=e?se(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?se(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(t);case"[object RegExp]":return(i=new(o=t).constructor(o.source,le.exec(o))).lastIndex=o.lastIndex,i;case"[object Symbol]":return n=t,de?Object(de.call(n)):{}}}(t,f,c)}}i||(i=new N);var p=i.get(t);if(p)return p;i.set(t,a),_e(t)?t.forEach((function(n){a.add(Oe(n,e,r,n,t,i))})):be(t)&&t.forEach((function(n,o){a.set(o,Oe(n,e,r,o,t,i))}));var h=l?void 0:(s?u?qt:Lt:u?Ct:Vt)(t);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r););}(h||t,(function(n,o){h&&(n=t[o=n]),K(a,o,Oe(n,e,r,o,t,i))})),a}function Ae(t){return Oe(t,5)}we[ge]=we["[object Array]"]=we["[object ArrayBuffer]"]=we["[object DataView]"]=we["[object Boolean]"]=we["[object Date]"]=we["[object Float32Array]"]=we["[object Float64Array]"]=we["[object Int8Array]"]=we["[object Int16Array]"]=we["[object Int32Array]"]=we["[object Map]"]=we["[object Number]"]=we[me]=we["[object RegExp]"]=we["[object Set]"]=we["[object String]"]=we["[object Symbol]"]=we["[object Uint8Array]"]=we["[object Uint8ClampedArray]"]=we["[object Uint16Array]"]=we["[object Uint32Array]"]=!0,we["[object Error]"]=we[je]=we["[object WeakMap]"]=!1;var Se=Object.freeze({__proto__:null,Vue:o,withArity:function(t,e){if(2===e){function r(e,r){return t(e,r)}return r}throw Error("not implemented")},asVueCompatibleFunction:function(t,e,r){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r(t(...o.map((t=>e(t)))))}},cloneDeep:Ae,clone:function(t){return Oe(t,4)}});const xe="https://cdn.jsdelivr.net/pyodide/v0.21.0a3/full";class Ee{static instance=null;static provisioned=new Set;async provisionAssets(t){const e=await this.pyodide,r=await this.modules,n=new u(e.FS);let o=!1;for(const[e,r]of Object.entries(t)){const t=await n.provision(e,r);Ee.provisioned.add(t.abspath),t.replaced&&(console.info(`replaced modified asset ${e}`),console.warn(`will reload all modules because ${e} changed`),o=!0)}if(o)for(const[t,n]of Object.values(r))Ee.provisioned.has(n.__file__)&&(console.debug(`resetting ${n}`),e.pyimport("sys").modules.delete(t))}get modules(){return(async()=>{const t={},e=(await this.pyodide).pyimport("sys");for(const[r,n]of e.modules.items())"__file__"in n&&(t[n.__file__]=[r,n]);return t})()}get pyodide(){return null==Ee.instance&&(Ee.instance=(async()=>{const t=(await new s("pyodide",`${xe}/pyodide.js`).object).loadPyodide,e=await t({indexURL:`${xe}/`});return e.registerJsModule("ipymuvue_utils",Se),e})()),Ee.instance}}var Ve,We,Ce=Function.prototype.toString,Pe="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof Pe&&"function"==typeof Object.defineProperty)try{Ve=Object.defineProperty({},"length",{get:function(){throw We}}),We={},Pe((function(){throw 42}),null,Ve)}catch(t){t!==We&&(Pe=null)}else Pe=null;var ze=/^\s*class\b/,Fe=function(t){try{var e=Ce.call(t);return ze.test(e)}catch(t){return!1}},ke=Object.prototype.toString,Me="function"==typeof Symbol&&!!Symbol.toStringTag,$e="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{},Ie=Pe?function(t){if(t===$e)return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;try{Pe(t,null,Ve)}catch(t){if(t!==We)return!1}return!Fe(t)}:function(t){if(t===$e)return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(Me)return function(t){try{return!Fe(t)&&(Ce.call(t),!0)}catch(t){return!1}}(t);if(Fe(t))return!1;var e=ke.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e};class De{constructor(t){this.assets=t||{},this.pyodide=new Ee}compile(t){return(0,o.defineAsyncComponent)((()=>this.compileAsync(t)))}async compileAsync(t){if("string"==typeof t){const e={moduleCache:{vue:o},getFile:async t=>{const e=t.toString();return{getContentData:async t=>{const r=Ie(this.assets)?this.assets(e):this.assets[e];if(r){if(!(r.buffer instanceof ArrayBuffer))throw Error(`asset of incorrect type: ${r}`);return t?r.buffer:(new TextDecoder).decode(r.buffer)}if(e.startsWith("https://")){const t=await fetch(e);return await t.text()}throw Error(`cannot resolve ${e} from provided assets`)},type:e.includes(".")?"."+e.split(".").pop():""}},addStyle(t){const e=Object.assign(document.createElement("style"),{textContent:t});document.head.appendChild(e)},handleModule:async(t,e,r)=>{const n=r.toString();if(".py"===t){const t=await e(!0);if("string"==typeof t)throw Error("getContentData(true) should have returned binary data but found a literal string instead");if(await this.pyodide.provisionAssets({[n]:new DataView(t)}),this.assets instanceof Function||await this.pyodide.provisionAssets(this.assets),(await this.pyodide.pyodide).registerJsModule("ipymuvue_vue_component_compiler",{VueComponentCompiler:De}),!n.endsWith(".py"))throw Error("Python file must end in .py");const r=n.replace(/\//g,".").substring(0,n.length-3);return(await this.pyodide.pyodide).pyimport(r)}},getResource(t,e){throw Error("not implemented")},pathResolve(t){throw Error("not implemented")}};delete e.getResource,delete e.pathResolve;const r=await(0,i.loadModule)(t,e);return t.toLowerCase().endsWith(".py")?r.component:r}{const e=t;return(async()=>Object.fromEntries(await Promise.all(Object.entries(e).map((async t=>{let[e,r]=t;return[e,await this.compileAsync(r)]})))))()}}}function Re(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new J;++e<r;)this.add(t[e])}function Ue(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Be(t,e,r,n,o,i){var a=1&r,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var s=i.get(t),l=i.get(e);if(s&&l)return s==e&&l==t;var f=-1,d=!0,p=2&r?new Re:void 0;for(i.set(t,e),i.set(e,t);++f<c;){var h=t[f],y=e[f];if(n)var b=a?n(y,h,f,e,t,i):n(h,y,f,t,e,i);if(void 0!==b){if(b)continue;d=!1;break}if(p){if(!Ue(e,(function(t,e){if(a=e,!p.has(a)&&(h===t||o(h,t,r,n,i)))return p.push(e);var a}))){d=!1;break}}else if(h!==y&&!o(h,y,r,n,i)){d=!1;break}}return i.delete(t),i.delete(e),d}function Te(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function Le(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}Re.prototype.add=Re.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Re.prototype.has=function(t){return this.__data__.has(t)};var qe=v?v.prototype:void 0,Je=qe?qe.valueOf:void 0,Ne=Object.prototype.hasOwnProperty,Ge="[object Arguments]",Ye="[object Array]",He="[object Object]",Ke=Object.prototype.hasOwnProperty;function Qe(t,e,r,n,o){return t===e||(null==t||null==e||!X(t)&&!X(e)?t!=t&&e!=e:function(t,e,r,n,o,i){var a=ot(t),c=ot(e),u=a?Ye:ae(t),s=c?Ye:ae(e),f=(u=u==Ge?He:u)==He,d=(s=s==Ge?He:s)==He,p=u==s;if(p&&ut(t)){if(!ut(e))return!1;a=!0,f=!1}if(p&&!f)return i||(i=new N),a||gt(t)?Be(t,e,r,n,o,i):function(t,e,r,n,o,i,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new ue(t),new ue(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return l(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Te;case"[object Set]":var u=1&n;if(c||(c=Le),t.size!=e.size&&!u)return!1;var s=a.get(t);if(s)return s==e;n|=2,a.set(t,e);var f=Be(c(t),c(e),n,o,i,a);return a.delete(t),f;case"[object Symbol]":if(Je)return Je.call(t)==Je.call(e)}return!1}(t,e,u,r,n,o,i);if(!(1&r)){var h=f&&Ke.call(t,"__wrapped__"),y=d&&Ke.call(e,"__wrapped__");if(h||y){var b=h?t.value():t,v=y?e.value():e;return i||(i=new N),o(b,v,r,n,i)}}return!!p&&(i||(i=new N),function(t,e,r,n,o,i){var a=1&r,c=Lt(t),u=c.length;if(u!=Lt(e).length&&!a)return!1;for(var s=u;s--;){var l=c[s];if(!(a?l in e:Ne.call(e,l)))return!1}var f=i.get(t),d=i.get(e);if(f&&d)return f==e&&d==t;var p=!0;i.set(t,e),i.set(e,t);for(var h=a;++s<u;){var y=t[l=c[s]],b=e[l];if(n)var v=a?n(b,y,l,e,t,i):n(y,b,l,t,e,i);if(!(void 0===v?y===b||o(y,b,r,n,i):v)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var _=t.constructor,g=e.constructor;_==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g||(p=!1)}return i.delete(t),i.delete(e),p}(t,e,r,n,o,i))}(t,e,r,n,Qe,o))}function Xe(t){return t==t&&!S(t)}function Ze(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}function tr(t){return"symbol"==typeof t||X(t)&&"[object Symbol]"==A(t)}var er=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rr=/^\w*$/;function nr(t,e){if(ot(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!tr(t))||rr.test(t)||!er.test(t)||null!=e&&t in Object(e)}function or(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(or.Cache||J),r}or.Cache=J;var ir,ar,cr,ur=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sr=/\\(\\)?/g,lr=(ir=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ur,(function(t,r,n,o){e.push(n?o.replace(sr,"$1"):r||t)})),e},ar=or(ir,(function(t){return 500===cr.size&&cr.clear(),t})),cr=ar.cache,ar),fr=v?v.prototype:void 0,dr=fr?fr.toString:void 0;function pr(t){if("string"==typeof t)return t;if(ot(t))return function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}(t,pr)+"";if(tr(t))return dr?dr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function hr(t,e){return ot(t)?t:nr(t,e)?[t]:lr(function(t){return null==t?"":pr(t)}(t))}function yr(t){if("string"==typeof t||tr(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function br(t,e){for(var r=0,n=(e=hr(e,t)).length;null!=t&&r<n;)t=t[yr(e[r++])];return r&&r==n?t:void 0}function vr(t,e){return null!=t&&e in Object(t)}function _r(t,e){return nr(t)&&Xe(e)?Ze(yr(t),e):function(r){var n=function(t,e,r){var n=null==t?void 0:br(t,e);return void 0===n?void 0:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){for(var n=-1,o=(e=hr(e,t)).length,i=!1;++n<o;){var a=yr(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&ft(o)&&lt(a,o)&&(ot(t)||nt(t))}(t,e,vr)}(r,t):Qe(e,n,3)}}function gr(t){return t}function jr(t,e){var r,n,o,i,a,c={};return e="function"==typeof(r=e)?r:null==r?gr:"object"==typeof r?ot(r)?_r(r[0],r[1]):(a=function(t){for(var e=Vt(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,Xe(o)]}return e}(i=r),1==a.length&&a[0][2]?Ze(a[0][0],a[0][1]):function(t){return t===i||function(t,e,r,n){var o=r.length,i=o;if(null==t)return!i;for(t=Object(t);o--;){var a=r[o];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=r[o])[0],u=t[c],s=a[1];if(a[2]){if(void 0===u&&!(c in t))return!1}else{var l,f=new N;if(!(void 0===l?Qe(s,u,3,n,f):l))return!1}}return!0}(t,0,a)}):nr(n=r)?(o=yr(n),function(t){return null==t?void 0:t[o]}):function(t){return function(e){return br(e,t)}}(n),function(t,e){t&&function(t,e,r){for(var n=-1,o=Object(t),i=r(t),a=i.length;a--;){var c=i[++n];if(!1===e(o[c],c,o))break}}(t,e,Vt)}(t,(function(t,r,n){Y(c,r,e(t,r,n))})),c}class mr extends n.DOMWidgetView{render(){super.render(),(async()=>{await this.displayed;const t=document.createElement("div");if(this.el.appendChild(t),!(this.model instanceof c))throw Error("VueWidgetView can only be created from a VueWidgetModel");const e=await this.container,r=(0,o.createApp)((()=>(0,o.h)(e)));r.mount(t),this.app=r})()}remove(){var t;return null===(t=this.app)||void 0===t||t.unmount(),super.remove()}get component(){return(async()=>{const t=this,e=this.model,r=this.model.get("_VueWidget__components");return(0,o.defineComponent)({name:e.get("_VueWidget__type"),template:e.get("_VueWidget__template"),data:()=>Ae(e.reactiveState),created(){for(const r of Object.keys(e.reactiveState))t.listenTo(t.model,`change:${r}`,(()=>t.onModelChange(r,this))),this.$watch(r,(()=>t.onDataChange(r,this)))},components:await new De(this.model.get("_VueWidget__assets")).compileAsync(r),methods:e.methods})})()}get container(){return(async()=>{const t=this,e=await this.component,r=this.modelRenderer;return(0,o.defineComponent)({name:"VueWidgetContainer",data:()=>({children:{}}),created(){const e=()=>t.onModelChange("_VueWidget__children",this,"children");t.listenTo(t.model,"change:_VueWidget__children",e),e()},render(){return(0,o.h)(e,null,jr(this.children,(t=>()=>(0,o.h)(r,{modelId:t.substring("IPY_MODEL_".length)}))))}})})()}get modelRenderer(){const t=this;return(0,o.defineComponent)({name:"ModelRenderer",props:{modelId:String},data:()=>({widget:null,trash:Object.freeze({views:[]})}),watch:{modelId:{async handler(e,r){if(e===r)return;const n=await t.model.widget_manager.get_model(e);if(void 0===n)return console.error(`ignoring child ${e} which has not active model`),null;null!=this.widget&&this.trash.views.push(this.widget.view),this.widget=Object.freeze({view:await t.create_child_view(n)})},immediate:!0}},render(){const t=this,e=this.widget;if(null!=e)return(0,o.h)((0,o.defineComponent)({mounted(){n.JupyterPhosphorWidget.attach(e.view.pWidget,this.$el),t.cleanup()},render:()=>(0,o.h)("div")}));this.cleanup()},destroyed(){this.cleanup()},methods:{cleanup(){for(;this.trash.views.length;)this.trash.views.pop().remove()}}})}onModelChange(t,e,r){e[r||t]=Ae(this.model.get(t))}onDataChange(t,e){const r=e[t];this.model.set(t,void 0===r?null:Ae(r)),this.model.save_changes()}}},565:t=>{t.exports={i8:"0.0.4"}}}]);