"use strict";(self.webpackChunknni_webui=self.webpackChunknni_webui||[]).push([[81],{7691:function(e,t,a){var n=a(15201),r=a(9711),l=a.n(r),i=a(41218),s=a(41188),c=a(66630),o=a(56465);t.Z=e=>{const{value:t,hideTooltip:a}=e,r=(0,n.useRef)(null);return n.createElement("div",null,n.createElement(i.h,{iconProps:{iconName:"Copy"},styles:{icon:[{fontSize:s.TS.small}]},onClick:e=>{e.stopPropagation(),l()(t),r.current&&r.current.show(),setTimeout((()=>{null!==r.current&&r.current.dismiss()}),1e3)},onMouseDown:e=>{e.stopPropagation()},onMouseUp:e=>{e.stopPropagation()}}),n.createElement(c.G,{hidden:a,content:"Copied",componentRef:r,delay:0,tooltipProps:o.$8}))}},3813:function(e,t,a){a.d(t,{Z:function(){return C}});var n=a(15201),r=a(5975),l=a(61017),i=a(6316),s=a(12673),c=a(50691),o=a(2419),m=a(9775),d=a(9711),u=a.n(d),p=a(20338),E=a(56465),v=a(66904),g=a(75091),h=a(43520);var N=e=>{const{logStr:t,logName:a}=e,l=t.toLowerCase().startsWith("http");return n.createElement(r.K,{horizontal:!0,className:"logpath",tokens:h.W},n.createElement("span",{className:"logName"},a),l?n.createElement("a",{className:"link",rel:"noopener noreferrer",href:t,target:"_blank"},t):n.createElement("span",{className:"fontColor333"},t))};var f=e=>{const{logStr:t}=e,a=-1!==t.indexOf(",");return n.createElement("div",null,a?n.createElement("div",null,n.createElement(N,{logStr:t.split(",")[0],logName:"Trial stdout:"}),n.createElement(N,{logStr:t.split(",")[1],logName:"Log on NFS:"})):n.createElement(N,{logStr:t,logName:"Trial stdout:"}))},x=a(60196),y=a(83105);a(63573);var b=e=>{const[t,a]=(0,n.useState)(window.innerHeight),l=()=>{a(window.innerHeight)};(0,n.useEffect)((()=>(window.addEventListener("resize",l),window.removeEventListener("resize",l))),[]);const{hideConfigPanel:i,panelName:s,panelContent:c}=e,o=(0,g.yG)(t);return n.createElement(r.K,null,n.createElement(x.s,{isOpen:!0,hasCloseButton:!1,isFooterAtBottom:!0,isLightDismiss:!0,onLightDismissClick:i},n.createElement("div",{className:"panel"},n.createElement("div",null,n.createElement("div",{className:"panelName"},s),n.createElement(y.ZP,{height:o,language:"json",theme:"vs-light",value:c,options:{minimap:{enabled:!1},readOnly:!0,automaticLayout:!0,wordWrap:"on"}})),n.createElement(m.K,{text:"Close",className:"configClose",onClick:i}))))};a(18433);var C=e=>{const[t,a]=(0,n.useState)(""),[d,x]=(0,n.useState)(""),[y,C]=(0,n.useState)(!0),[k,w]=(0,n.useState)(!1),S=e.trialId,T=v.F.getTrial(S),O=T.info.logPath||"This trial's log path is not available.",D=T.parameter,I=E.qp in D,z=()=>{C(!0)},P=(e,t)=>{a(t),x(e),C(!1),setTimeout(z,2e3)},R=t=>{window.open(`${E.zU}/trial-file/${e.trialId}/${t}`)};return n.createElement(r.K,{className:"openRow"},n.createElement(r.K,{className:"openRowContent"},n.createElement(l.o,null,n.createElement(i.M,{headerText:"Parameters",key:"1",itemIcon:"TestParameter"},void 0!==T.info.hyperParameters?n.createElement(r.K,{tokens:h.W},n.createElement("div",{className:"bgHyper"},n.createElement(p.L,{hideRoot:!0,shouldExpandNodeInitially:()=>!0,getItemString:()=>null,data:(0,g.cJ)(D)})),n.createElement(r.K,{horizontal:!0,className:"copy",tokens:h.w},n.createElement(s.a,{onClick:(e=>{const t=JSON.stringify((0,g.cJ)(e.parameter),null,4);u()(t)?P("Successfully copy parameters to clipboard in form of python dict!","success"):P("Failed!","error")}).bind(void 0,T),text:"Copy as json"}),I&&n.createElement(s.a,{onClick:()=>{w(!0)},text:"Original parameters"}),!y&&n.createElement("div",{style:{width:400}},n.createElement(c.c,{messageBarType:o.f[t]},d)),k&&n.createElement(b,{hideConfigPanel:()=>{w(!1)},panelName:"Retiarii parameters",panelContent:JSON.stringify(D,null,2)}))):n.createElement(r.K,{horizontal:!0,className:"logpath",tokens:h.W},n.createElement("span",{className:"logName"},"Error: "),n.createElement("span",{className:"error"},"This trial's parameters are not available."))),n.createElement(i.M,{headerText:"Log",key:"2",itemIcon:"M365InvoicingLogo"},"local"!==v.O.trainingServicePlatform?n.createElement(f,{logStr:O}):n.createElement(N,{logStr:O,logName:"LogPath:"}),"local"===v.O.trainingServicePlatform||"remote"===v.O.trainingServicePlatform?n.createElement(r.K,{horizontal:!0,tokens:h.w,style:{marginLeft:10}},n.createElement(m.K,{onClick:R.bind(void 0,"trial.log"),text:"View trial log"}),n.createElement(m.K,{onClick:R.bind(void 0,"stderr"),text:"View trial error"}),n.createElement(m.K,{onClick:R.bind(void 0,"stdout"),text:"View trial stdout"})):null),v.O.metadata.tag.includes("retiarii")?n.createElement(i.M,{headerText:"Visualization",key:"3",itemIcon:"FlowChart"},n.createElement(r.K,{tokens:h.W},n.createElement("div",null,"Visualize models with 3rd-party tools."),n.createElement(m.K,{onClick:(()=>{window.open(`/netron/index.html?url=${E.zU}/trial-file/${e.trialId}/model.onnx`)}).bind(void 0),text:"Netron",styles:{root:{width:88}}}))):null)))}},43520:function(e,t,a){a.d(t,{W:function(){return r},w:function(){return n}});const n={childrenGap:10},r={childrenGap:10,padding:10}},28622:function(e,t,a){var n=a(15201),r=a(56465),l=a(66630),i=a(81042);t.Z=e=>{const{value:t}=e,a=String(t).length;return n.createElement(n.Fragment,null,a>=15?n.createElement("div",null,n.createElement(l.G,{content:t,directionalHint:i.b.bottomLeftEdge,tooltipProps:r.$8},n.createElement("div",{className:"ellipsis name"},t))):n.createElement("div",{className:"name"},t))}},31520:function(e,t,a){a.d(t,{W:function(){return l}});var n=a(41188);const r=(0,n.gh)(),l=(0,n.ZC)({buttonArea:{verticalAlign:"top",display:"inline-block",textAlign:"center",minWidth:30,height:30},callout:{maxWidth:300},header:{padding:"18px 24px 12px"},title:[r.fonts.xLarge,{margin:0,color:r.palette.neutralPrimary,fontWeight:n.lq.semilight}],inner:{height:"100%",padding:"0 24px 20px"},actions:{position:"relative",marginTop:20,width:"100%",whiteSpace:"nowrap"},subtext:[r.fonts.small,{margin:0,color:r.palette.neutralPrimary,fontWeight:n.lq.semilight}],link:[r.fonts.medium,{color:r.palette.neutralPrimary}],buttons:{display:"flex",justifyContent:"flex-end",padding:"0 24px 24px"}})},80081:function(e,t,a){a.r(t),a.d(t,{BestMetricContext:function(){return ee},default:function(){return te}});var n=a(15201),r=a(5975),l=a(12673),i=a(73407),s=a(66904),c=a(97704),o=a(79461),m=a(21788),d=a(78020),u=a(70572),p=a(44699),E=a(65658),v=a(59537),g=a(75091);var h=e=>{const t=s.F.getTrial(e.trialId).accuracy;return n.createElement("div",{className:"succeed-padding metric"},void 0!==t?(0,g.qh)(t):"--")},N=a(3813),f=a(7691),x=a(33607);a(16668),a(35329);const y=n.createElement(n.Fragment,null,"The experiment is running, please wait for the final metric patiently. You could also find status of trial job with ",n.createElement("span",null,x.fS)," button.");var b=e=>{const{trialIds:t,expandRowIDs:a,updateOverviewPage:l,changeExpandRowIDs:i}=e,[c,x]=(0,n.useState)(s.F.table(t)),[b,C]=(0,n.useState)({field:"",isDescend:!1}),k=(e,t)=>{i(t),l()},w=(e,t)=>{const a=T.slice(),n=a.filter((e=>t.key===e.key))[0];a.forEach((e=>{e===n?(n.isSortedDescending=!n.isSortedDescending,n.isSorted=!0):(e.isSorted=!1,e.isSortedDescending=!0)}));const r=(0,g.Lc)(c,n.fieldName,n.isSortedDescending);O(a),x(r),C({field:n.fieldName,isDescend:n.isSortedDescending})},S=[{key:"_expand",name:"",onRender:e=>n.createElement(o.J,{"aria-hidden":!0,iconName:"ChevronRight",styles:{root:{transition:"all 0.2s",transform:`rotate(${a.has(e.id)?90:0}deg)`}},className:"cursor bold positionTopSuccess",onClick:k.bind(void 0,Event,e.id)}),fieldName:"expand",isResizable:!1,minWidth:20,maxWidth:20},{name:"Trial No.",key:"sequenceId",fieldName:"sequenceId",minWidth:133,maxWidth:255,isResizable:!0,data:"number",onColumnClick:w,onRender:e=>n.createElement("div",{className:"No succeed-padding"},e.sequenceId)},{name:"ID",key:"id",fieldName:"id",minWidth:160,maxWidth:330,isResizable:!0,className:"tableHead leftTitle",data:"string",onColumnClick:w,onRender:e=>n.createElement(r.K,{horizontal:!0,className:"idCopy"},n.createElement("div",{className:"succeed-padding id"},e.id),n.createElement(f.Z,{value:e.id}))},{name:"Duration",key:"duration",minWidth:124,maxWidth:300,isResizable:!0,fieldName:"duration",data:"number",onColumnClick:w,onRender:e=>n.createElement("div",{className:"duration-global-color duration-list succeed-padding"},n.createElement("div",{dangerouslySetInnerHTML:{__html:(0,g.ln)(e.duration)}}))},{name:"Status",key:"status",minWidth:152,maxWidth:288,isResizable:!0,fieldName:"status",onRender:e=>n.createElement("span",{className:`${e.status} size16 succeed-padding`},e.status)},{name:"Default metric",key:"accuracy",fieldName:"accuracy",minWidth:132,maxWidth:200,isResizable:!0,data:"number",onColumnClick:w,onRender:e=>n.createElement(h,{trialId:e.id})}],[T,O]=(0,n.useState)(S),D=(0,g.Lc)(c,b.field,b.isDescend),I=0===c.length;return(0,n.useEffect)((()=>{x(s.F.table(t))}),[t]),n.createElement("div",{id:"succTable"},n.createElement(p.$,{className:"scrollPanel",scrollbarVisibility:E.g.auto},n.createElement(v.W,{columns:T,items:D,setKey:"set",onRenderRow:e=>e?n.createElement("div",null,n.createElement("div",null,n.createElement(u.X,e)),Array.from(a).map((t=>t===e.item.id&&n.createElement(N.Z,{key:t,trialId:t})))):null,onRenderDetailsHeader:(e,t)=>e?n.createElement(m.L,{stickyPosition:d.L.Header,isScrollSynced:!0},t({...e})):null,selectionMode:0,className:"succTable"})),I&&n.createElement("div",{className:"succTable-tooltip"},y))},C=a(33047),k=a(41218),w=a(51510),S=a(25140),T=a(91932),O=a(66886),D=a(31520),I=a(28622);var z=()=>{const e=s.O.profile.params.tuner,t=s.O.profile.params.advisor,a=s.O.profile.params.assessor,l=[],i=[];return void 0!==e&&(l.push("Tuner"),i.push(e.name||e.className||"unknown")),void 0!==t&&(l.push("Advisor"),i.push(t.name||t.className||"unknown")),void 0!==a&&(l.push("Assessor"),i.push(a.name||a.className||"unknown")),n.createElement(n.Fragment,null,n.createElement("div",{className:"bottomval"},n.createElement(r.K,{horizontal:!0,className:"experimentHead"},n.createElement("div",{className:"small-icon"},n.createElement("img",{src:((0,g.Gn)()||"")+"/icons/experiment-log-directory.png"})),n.createElement("div",null,n.createElement("p",{className:"basic font-untheme"},"Log directory"),n.createElement(I.Z,{value:s.O.profile.logDir||"unknown"})))),n.createElement("div",{className:"bottomval"},n.createElement(r.K,{horizontal:!0,className:"experimentHead"},n.createElement("div",{className:"small-icon"},n.createElement("img",{src:((0,g.Gn)()||"")+"/icons/experiment-trial-command.png"})),n.createElement("div",null,n.createElement("p",{className:"basic font-untheme"},"Trial command"),n.createElement(I.Z,{value:s.O.config.trialCommand||"unknown"})))),n.createElement("div",{className:"bottomval"},n.createElement(r.K,{horizontal:!0,className:"experimentHead"},n.createElement("div",{className:"small-icon"},n.createElement("img",{src:((0,g.Gn)()||"")+"/icons/experiment-platform.png"})),n.createElement("div",null,n.createElement("p",{className:"basic font-untheme"},"Training platform"),n.createElement("div",{className:"ellipsis name"},s.O.trainingServicePlatform)))),n.createElement("div",{className:"bottomval"},n.createElement(r.K,{horizontal:!0,className:"experimentHead"},n.createElement("div",{className:"small-icon"},n.createElement("img",{src:((0,g.Gn)()||"")+"/icons/experiment-tuner.png"})),n.createElement("div",null,n.createElement("p",{className:"basic font-untheme"},l.join("/")),n.createElement("div",{className:"ellipsis name"},i.join("/"))))))};a(81296);const P={childrenGap:4},R=()=>{const e=(0,T.M)("callout-label"),t=(0,T.M)("callout-description"),a=n.createRef(),[l,i]=(0,n.useState)(!1),[c,o]=(0,n.useState)(!1),m=(0,n.useCallback)((()=>i(!1)),[]),d=(0,n.useCallback)((()=>i(!0)),[]),u=(0,n.useCallback)((()=>o(!1)),[]),p=(0,n.useCallback)((()=>o(!0)),[]),{bestAccuracy:E}=(0,n.useContext)(ee);return n.createElement("div",null,n.createElement(r.K,{horizontal:!0,className:"experimentHead"},n.createElement("div",{className:"icon"},n.createElement("img",{src:((0,g.Gn)()||"")+"/icons/experiment-icon.png"})),n.createElement("div",null,n.createElement("h3",{className:"title"},s.O.profile.params.experimentName||"Experiment name"),n.createElement("div",{className:"id"},s.O.profile.id))),n.createElement(r.K,{horizontal:!0,horizontalAlign:"space-between",tokens:P,className:"focus-status-metric"},n.createElement("div",{style:{backgroundImage:`url(${((0,g.Gn)()||"")+"/icons/experiment-status.png"})`,backgroundRepeat:"no-repeat"}},n.createElement("span",{className:`${s.O.status} status-text focus-text`},s.O.status),"ERROR"===s.O.status?n.createElement("div",null,n.createElement("div",{className:`${D.W.buttonArea} error-info-icon`,ref:a},n.createElement(k.h,{iconProps:{iconName:"info"},onClick:l?m:d})),l&&n.createElement(w.U,{className:D.W.callout,ariaLabelledBy:e,ariaDescribedBy:t,role:"alertdialog",gapSpace:0,target:a,onDismiss:m,setInitialFocus:!0},n.createElement("div",{className:`${D.W.header} font`},n.createElement("p",{className:`${D.W.title} color333`,id:e},"Error")),n.createElement("div",{className:`${D.W.inner} font`},n.createElement("p",{className:`${D.W.subtext} color333`,id:t},s.O.error),n.createElement("div",{className:D.W.actions},n.createElement(S.r,{className:D.W.link,onClick:p},"Learn more"))))):null,n.createElement("div",{className:"description"},"Status")),n.createElement("div",{style:{backgroundImage:`url(${((0,g.Gn)()||"")+"/icons/best-metric-bg.png"})`,backgroundRepeat:"no-repeat"}},n.createElement("div",{className:"bestMetric"},n.createElement("div",{className:`${s.O.status} focus-text`},isNaN(E)?"N/A":E.toFixed(6)),n.createElement("div",{className:"description"},"Best metric")))),c?n.createElement(O.Z,{closePanel:u,activeTab:"dispatcher"}):null,n.createElement(z,null))},$=n.createContext({editType:"",field:"",title:"",maxExecDuration:"",maxTrialNum:0,trialConcurrency:0,updateOverviewPage:()=>{}});var M=a(92711),W=a(50691),K=a(2419),L=a(570),F=a(56465),A=a(42415);const G=[{key:"m",text:"min"},{key:"h",text:"hour"},{key:"d",text:"day"}];var H=a(75781);const Z={childrenGap:4},U=()=>{const e=n.useRef(null),[t,a]=(0,n.useState)(!0),[l,o]=(0,n.useState)(!1),[m,d]=(0,n.useState)(""),[u,p]=(0,n.useState)(""),E=(0,n.useCallback)((()=>{a(!0)}),[]),v=(0,n.useCallback)((()=>{a(!1)}),[]),g=(0,n.useCallback)((()=>o(!0)),[]),h=(0,n.useCallback)((()=>{o(!1)}),[]),{title:N,field:f,editType:x,maxExecDuration:y,maxTrialNum:b,trialConcurrency:C,updateOverviewPage:k}=(0,n.useContext)($),w=s.O.profile.params.maxExperimentDuration,{maxDurationUnit:S,changeMaxDurationUnit:T}=(0,n.useContext)(c.Il),[O,D]=(0,n.useState)(S);let I="",z="";"Max duration"===N?(I=y,z=y):N===F.Nn?(I=b.toString(),z=b.toString()):(I=C.toString(),z=C.toString());const[P,R]=(0,n.useState)(z);function U(e,t){p(e),d(t),g(),setTimeout(h,2e3)}function J(e,t,a){U(e,t),R(a)}return n.createElement(n.Fragment,null,n.createElement(r.K,{className:"edit-position"},n.createElement("div",{className:`${f} show-params cursor borderRadius`,onClick:v},n.createElement("span",{className:"title"},N),n.createElement("span",{className:"number"},z),"Max duration"===N&&n.createElement("span",{className:"unit borderRadius"},"d"===(q=S)?"day":"h"===q?"hour":"m"===q?"min":q)),!t&&n.createElement(r.K,{className:"edit-params cursor borderRadius",styles:{root:{animation:L.Wy.slideUpIn,animationDuration:L.S0.duration4,animationTimingFunction:L.D6.decelerate}},horizontal:!0,tokens:Z},n.createElement("input",{className:`${f} edit-input borderRadius`,ref:e,value:P,onChange:function(e){R(e.target.value)},onClick:()=>e.current.select()}),"Max duration"===N&&n.createElement(i.L,{selectedKey:O,options:G,className:"dropdown",onChange:function(e,t){void 0!==t&&D(t.key)}}),n.createElement("span",{className:"series"},n.createElement("span",{className:"confirm cursor",onClick:async function(){const e="Max duration"===N,t=Object.assign({},s.O.profile);let a="";if(e){if(!P.match(/^\d+(?=\.{0,1}\d+$|$)/))return void J("Please enter a number!","error",I);if((0,A.m)(`${P}${O}`)<s.O.profile.execDuration)return void J("Please input a valid value. (Current duration is more than the number you input.)","error",I)}else if(!P.match(/^[1-9]\d*$/))return void J("Please enter a positive integer!","error",I);if(a=e?y:N===F.Nn?b.toString():C.toString(),P===a){if(!e)return void U(`Trial ${f} has not changed`,"error");if(S===O)return void U(`Trial ${f} has not changed`,"error")}if(e){const e=JSON.parse(P);t.params[f]=`${e}${O}`}else t.params[f]=parseInt(P,10);try{200===(await M.Z.put(`${F.zU}/experiment`,t,{params:{update_type:x}})).status&&(e&&T(O),U(`Successfully updated experiment's ${f}`,"success"),k())}catch(n){n.response&&n.response.data.error?U(`Failed to update trial ${f}\n${n.response.data.error}`,"error"):n.response?U(`Failed to update trial ${f}\nServer responsed ${n.response.status}`,"error"):n.message?U(`Failed to update trial ${f}\n${n.message}`,"error"):U(`Failed to update trial ${f}\nUnknown error`,"error"),R(I),t.params[f]=e?w:a}E()}},H.Y_),n.createElement("span",{className:"cancel cursor",onClick:function(){R(I),E(),D(S)}},H.$j))),l&&n.createElement("div",{className:"info"},n.createElement(W.c,{messageBarType:K.f[m],style:{maxWidth:313,minWidth:272}},u))));var q};var J=a(74693);const q=e=>{switch(e){case"DONE":case"STOPPED":case"VIEWED":return"#00ad56";case"ERROR":return"#a4262c";default:return"#0071bc"}},_=()=>{const{maxDurationUnit:e,updateOverviewPage:t}=(0,n.useContext)(c.Il),a=s.O.maxExperimentDurationSeconds,l=s.O.profile.execDuration,i=l/a*100>100?100:l/a*100,o=(0,g.TZ)(e,a).toString();return n.createElement(n.Fragment,null,n.createElement("div",{className:"circle-progress"},n.createElement(J.Cd,{className:"progress",percent:i,trailWidth:10,strokeWidth:10,strokeColor:q(s.O.status),trailColor:"#F3F5F7",strokeLinecap:"square"}),n.createElement("div",{className:"text duration-global-color",dangerouslySetInnerHTML:{__html:(0,g.ln)(l)}})),n.createElement($.Provider,{value:{editType:F.Jw[0],field:"maxExperimentDuration",title:"Max duration",maxExecDuration:o,maxTrialNum:s.O.maxTrialNumber,trialConcurrency:s.O.profile.params.trialConcurrency,updateOverviewPage:t}},n.createElement(U,null)),n.createElement(r.K,{className:"time",horizontal:!0,horizontalAlign:"space-between"},n.createElement("div",null,n.createElement("div",{className:"font-untheme bg startMargin borderRadius"},"Start"),n.createElement("div",{className:"font-untheme bg borderRadius"},"End")),n.createElement("div",null,n.createElement("div",{className:"text startMargin"},(0,g.i$)(s.O.profile.startTime).split(",")[0]),n.createElement("div",{className:"text"},(0,g.i$)(s.O.profile.endTime).split(",")[0])),n.createElement("div",null,n.createElement("div",{className:"text startMargin"},(0,g.i$)(s.O.profile.startTime).split(",")[1]),n.createElement("div",{className:"text"},(0,g.i$)(s.O.profile.endTime).split(",")[1]))))};var B=a(21182);const j={childrenGap:60},V={childrenGap:13},Y=()=>{const{updateOverviewPage:e}=(0,n.useContext)(c.Il),t=s.F.countStatus(),a=t.get("USER_CANCELED")+t.get("SYS_CANCELED")+t.get("EARLY_STOPPED"),l=t.get("RUNNING")+t.get("SUCCEEDED")+t.get("FAILED")+a,i=s.O.maxTrialNumber,o=l/i;return n.createElement(n.Fragment,null,n.createElement(r.K,{horizontal:!0,horizontalAlign:"space-between",tokens:j,className:"count marginTop"},n.createElement("div",null,n.createElement("span",{className:"font-untheme size16 count-succeed"},"Succeeded"),n.createElement("p",{className:"size24 font-numbers-color succeed-trials-number"},t.get("SUCCEEDED")),n.createElement(B.Y,{className:`${s.O.status} fluent-progress`,percentComplete:o,barHeight:8}),n.createElement("div",null,n.createElement("span",{className:"complete-tirals"},l),n.createElement("span",{className:"font-untheme"},"/",i))),n.createElement("div",null,n.createElement("div",{className:"border run"}),n.createElement("div",{className:"font-untheme trial-status-style"},"Running"),n.createElement("p",{className:"size18 font-numbers-color"},t.get("RUNNING")),n.createElement("div",{className:"border stop marginTop"}),n.createElement("div",{className:"font-untheme trial-status-style"},"Stopped"),n.createElement("p",{className:"size18 font-numbers-color"},a)),n.createElement("div",{className:"numbers"},n.createElement("div",{className:"border wait"}),n.createElement("div",{className:"font-untheme trial-status-style"},"Waiting"),n.createElement("p",{className:"size18 font-numbers-color"},t.get("WAITING")),n.createElement("div",{className:"border failed marginTop"}),n.createElement("div",{className:"font-untheme trial-status-style"},"Failed"),n.createElement("p",{className:"size18 font-numbers-color"},t.get("FAILED")))),n.createElement(r.K,{horizontal:!0,className:"edit-numbers",tokens:V},n.createElement($.Provider,{value:{title:F.Nn,field:"maxTrialNumber",editType:F.Jw[1],maxExecDuration:"",maxTrialNum:s.O.maxTrialNumber,trialConcurrency:s.O.profile.params.trialConcurrency,updateOverviewPage:e}},n.createElement("div",{className:"maxTrialNum"},n.createElement(U,null))),n.createElement("div",{className:"concurrency"},n.createElement($.Provider,{value:{title:"Concurrency",field:"trialConcurrency",editType:F.Jw[2],maxExecDuration:"",maxTrialNum:s.O.maxTrialNumber,trialConcurrency:s.O.profile.params.trialConcurrency,updateOverviewPage:e}},n.createElement(U,null)))))};var X=a(43520);a(18433),a(32993);const Q=[{key:"10",text:"10"},{key:"20",text:"20"},{key:"30",text:"30"},{key:"50",text:"50"},{key:"100",text:"100"}],ee=n.createContext({bestAccuracy:0});var te=()=>{const{changeMetricGraphMode:e,changeEntries:t}=(0,n.useContext)(c.Il),a=(()=>{const e=s.F.sort(),{bestTrialEntries:t,metricGraphMode:a}=(0,n.useContext)(c.Il);return"Maximize"===a?e.reverse().splice(JSON.parse(t)):e.splice(JSON.parse(t)),e})(),o=a.length>0?a[0].accuracy:NaN,{metricGraphMode:m,bestTrialEntries:d,expandRowIDs:u,updateOverviewPage:p,changeExpandRowIDs:E}=(0,n.useContext)(c.Il);return n.createElement("div",{className:"overview"},n.createElement("div",{className:"overviewWrapper"},n.createElement("div",{className:"overviewBasicInfo left"},n.createElement(ee.Provider,{value:{bestAccuracy:o}},n.createElement(R,null))),n.createElement("div",{className:"duration left"},n.createElement("h3",{className:"title"},"Duration"),n.createElement(_,null)),n.createElement("div",{className:"trialCount left"},n.createElement("h3",{className:"title"},"Trial numbers"),n.createElement(Y,null)),n.createElement("div",{className:"overviewBestMetric"},n.createElement(r.K,{horizontal:!0,horizontalAlign:"space-between"},n.createElement("div",null,n.createElement("h3",{className:"title"},"Top trials",n.createElement("span",{className:"font-untheme"},d))),n.createElement(r.K,{horizontal:!0,horizontalAlign:"end",tokens:X.w},n.createElement(l.a,{text:"Maximize",className:"Maximize"===m?"active":"",styles:{root:{padding:"0 8px"}},iconProps:{iconName:"Market"},onClick:t=>{t.stopPropagation(),e("Maximize")}}),n.createElement(l.a,{text:"Minimize",className:"mincenter "+("Minimize"===m?"active":""),styles:{root:{padding:"0 8px"}},iconProps:{iconName:"MarketDown"},onClick:t=>{t.stopPropagation(),e("Minimize")}}),n.createElement("div",{className:"chooseEntry"},"Display top"),n.createElement("div",null,n.createElement(i.L,{selectedKey:d,options:Q,onChange:(e,a)=>{void 0!==a&&t(a.key)},styles:{root:{width:70}}})))),n.createElement("div",{className:"overviewChart"},n.createElement(C.Z,{trialIds:a.map((e=>e.info.trialJobId)),chartHeight:530,hasBestCurve:!1,changeExpandRowIDs:E}))),n.createElement("div",{className:"bestTable"},n.createElement(b,{trialIds:a.map((e=>e.info.trialJobId)),updateOverviewPage:p,expandRowIDs:u,changeExpandRowIDs:E}))))}},33047:function(e,t,a){var n=a(15201),r=a(5975),l=a(83579),i=a(73407),s=a(60006),c=a(97704),o=a(66904),m=a(75091),d=a(79267);a(83963),a(99058),a(97538);const u={grid:{left:"8%"},xAxis:{name:"Trial",type:"category"},yAxis:{name:"Default metric",type:"value"}},p=e=>void 0===e||isNaN(e)||!isFinite(e)?0:e,E=(e,t,a,n,r)=>{const l=o.F.getTrials(e).filter((e=>e.sortable));if(0===l.length)return u;const i=((e,t)=>({grid:{left:"8%"},tooltip:{trigger:"item",enterable:e,confine:!0,formatter:e=>`\n                <div class="tooldetailAccuracy">\n                    <div class='trial-No'>No. ${e.data[0]}</div>\n                    <div class='main'>\n                    <div><span>Trial ID: </span>${e.data[2]}</div>\n                    <div><span>${t}: </span>${e.data[1]}</div>\n                    <div><span>Parameters: </span><pre>${JSON.stringify((0,m.cJ)(e.data[3]),null,4)}</pre></div>\n                    <div>\n                </div>\n            `},dataZoom:[{type:"inside",yAxisIndex:[0],filterMode:"none",start:0,end:100}],xAxis:{name:"Trial",type:"category"},yAxis:{name:"Default metric",type:"value",scale:!0},series:void 0}))(t,a);return i.series=n?[g(l,a,r),v(l,a)]:[v(l,a)],i},v=(e,t)=>{let a;return a=e[0].accuracyNumberTypeDictKeys.length>1?e.map((e=>[e.sequenceId,void 0===e.acc?0:p(e.acc[t]),e.id,e.parameter])):e.map((e=>[e.sequenceId,p(e.accuracy),e.id,e.parameter])),{symbolSize:6,type:"scatter",data:a}},g=(e,t,a)=>{let n=e[0];const r=[[n.sequenceId,void 0===n.acc?0:p(n.acc[t]),n.id,n.parameter]];for(let l=1;l<e.length;l++){const i=e[l],s=i.acc[t]-n.acc[t];("Minimize"===a?s<0:s>0)?(r.push([i.sequenceId,void 0===i.acc?0:p(i.acc[t]),n.id,i.parameter]),n=i):r.push([i.sequenceId,void 0===n.acc?0:p(n.acc[t]),n.id,i.parameter])}return{type:"line",lineStyle:{color:"#FF6600"},data:r}};t.Z=e=>{const{hasBestCurve:t,trialIds:a,changeExpandRowIDs:m,chartHeight:p}=e,{metricGraphMode:v,changeMetricGraphMode:g}=(0,n.useContext)(c.Il),[h,N]=(0,n.useState)(!1),[f,x]=(0,n.useState)(u),[y,b]=(0,n.useState)("default");(0,n.useEffect)((()=>{x(E(a,t,y,h,v))}),[a.length,h,y,v]);const C=e=>{t||m(e.data[2],"chart")},k=o.F.getTrials(a).filter((e=>e.sortable));let w=[];k.length>0&&(w=k[0].accuracyNumberTypeDictKeys);const S=n.useMemo((()=>n.createElement("div",{className:"default-metric-graph graph"},n.createElement(s.Z,{option:f,style:{width:"100%",height:p,margin:"0 auto"},theme:"nni_theme",lazyUpdate:!0,onEvents:{click:C}}),n.createElement("div",{className:"default-metric-noData fontColor333"},f===u?"No data":""))),[f]);return n.createElement("div",null,t&&n.createElement(r.K,{horizontal:!0,reversed:!0,tokens:d.s1,className:"default-metric"},n.createElement(l.Z,{label:"Optimization curve",inlineLabel:!0,onChange:(e,t)=>{N(t??!0)}}),n.createElement(i.L,{selectedKey:v,onChange:(e,t)=>{void 0!==t&&g(t.key.toString())},options:[{key:"Maximize",text:"Maximize"},{key:"Minimize",text:"Minimize"}],styles:{dropdown:{width:100}},className:"para-filter-percent"}),w.length>1&&n.createElement(i.L,{selectedKey:y,onChange:(e,t)=>{void 0!==t&&b(t.key.toString())},options:w.map((e=>({key:e,text:e}))),styles:{dropdown:{width:100}},className:"para-filter-percent"})),S)}},79267:function(e,t,a){a.d(t,{O4:function(){return n},s1:function(){return r},uI:function(){return l}});const n={childrenGap:10},r={childrenGap:15},l={root:{minWidth:400,height:56,display:"flex",verticalAlign:"center"}}},33607:function(e,t,a){a.d(t,{fS:function(){return i},qo:function(){return s}});var n=a(15201),r=a(89103),l=a(75091);r.OL;const i=n.createElement("a",{href:"/detail",className:"link"},n.createElement("span",{className:"common-tabs"},"Trials detail")),s=n.createElement(r.OL,{to:"/oview"},n.createElement("img",{src:((0,l.Gn)()||"")+"/logo.png",alt:"NNI logo",style:{height:40}}))},16668:function(){},81296:function(){},18433:function(){},35329:function(){},32993:function(){}}]);
//# sourceMappingURL=81.c3f571a1.chunk.js.map