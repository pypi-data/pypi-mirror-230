[package]
name = "sparrow-instructions"
version= "0.11.0"
authors= ["Kaskada Developers"]
edition= "2021"
license= "Apache-2.0"
publish = false
description = """
The instructions supported in Sparrow execution plans.
"""

[dependencies]
sparrow-api = { path = "../sparrow-api" }
sparrow-arrow = { path = "../sparrow-arrow" }
sparrow-kernels = { path = "../sparrow-kernels" }
sparrow-syntax = { path = "../sparrow-syntax" }
anyhow = { version = "1.0.70", features = ["backtrace"] }
arrow = { version = "43.0.0" }
arrow-arith = { version = "43.0.0" }
arrow-schema = { version = "43.0.0", features = ["serde"] }
bincode = "1.3.3"
bit-set = "0.5.3"
bitvec = { version = "1.0.1", features = ["serde"] }
chrono = "0.4.24"
enum-map = "2.5.0"
erased-serde = "0.3.25"
error-stack = { version = "0.3.1", features = ["anyhow", "spantrace"] }
derive_more = "0.99.17"
hashbrown = { version = "0.14.0", features = ["serde"] }
itertools = "0.11.0"
num = "0.4.0"
owning_ref = "0.4.1"
parse-display = "0.8.0"
prost = "0.11.8"
prost-wkt-types = "0.4.1"
serde = { version = "1.0.159", features = ["derive", "rc"] }
serde_json = "1.0.95"
smallvec = { version = "1.10.0", features = ["union", "serde"] }
static_init = "1.0.3"
strum = "0.25.0"
strum_macros = "0.25.1"
tempfile = "3.4.0"
tonic = "0.9.2"
tracing = "0.1.37"
lz4-sys = "1.9.4"
uuid = { version = "1.3.0", features = ["v4"] }

[dependencies.rocksdb]
# This disables compression algorithms that cause issues during linking due to
# https://github.com/rust-rocksdb/rust-rocksdb/issues/514
default-features = false
version = "0.21.0"
features = ["lz4"]

[lib]
doctest = false

[[bench]]
name = "sparrow_instructions_benches"
# This can be discovered by Cargo, but not by Cargo Chef, so specify it.
path = "benches/sparrow_instructions_benches/main.rs"
harness = false
# Disable compute store benchmarks until the flush/rehydrate pattern is
# established.
test = false
