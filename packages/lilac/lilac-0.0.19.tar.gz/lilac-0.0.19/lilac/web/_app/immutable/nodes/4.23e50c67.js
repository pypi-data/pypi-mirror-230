import{S as ve,i as we,s as be,E as he,k as I,a as j,y as P,l as D,m as E,c as Y,z as R,h as _,F as Yt,G as ue,b as V,a0 as v,A,H as ze,L as Re,g as p,d as w,B,N as Se,C as ut,o as jn,Q as De,q as Q,r as W,n as y,u as fe,e as oe,v as ie,f as re,M as xe,w as Oe,W as yt,X as It,D as Yn,I as Qn,J as Wn,K as Gn,Z as _e,_ as ge,$ as Te,a1 as J,Y as Vi,p as ft,V as Kn,R as mt,af as Ni,a7 as ye,a8 as Le,O as ke,a4 as Pe,ab as Ne,a2 as Dt,ag as Ti,P as Ci,T as We,U as Ge,a3 as ht,a9 as Et,x as rt,a6 as Qt,ad as Mi}from"../chunks/index.8706e7a3.js";import{g as Vt}from"../chunks/navigation.62f8504c.js";import{O as zi,a as it,P as Fi}from"../chunks/Page.6dbff5dd.js";import{W as Pi,R as Ai,d as Ye,U as Bi,h as Ie,V as Ue,X as $e,Y as Nt,Z as nt,_ as Zn,t as Ze,C as Je,$ as Fe,a0 as Ke,S as Jn,a1 as Tt,a2 as Ri,a3 as Ct,a4 as Hi,O as Xn,a5 as Oi,B as xn,a6 as ei,n as Wt,c as Be,a as Mt,a7 as _t,a8 as ti,a9 as ot,aa as Li,ab as gt,ac as Gt,ad as Xe,ae as qi,af as zt,ag as Ui,ah as ji,ai as Yi,aj as Qi,ak as Wi,al as li,am as ni,an as ii,i as Gi,b as Ft,ao as Ki,ap as Zi,aq as Ji,F as Xi,ar as lt,as as ri,at as xi,au as si,av as er,aw as tr,ax as st,ay as Pt,az as ai,aA as pt,aB as St,aC as oi,aD as fi,aE as lr,aF as bt,aG as nr,aH as at,K as ir,A as At,aI as rr,aJ as sr,aK as ar,aL as or,M as Bt,G as Rt,H as Ht,I as fr,J as cr,aM as Ot,aN as ci,aO as ur,aP as kt,z as ui,aQ as di,aR as dr,g as mr,aS as hr,aT as _r,aU as gr,aV as pr,aW as br,aX as vr,aY as wr,aZ as kr,a_ as $r,a$ as Er,b0 as Sr}from"../chunks/Commands.e7100a7a.js";import{w as yr}from"../chunks/index.8b48d14e.js";import{C as Ir,b as mi,I as Kt,a as Dr,T as Vr,E as Nr,S as Tr}from"../chunks/ConceptView.f6cf1842.js";import{E as hi,S as _i,T as gi}from"../chunks/StringSpanHighlight.548301b1.js";import{M as Lt,S as Cr}from"../chunks/Settings.90e782e4.js";import{I as Mr}from"../chunks/ItemMetadata.6f091c2f.js";import{g as pi}from"../chunks/settingsStore.7a558b1a.js";import{L as zr,a as Fr,b as Pr,c as Ar,C as Br}from"../chunks/ComboBox.0434bcae.js";import{s as vt,C as Rr,f as Hr}from"../chunks/notificationsStore.2895bc3e.js";function Zt(i,e,l){const t=i.slice();return t[39]=e[l],t[41]=l,t}const Or=i=>({item:i[0]&8,index:i[0]&8}),Jt=i=>({item:i[39],index:i[41]});function Xt(i){let e,l;return{c(){e=I("label"),l=Q(i[10]),this.h()},l(t){e=D(t,"LABEL",{for:!0});var n=E(e);l=W(n,i[10]),n.forEach(_),this.h()},h(){y(e,"for",i[19]),ue(e,"bx--label",!0),ue(e,"bx--label--disabled",i[9]),ue(e,"bx--visually-hidden",i[17])},m(t,n){V(t,e,n),v(e,l)},p(t,n){n[0]&1024&&fe(l,t[10]),n[0]&524288&&y(e,"for",t[19]),n[0]&512&&ue(e,"bx--label--disabled",t[9]),n[0]&131072&&ue(e,"bx--visually-hidden",t[17])},d(t){t&&_(e)}}}function xt(i){let e,l;return e=new Pi({props:{class:"bx--list-box__invalid-icon"}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function el(i){let e,l;return e=new Ai({props:{class:"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning"}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Lr(i){let e;return{c(){e=Q(i[16])},l(l){e=W(l,i[16])},m(l,t){V(l,e,t)},p(l,t){t[0]&65536&&fe(e,l[16])},d(l){l&&_(e)}}}function qr(i){let e=i[4](i[22])+"",l;return{c(){l=Q(e)},l(t){l=W(t,e)},m(t,n){V(t,l,n)},p(t,n){n[0]&4194320&&e!==(e=t[4](t[22])+"")&&fe(l,e)},d(t){t&&_(l)}}}function tl(i){let e,l;return e=new Pr({props:{"aria-labelledby":i[19],id:i[19],$$slots:{default:[Yr]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&524288&&(o["aria-labelledby"]=t[19]),n[0]&524288&&(o.id=t[19]),n[0]&2097181|n[1]&64&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ur(i){let e=i[4](i[39])+"",l;return{c(){l=Q(e)},l(t){l=W(t,e)},m(t,n){V(t,l,n)},p(t,n){n[0]&24&&e!==(e=t[4](t[39])+"")&&fe(l,e)},d(t){t&&_(l)}}}function jr(i){let e,l;const t=i[29].default,n=Yn(t,i,i[37],Jt),o=n||Ur(i);return{c(){o&&o.c(),e=j()},l(r){o&&o.l(r),e=Y(r)},m(r,s){o&&o.m(r,s),V(r,e,s),l=!0},p(r,s){n?n.p&&(!l||s[0]&8|s[1]&64)&&Qn(n,t,r,r[37],l?Gn(t,r[37],s,Or):Wn(r[37]),Jt):o&&o.p&&(!l||s[0]&24)&&o.p(r,l?s:[-1,-1])},i(r){l||(p(o,r),l=!0)},o(r){w(o,r),l=!1},d(r){o&&o.d(r),r&&_(e)}}}function ll(i,e){let l,t,n;function o(...s){return e[34](e[39],...s)}function r(){return e[35](e[39],e[41])}return t=new Ar({props:{id:e[39].id,active:e[0]===e[39].id,highlighted:e[21]===e[41],disabled:e[39].disabled,$$slots:{default:[jr]},$$scope:{ctx:e}}}),t.$on("click",o),t.$on("mouseenter",r),{key:i,first:null,c(){l=oe(),P(t.$$.fragment),this.h()},l(s){l=oe(),R(t.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){V(s,l,a),A(t,s,a),n=!0},p(s,a){e=s;const f={};a[0]&8&&(f.id=e[39].id),a[0]&9&&(f.active=e[0]===e[39].id),a[0]&2097160&&(f.highlighted=e[21]===e[41]),a[0]&8&&(f.disabled=e[39].disabled),a[0]&24|a[1]&64&&(f.$$scope={dirty:a,ctx:e}),t.$set(f)},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&_(l),B(t,s)}}}function Yr(i){let e=[],l=new Map,t,n,o=i[3];const r=s=>s[39].id;for(let s=0;s<o.length;s+=1){let a=Zt(i,o,s),f=r(a);l.set(f,e[s]=ll(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=oe()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=oe()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);V(s,t,a),n=!0},p(s,a){a[0]&35651613|a[1]&64&&(o=s[3],ie(),e=yt(e,a,r,1,s,o,l,t.parentNode,It,ll,t,Zt),re())},i(s){if(!n){for(let a=0;a<o.length;a+=1)p(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)w(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&_(t)}}}function Qr(i){let e,l,t,n,o,r,s,a,f,c,m,u=i[11]&&xt(),d=!i[11]&&i[13]&&el();function h(b,S){return b[22]?qr:Lr}let g=h(i),k=g(i);r=new Fr({props:{translateWithId:i[18],open:i[1]}}),r.$on("click",i[30]);let $=i[1]&&tl(i);return{c(){u&&u.c(),e=j(),d&&d.c(),l=j(),t=I("button"),n=I("span"),k.c(),o=j(),P(r.$$.fragment),s=j(),$&&$.c(),a=oe(),this.h()},l(b){u&&u.l(b),e=Y(b),d&&d.l(b),l=Y(b),t=D(b,"BUTTON",{type:!0,tabindex:!0,"aria-expanded":!0,translatewithid:!0,id:!0});var S=E(t);n=D(S,"SPAN",{});var N=E(n);k.l(N),N.forEach(_),o=Y(S),R(r.$$.fragment,S),S.forEach(_),s=Y(b),$&&$.l(b),a=oe(),this.h()},h(){ue(n,"bx--list-box__label",!0),y(t,"type","button"),y(t,"tabindex","0"),y(t,"aria-expanded",i[1]),t.disabled=i[9],y(t,"translatewithid",i[18]),y(t,"id",i[19]),ue(t,"bx--list-box__field",!0)},m(b,S){u&&u.m(b,S),V(b,e,S),d&&d.m(b,S),V(b,l,S),V(b,t,S),v(t,n),k.m(n,null),v(t,o),A(r,t,null),i[31](t),V(b,s,S),$&&$.m(b,S),V(b,a,S),f=!0,c||(m=[ze(t,"keydown",i[32]),ze(t,"keyup",i[33])],c=!0)},p(b,S){b[11]?u?S[0]&2048&&p(u,1):(u=xt(),u.c(),p(u,1),u.m(e.parentNode,e)):u&&(ie(),w(u,1,1,()=>{u=null}),re()),!b[11]&&b[13]?d?S[0]&10240&&p(d,1):(d=el(),d.c(),p(d,1),d.m(l.parentNode,l)):d&&(ie(),w(d,1,1,()=>{d=null}),re()),g===(g=h(b))&&k?k.p(b,S):(k.d(1),k=g(b),k&&(k.c(),k.m(n,null)));const N={};S[0]&262144&&(N.translateWithId=b[18]),S[0]&2&&(N.open=b[1]),r.$set(N),(!f||S[0]&2)&&y(t,"aria-expanded",b[1]),(!f||S[0]&512)&&(t.disabled=b[9]),(!f||S[0]&262144)&&y(t,"translatewithid",b[18]),(!f||S[0]&524288)&&y(t,"id",b[19]),b[1]?$?($.p(b,S),S[0]&2&&p($,1)):($=tl(b),$.c(),p($,1),$.m(a.parentNode,a)):$&&(ie(),w($,1,1,()=>{$=null}),re())},i(b){f||(p(u),p(d),p(r.$$.fragment,b),p($),f=!0)},o(b){w(u),w(d),w(r.$$.fragment,b),w($),f=!1},d(b){u&&u.d(b),b&&_(e),d&&d.d(b),b&&_(l),b&&_(t),k.d(),B(r),i[31](null),b&&_(s),$&&$.d(b),b&&_(a),c=!1,xe(m)}}}function nl(i){let e,l;return{c(){e=I("div"),l=Q(i[15]),this.h()},l(t){e=D(t,"DIV",{});var n=E(e);l=W(n,i[15]),n.forEach(_),this.h()},h(){ue(e,"bx--form__helper-text",!0),ue(e,"bx--form__helper-text--disabled",i[9])},m(t,n){V(t,e,n),v(e,l)},p(t,n){n[0]&32768&&fe(l,t[15]),n[0]&512&&ue(e,"bx--form__helper-text--disabled",t[9])},d(t){t&&_(e)}}}function Wr(i){let e,l,t,n,o,r,s,a=i[10]&&Xt(i);t=new zr({props:{role:void 0,type:i[5],size:i[7],name:i[20],"aria-label":i[28]["aria-label"],class:`bx--dropdown 
      `+(i[6]==="top"&&"bx--list-box--up")+` 
      `+(i[11]&&"bx--dropdown--invalid")+` 
      `+(!i[11]&&i[13]&&"bx--dropdown--warning")+` 
      `+(i[1]&&"bx--dropdown--open")+`
      `+(i[7]==="sm"&&"bx--dropdown--sm")+`
      `+(i[7]==="xl"&&"bx--dropdown--xl")+`
      `+(i[23]&&"bx--dropdown--inline")+`
      `+(i[9]&&"bx--dropdown--disabled")+`
      `+(i[8]&&"bx--dropdown--light"),disabled:i[9],open:i[1],invalid:i[11],invalidText:i[12],light:i[8],warn:i[13],warnText:i[14],$$slots:{default:[Qr]},$$scope:{ctx:i}}}),t.$on("click",i[36]);let f=!i[23]&&!i[11]&&!i[13]&&i[15]&&nl(i),c=[i[27]],m={};for(let u=0;u<c.length;u+=1)m=he(m,c[u]);return{c(){e=I("div"),a&&a.c(),l=j(),P(t.$$.fragment),n=j(),f&&f.c(),this.h()},l(u){e=D(u,"DIV",{});var d=E(e);a&&a.l(d),l=Y(d),R(t.$$.fragment,d),n=Y(d),f&&f.l(d),d.forEach(_),this.h()},h(){Yt(e,m),ue(e,"bx--dropdown__wrapper",!0),ue(e,"bx--list-box__wrapper",!0),ue(e,"bx--dropdown__wrapper--inline",i[23]),ue(e,"bx--list-box__wrapper--inline",i[23]),ue(e,"bx--dropdown__wrapper--inline--invalid",i[23]&&i[11])},m(u,d){V(u,e,d),a&&a.m(e,null),v(e,l),A(t,e,null),v(e,n),f&&f.m(e,null),o=!0,r||(s=ze(window,"click",i[26]),r=!0)},p(u,d){u[10]?a?a.p(u,d):(a=Xt(u),a.c(),a.m(e,l)):a&&(a.d(1),a=null);const h={};d[0]&32&&(h.type=u[5]),d[0]&128&&(h.size=u[7]),d[0]&1048576&&(h.name=u[20]),d[0]&268435456&&(h["aria-label"]=u[28]["aria-label"]),d[0]&8399810&&(h.class=`bx--dropdown 
      `+(u[6]==="top"&&"bx--list-box--up")+` 
      `+(u[11]&&"bx--dropdown--invalid")+` 
      `+(!u[11]&&u[13]&&"bx--dropdown--warning")+` 
      `+(u[1]&&"bx--dropdown--open")+`
      `+(u[7]==="sm"&&"bx--dropdown--sm")+`
      `+(u[7]==="xl"&&"bx--dropdown--xl")+`
      `+(u[23]&&"bx--dropdown--inline")+`
      `+(u[9]&&"bx--dropdown--disabled")+`
      `+(u[8]&&"bx--dropdown--light")),d[0]&512&&(h.disabled=u[9]),d[0]&2&&(h.open=u[1]),d[0]&2048&&(h.invalid=u[11]),d[0]&4096&&(h.invalidText=u[12]),d[0]&256&&(h.light=u[8]),d[0]&8192&&(h.warn=u[13]),d[0]&16384&&(h.warnText=u[14]),d[0]&7154207|d[1]&64&&(h.$$scope={dirty:d,ctx:u}),t.$set(h),!u[23]&&!u[11]&&!u[13]&&u[15]?f?f.p(u,d):(f=nl(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null),Yt(e,m=Re(c,[d[0]&134217728&&u[27]])),ue(e,"bx--dropdown__wrapper",!0),ue(e,"bx--list-box__wrapper",!0),ue(e,"bx--dropdown__wrapper--inline",u[23]),ue(e,"bx--list-box__wrapper--inline",u[23]),ue(e,"bx--dropdown__wrapper--inline--invalid",u[23]&&u[11])},i(u){o||(p(t.$$.fragment,u),o=!0)},o(u){w(t.$$.fragment,u),o=!1},d(u){u&&_(e),a&&a.d(),B(t),f&&f.d(),r=!1,s()}}}function Gr(i,e,l){let t,n;const o=["items","itemToString","selectedId","type","direction","size","open","light","disabled","titleText","invalid","invalidText","warn","warnText","helperText","label","hideLabel","translateWithId","id","name","ref"];let r=Se(e,o),{$$slots:s={},$$scope:a}=e,{items:f=[]}=e,{itemToString:c=z=>z.text||z.id}=e,{selectedId:m}=e,{type:u="default"}=e,{direction:d="bottom"}=e,{size:h=void 0}=e,{open:g=!1}=e,{light:k=!1}=e,{disabled:$=!1}=e,{titleText:b=""}=e,{invalid:S=!1}=e,{invalidText:N=""}=e,{warn:C=!1}=e,{warnText:F=""}=e,{helperText:T=""}=e,{label:K=void 0}=e,{hideLabel:X=!1}=e,{translateWithId:L=void 0}=e,{id:M="ccs-"+Math.random().toString(36)}=e,{name:x=void 0}=e,{ref:H=null}=e;const Z=ut();let O=-1;function G(z){let ne=O+z;if(f.length===0)return;ne<0?ne=f.length-1:ne>=f.length&&(ne=0);let Ee=f[ne].disabled;for(;Ee;)ne=ne+z,ne<0?ne=f.length-1:ne>=f.length&&(ne=0),Ee=f[ne].disabled;l(21,O=ne)}const te=()=>{Z("select",{selectedId:m,selectedItem:f.find(z=>z.id===m)})},q=({target:z})=>{g&&H&&!H.contains(z)&&l(1,g=!1)};jn(()=>(parent&&parent.addEventListener("click",q),()=>{parent&&parent.removeEventListener("click",q)}));const ee=z=>{z.stopPropagation(),!$&&l(1,g=!g)};function pe(z){Oe[z?"unshift":"push"](()=>{H=z,l(2,H)})}const ce=z=>{const{key:ne}=z;["Enter","ArrowDown","ArrowUp"].includes(ne)&&z.preventDefault(),ne==="Enter"?(l(1,g=!g),O>-1&&f[O].id!==m&&(l(0,m=f[O].id),te(),l(1,g=!1))):ne==="Tab"?(l(1,g=!1),H.blur()):ne==="ArrowDown"?(g||l(1,g=!0),G(1)):ne==="ArrowUp"?(g||l(1,g=!0),G(-1)):ne==="Escape"&&l(1,g=!1)},ae=z=>{const{key:ne}=z;if([" "].includes(ne))z.preventDefault();else return;l(1,g=!g),O>-1&&f[O].id!==m&&(l(0,m=f[O].id),te(),l(1,g=!1))},se=(z,ne)=>{if(z.disabled){ne.stopPropagation();return}l(0,m=z.id),te(),H.focus()},le=(z,ne)=>{z.disabled||l(21,O=ne)},U=({target:z})=>{$||l(1,g=H.contains(z)?!g:!1)};return i.$$set=z=>{l(28,e=he(he({},e),De(z))),l(27,r=Se(e,o)),"items"in z&&l(3,f=z.items),"itemToString"in z&&l(4,c=z.itemToString),"selectedId"in z&&l(0,m=z.selectedId),"type"in z&&l(5,u=z.type),"direction"in z&&l(6,d=z.direction),"size"in z&&l(7,h=z.size),"open"in z&&l(1,g=z.open),"light"in z&&l(8,k=z.light),"disabled"in z&&l(9,$=z.disabled),"titleText"in z&&l(10,b=z.titleText),"invalid"in z&&l(11,S=z.invalid),"invalidText"in z&&l(12,N=z.invalidText),"warn"in z&&l(13,C=z.warn),"warnText"in z&&l(14,F=z.warnText),"helperText"in z&&l(15,T=z.helperText),"label"in z&&l(16,K=z.label),"hideLabel"in z&&l(17,X=z.hideLabel),"translateWithId"in z&&l(18,L=z.translateWithId),"id"in z&&l(19,M=z.id),"name"in z&&l(20,x=z.name),"ref"in z&&l(2,H=z.ref),"$$scope"in z&&l(37,a=z.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&32&&l(23,t=u==="inline"),i.$$.dirty[0]&9&&l(22,n=f.find(z=>z.id===m)),i.$$.dirty[0]&2&&(g||l(21,O=-1))},e=De(e),[m,g,H,f,c,u,d,h,k,$,b,S,N,C,F,T,K,X,L,M,x,O,n,t,G,te,q,r,e,s,ee,pe,ce,ae,se,le,U,a]}class Kr extends ve{constructor(e){super(),we(this,e,Gr,Wr,be,{items:3,itemToString:4,selectedId:0,type:5,direction:6,size:7,open:1,light:8,disabled:9,titleText:10,invalid:11,invalidText:12,warn:13,warnText:14,helperText:15,label:16,hideLabel:17,translateWithId:18,id:19,name:20,ref:2},null,[-1,-1])}}const Zr=Kr;function il(i){let e,l;return{c(){e=_e("title"),l=Q(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=W(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function Jr(i){let e,l,t=i[1]&&il(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=il(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function Xr(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class xr extends ve{constructor(e){super(),we(this,e,Xr,Jr,be,{size:0,title:1})}}function rl(i){let e,l;return{c(){e=_e("title"),l=Q(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=W(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function es(i){let e,l,t=i[1]&&rl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M26 24v4H6V24H4v4H4a2 2 0 002 2H26a2 2 0 002-2h0V24zM26 14L24.59 12.59 17 20.17 17 2 15 2 15 20.17 7.41 12.59 6 14 16 24 26 14z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=rl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function ts(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class ls extends ve{constructor(e){super(),we(this,e,ts,es,be,{size:0,title:1})}}function sl(i){let e,l;return{c(){e=_e("title"),l=Q(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=W(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function ns(i){let e,l,t=i[1]&&sl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M16 7a3 3 0 113-3A3.0033 3.0033 0 0116 7zm0-4a1 1 0 101 1A1.001 1.001 0 0016 3zM11 30a3 3 0 113-3A3.0033 3.0033 0 0111 30zm0-4a1 1 0 101 1A1.001 1.001 0 0011 26zM7 11a3 3 0 113-3A3.0033 3.0033 0 017 11zM7 7A1 1 0 108 8 1.001 1.001 0 007 7zM21 30a3 3 0 113-3A3.0033 3.0033 0 0121 30zm0-4a1 1 0 101 1A1.001 1.001 0 0021 26zM25 11a3 3 0 113-3A3.0033 3.0033 0 0125 11zm0-4a1 1 0 101 1A1.001 1.001 0 0025 7zM4 21a3 3 0 113-3A3.0033 3.0033 0 014 21zm0-4a1 1 0 101 1A1.001 1.001 0 004 17zM28 21a3 3 0 113-3A3.0033 3.0033 0 0128 21zm0-4a1 1 0 101 1A1.001 1.001 0 0028 17zM16 22a6 6 0 116-6A6.0069 6.0069 0 0116 22zm0-10a4 4 0 104 4A4.0045 4.0045 0 0016 12z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=sl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function is(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class rs extends ve{constructor(e){super(),we(this,e,is,ns,be,{size:0,title:1})}}function al(i){let e,l;return{c(){e=_e("title"),l=Q(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=W(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function ss(i){let e,l,t,n,o,r,s,a,f,c=i[1]&&al(i),m=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],u={};for(let d=0;d<m.length;d+=1)u=he(u,m[d]);return{c(){e=_e("svg"),c&&c.c(),l=_e("path"),t=_e("circle"),n=_e("path"),o=_e("circle"),r=_e("path"),s=_e("circle"),a=_e("path"),f=_e("path"),this.h()},l(d){e=ge(d,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var h=E(e);c&&c.l(h),l=ge(h,"path",{d:!0}),E(l).forEach(_),t=ge(h,"circle",{cx:!0,cy:!0,r:!0}),E(t).forEach(_),n=ge(h,"path",{d:!0}),E(n).forEach(_),o=ge(h,"circle",{cx:!0,cy:!0,r:!0}),E(o).forEach(_),r=ge(h,"path",{d:!0}),E(r).forEach(_),s=ge(h,"circle",{cx:!0,cy:!0,r:!0}),E(s).forEach(_),a=ge(h,"path",{d:!0}),E(a).forEach(_),f=ge(h,"path",{d:!0}),E(f).forEach(_),h.forEach(_),this.h()},h(){y(l,"d","M20 25H27V27H20zM22 29H25V31H22zM27 23h-2c0-1.1.4-2 1.2-2.8l.5-.5c.8-.8 1.3-2 1.3-3.2 0-2.5-2-4.5-4.5-4.5S19 14 19 16.5c0 1.2.5 2.3 1.3 3.2l.5.5C21.6 21 22 21.9 22 23h-2c0-.5-.2-1-.6-1.4l-.5-.5c-1.2-1.2-1.9-2.9-1.9-4.6 0-3.6 2.9-6.5 6.5-6.5s6.5 2.9 6.5 6.5c0 1.7-.7 3.4-1.9 4.6l-.5.5C27.2 22 27 22.5 27 23zM6 22H14V24H6z"),y(t,"cx","12"),y(t,"cy","19"),y(t,"r","1"),y(n,"d","M6 18H9V20H6zM6 14H13V16H6zM10 10H17V12H10z"),y(o,"cx","7"),y(o,"cy","11"),y(o,"r","1"),y(r,"d","M16 6H20V8H16z"),y(s,"cx","13"),y(s,"cy","7"),y(s,"r","1"),y(a,"d","M6 6H10V8H6z"),y(f,"d","M18,28H4V4l18,0v4h2V4c0-1.1-0.9-2-2-2H4C2.9,2,2,2.9,2,4v24c0,1.1,0.9,2,2,2h14V28z"),Te(e,u)},m(d,h){V(d,e,h),c&&c.m(e,null),v(e,l),v(e,t),v(e,n),v(e,o),v(e,r),v(e,s),v(e,a),v(e,f)},p(d,[h]){d[1]?c?c.p(d,h):(c=al(d),c.c(),c.m(e,l)):c&&(c.d(1),c=null),Te(e,u=Re(m,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},h&1&&{width:d[0]},h&1&&{height:d[0]},h&4&&d[2],h&8&&d[3]]))},i:J,o:J,d(d){d&&_(e),c&&c.d()}}}function as(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class os extends ve{constructor(e){super(),we(this,e,as,ss,be,{size:0,title:1})}}function ol(i){let e,l;return{c(){e=_e("title"),l=Q(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=W(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function fs(i){let e,l,t,n=i[1]&&ol(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=he(r,o[s]);return{c(){e=_e("svg"),n&&n.c(),l=_e("path"),t=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);n&&n.l(a),l=ge(a,"path",{d:!0}),E(l).forEach(_),t=ge(a,"path",{d:!0}),E(t).forEach(_),a.forEach(_),this.h()},h(){y(l,"d","M17 22L17 14 13 14 13 16 15 16 15 22 12 22 12 24 20 24 20 22 17 22zM16 8a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 8z"),y(t,"d","M16,30A14,14,0,1,1,30,16,14,14,0,0,1,16,30ZM16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Z"),Te(e,r)},m(s,a){V(s,e,a),n&&n.m(e,null),v(e,l),v(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=ol(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),Te(e,r=Re(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:J,o:J,d(s){s&&_(e),n&&n.d()}}}function cs(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class ct extends ve{constructor(e){super(),we(this,e,cs,fs,be,{size:0,title:1})}}function fl(i){let e,l;return{c(){e=_e("title"),l=Q(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=W(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function us(i){let e,l,t=i[1]&&fl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M29,27.5859l-7.5521-7.5521a11.0177,11.0177,0,1,0-1.4141,1.4141L27.5859,29ZM4,13a9,9,0,1,1,9,9A9.01,9.01,0,0,1,4,13Z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=fl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function ds(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class ms extends ve{constructor(e){super(),we(this,e,ds,us,be,{size:0,title:1})}}function cl(i){let e,l;return{c(){e=_e("title"),l=Q(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=W(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function hs(i){let e,l,t=i[1]&&cl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M30 6L26 6 26 2 24 2 24 6 20 6 20 8 24 8 24 12 26 12 26 8 30 8 30 6zM24 28.5859l-5.9751-5.9751a9.0234 9.0234 0 10-1.4141 1.4141L22.5859 30zM4 17a7 7 0 117 7A7.0078 7.0078 0 014 17z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=cl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function _s(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class bi extends ve{constructor(e){super(),we(this,e,_s,hs,be,{size:0,title:1})}}function ul(i){let e,l;return{c(){e=_e("title"),l=Q(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=W(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function gs(i){let e,l,t=i[1]&&ul(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 18H16V20H2zM6 12H16V14H6zM10 6H16V8H10z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ul(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function ps(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class vi extends ve{constructor(e){super(),we(this,e,ps,gs,be,{size:0,title:1})}}function dl(i){let e,l;return{c(){e=_e("title"),l=Q(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=W(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function bs(i){let e,l,t=i[1]&&dl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 6H16V8H2zM6 12H16V14H6zM10 18H16V20H10z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=dl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function vs(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class wi extends ve{constructor(e){super(),we(this,e,vs,bs,be,{size:0,title:1})}}function ml(i){let e,l;return{c(){e=_e("title"),l=Q(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=W(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function ws(i){let e,l,t=i[1]&&ml(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M30 19.415L28.586 18 25 21.587 21.414 18 20 19.415 23.586 23 20 26.586 21.414 28 25 24.414 28.586 28 30 26.586 26.414 23 30 19.415zM10 18H16V20H10zM2 6H16V8H2zM6 12H16V14H6z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ml(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function ks(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class $s extends ve{constructor(e){super(),we(this,e,ks,ws,be,{size:0,title:1})}}function hl(i){let e,l;return{c(){e=_e("title"),l=Q(i[1])},l(t){e=ge(t,"title",{});var n=E(e);l=W(n,i[1]),n.forEach(_)},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&2&&fe(l,t[1])},d(t){t&&_(e)}}}function Es(i){let e,l,t=i[1]&&hl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=he(o,n[r]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);t&&t.l(s),l=ge(s,"path",{d:!0}),E(l).forEach(_),s.forEach(_),this.h()},h(){y(l,"d","M4 6H22V8H4zM4 12H22V14H4zM4 18H22V20H4zM4 24H22V26H4zM26 6H28V8H26zM26 12H28V14H26zM26 18H28V20H26zM26 24H28V26H26z"),Te(e,o)},m(r,s){V(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=hl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Te(e,o=Re(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:J,o:J,d(r){r&&_(e),t&&t.d()}}}function Ss(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=he(he({},e),De(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=De(e),[s,a,n,r,t]}class ys extends ve{constructor(e){super(),we(this,e,Ss,Es,be,{size:0,title:1})}}function _l(i){let e;return{c(){e=I("div"),this.h()},l(l){e=D(l,"DIV",{id:!0,style:!0}),E(e).forEach(_),this.h()},h(){y(e,"id","svelte-infinite-scroll"),ft(e,"width","0")},m(l,t){V(l,e,t),i[11](e)},p:J,d(l){l&&_(e),i[11](null)}}}function Is(i){let e,l=!i[1]&&!i[0]&&_l(i);return{c(){l&&l.c(),e=oe()},l(t){l&&l.l(t),e=oe()},m(t,n){l&&l.m(t,n),V(t,e,n)},p(t,[n]){!t[1]&&!t[0]?l?l.p(t,n):(l=_l(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:J,o:J,d(t){l&&l.d(t),t&&_(e)}}}function Ds(i,e,l){let{threshold:t=0}=e,{horizontal:n=!1}=e,{elementScroll:o=null}=e,{hasMore:r=!0}=e,{reverse:s=!1}=e,{window:a=!1}=e;const f=ut();let c=!1,m,u,d,h;const g=b=>{if(!r)return;const S=b.target;k(S,s,n)<=t?(!c&&r&&(f("loadMore"),l(8,u=S.scrollHeight),l(9,d=S.scrollTop)),l(7,c=!0)):l(7,c=!1)},k=(b,S,N)=>{const C=b.documentElement?b.documentElement:b;return S?N?C.scrollLeft:C.scrollTop:N?C.scrollWidth-C.clientWidth-C.scrollLeft:C.scrollHeight-C.clientHeight-C.scrollTop};jn(()=>{a?l(10,h=document):o?l(10,h=o):l(10,h=m.parentNode)}),Vi(()=>{h&&(h.removeEventListener("scroll",g),h.removeEventListener("resize",g))});function $(b){Oe[b?"unshift":"push"](()=>{m=b,l(2,m)})}return i.$$set=b=>{"threshold"in b&&l(3,t=b.threshold),"horizontal"in b&&l(4,n=b.horizontal),"elementScroll"in b&&l(0,o=b.elementScroll),"hasMore"in b&&l(5,r=b.hasMore),"reverse"in b&&l(6,s=b.reverse),"window"in b&&l(1,a=b.window)},i.$$.update=()=>{i.$$.dirty&1088&&h&&(s&&l(10,h.scrollTop=h.scrollHeight,h),h.addEventListener("scroll",g),h.addEventListener("resize",g)),i.$$.dirty&1984&&c&&s&&l(10,h.scrollTop=h.scrollHeight-u+d,h)},[o,a,m,t,n,r,s,c,u,d,h,$]}class Vs extends ve{constructor(e){super(),we(this,e,Ds,Is,be,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function Ns(i){let e,l,t,n,o,r,s,a;t=new Bi({});const f=i[3].default,c=Yn(f,i,i[6],null);return{c(){e=I("div"),l=I("button"),P(t.$$.fragment),n=j(),o=I("span"),c&&c.c(),this.h()},l(m){e=D(m,"DIV",{class:!0});var u=E(e);l=D(u,"BUTTON",{class:!0});var d=E(l);R(t.$$.fragment,d),d.forEach(_),n=Y(u),o=D(u,"SPAN",{class:!0});var h=E(o);c&&c.l(h),h.forEach(_),u.forEach(_),this.h()},h(){y(l,"class","p-0 opacity-50 hover:opacity-100"),y(o,"class","truncate"),y(e,"class","removable-tag flex items-center gap-x-1")},m(m,u){V(m,e,u),v(e,l),A(t,l,null),v(e,n),v(e,o),c&&c.m(o,null),r=!0,s||(a=ze(l,"click",Ni(i[4])),s=!0)},p(m,u){c&&c.p&&(!r||u&64)&&Qn(c,f,m,m[6],r?Gn(f,m[6],u,null):Wn(m[6]),null)},i(m){r||(p(t.$$.fragment,m),p(c,m),r=!0)},o(m){w(t.$$.fragment,m),w(c,m),r=!1},d(m){m&&_(e),B(t),c&&c.d(m),s=!1,a()}}}function Ts(i){let e,l;const t=[{type:i[0]},i[2]];let n={$$slots:{default:[Ns]},$$scope:{ctx:i}};for(let o=0;o<t.length;o+=1)n=he(n,t[o]);return e=new Ye({props:n}),e.$on("click",i[5]),{c(){P(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){A(e,o,r),l=!0},p(o,[r]){const s=r&5?Re(t,[r&1&&{type:o[0]},r&4&&Kn(o[2])]):{};r&64&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){w(e.$$.fragment,o),l=!1},d(o){B(e,o)}}}function Cs(i,e,l){const t=["type"];let n=Se(e,t),{$$slots:o={},$$scope:r}=e;const s=ut();let{type:a}=e;const f=()=>s("remove");function c(m){mt.call(this,i,m)}return i.$$set=m=>{e=he(he({},e),De(m)),l(2,n=Se(e,t)),"type"in m&&l(0,a=m.type),"$$scope"in m&&l(6,r=m.$$scope)},[a,s,n,o,f,c,r]}class qt extends ve{constructor(e){super(),we(this,e,Cs,Ts,be,{type:0})}}function Ms(i){let e,l=(i[2]?"":i[5])+"",t,n,o=i[0][i[1].op]+"",r,s,a;return{c(){e=I("span"),t=Q(l),n=j(),r=Q(o),s=j(),a=Q(i[4]),this.h()},l(f){e=D(f,"SPAN",{class:!0});var c=E(e);t=W(c,l),c.forEach(_),n=Y(f),r=W(f,o),s=Y(f),a=W(f,i[4]),this.h()},h(){y(e,"class","font-mono")},m(f,c){V(f,e,c),v(e,t),V(f,n,c),V(f,r,c),V(f,s,c),V(f,a,c)},p(f,c){c&36&&l!==(l=(f[2]?"":f[5])+"")&&fe(t,l),c&2&&o!==(o=f[0][f[1].op]+"")&&fe(r,o),c&16&&fe(a,f[4])},d(f){f&&_(e),f&&_(n),f&&_(r),f&&_(s),f&&_(a)}}}function zs(i){let e,l,t=(i[2]?"":i[5])+"",n;return{c(){e=Q("has "),l=I("span"),n=Q(t),this.h()},l(o){e=W(o,"has "),l=D(o,"SPAN",{class:!0});var r=E(l);n=W(r,t),r.forEach(_),this.h()},h(){y(l,"class","font-mono")},m(o,r){V(o,e,r),V(o,l,r),v(l,n)},p(o,r){r&36&&t!==(t=(o[2]?"":o[5])+"")&&fe(n,t)},d(o){o&&_(e),o&&_(l)}}}function Fs(i){let e;function l(o,r){return o[1].op==="exists"?zs:Ms}let t=l(i),n=t(i);return{c(){n.c(),e=oe()},l(o){n.l(o),e=oe()},m(o,r){n.m(o,r),V(o,e,r)},p(o,r){t===(t=l(o))&&n?n.p(o,r):(n.d(1),n=t(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){n.d(o),o&&_(e)}}}function Ps(i){let e,l,t,n,o,r;return l=new qt({props:{interactive:!0,type:"magenta",$$slots:{default:[Fs]},$$scope:{ctx:i}}}),l.$on("click",i[9]),l.$on("remove",i[10]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);R(l.$$.fragment,a),a.forEach(_),this.h()},h(){y(e,"class","filter-pill items-center")},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{text:i[6]})),o=!0)},p(s,[a]){const f={};a&2102&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&Le(t.update)&&a&64&&t.update.call(null,{text:s[6]})},i(s){n||(p(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function As(i,e,l){let t,n,o,r,s;const a={equals:"=",not_equal:"≠",less:"<",less_equal:"≤",greater:">",greater_equal:"≥",in:"in",exists:"exists"};let{filter:f}=e,{hidePath:c=!1}=e;const m=Ue();ke(i,m,h=>l(7,s=h));const u=()=>Ze({command:Je.EditFilter,namespace:s.namespace,datasetName:s.datasetName,path:n}),d=()=>m.removeFilter(f);return i.$$set=h=>{"filter"in h&&l(1,f=h.filter),"hidePath"in h&&l(2,c=h.hidePath)},i.$$.update=()=>{i.$$.dirty&2&&l(4,t=$e(f.value||"false")),i.$$.dirty&2&&l(3,n=Nt(f.path)),i.$$.dirty&26&&l(6,o=f.op==="exists"?`has ${nt(n)}`:`${nt(n)} ${a[f.op]} ${t}`),i.$$.dirty&8&&l(5,r=Zn(n))},[a,f,c,n,t,r,o,s,m,u,d]}class ki extends ve{constructor(e){super(),we(this,e,As,Ps,be,{FILTER_SHORTHANDS:0,filter:1,hidePath:2})}get FILTER_SHORTHANDS(){return this.$$.ctx[0]}}function gl(i){let e,l=i[0].concept_namespace+"",t,n,o=i[0].concept_name+"",r;return{c(){e=I("div"),t=Q(l),n=Q(" / "),r=Q(o),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);t=W(a,l),n=W(a," / "),r=W(a,o),a.forEach(_),this.h()},h(){y(e,"class","mb-2 w-full text-center text-xs")},m(s,a){V(s,e,a),v(e,t),v(e,n),v(e,r)},p(s,a){a&1&&l!==(l=s[0].concept_namespace+"")&&fe(t,l),a&1&&o!==(o=s[0].concept_name+"")&&fe(r,o)},d(s){s&&_(e)}}}function Bs(i){let e=Fe(i[0].path)+"",l,t,n=i[0].type+"",o;return{c(){l=Q(e),t=Q(": "),o=Q(n)},l(r){l=W(r,e),t=W(r,": "),o=W(r,n)},m(r,s){V(r,l,s),V(r,t,s),V(r,o,s)},p(r,s){s&1&&e!==(e=Fe(r[0].path)+"")&&fe(l,e),s&1&&n!==(n=r[0].type+"")&&fe(o,n)},d(r){r&&_(l),r&&_(t),r&&_(o)}}}function pl(i){let e,l,t;return l=new hi({props:{embedding:i[0].embedding}}),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(n){e=D(n,"DIV",{class:!0});var o=E(e);R(l.$$.fragment,o),o.forEach(_),this.h()},h(){y(e,"class","ml-2")},m(n,o){V(n,e,o),A(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.embedding=n[0].embedding),l.$set(r)},i(n){t||(p(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&_(e),B(l)}}}function bl(i){let e,l;return{c(){e=I("div"),l=Q(i[2]),this.h()},l(t){e=D(t,"DIV",{class:!0});var n=E(e);l=W(n,i[2]),n.forEach(_),this.h()},h(){y(e,"class","mt-2 whitespace-pre-wrap text-left")},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&4&&fe(l,t[2])},d(t){t&&_(e)}}}function Rs(i){let e,l,t,n,o,r,s,a,f=i[0].type==="concept"&&gl(i);n=new Ye({props:{type:i[1],$$slots:{default:[Bs]},$$scope:{ctx:i}}});let c=(i[0].type==="semantic"||i[0].type==="concept")&&pl(i),m=i[2]&&bl(i);return{c(){f&&f.c(),e=j(),l=I("div"),t=I("div"),P(n.$$.fragment),o=j(),c&&c.c(),r=j(),m&&m.c(),s=oe(),this.h()},l(u){f&&f.l(u),e=Y(u),l=D(u,"DIV",{class:!0});var d=E(l);t=D(d,"DIV",{class:!0});var h=E(t);R(n.$$.fragment,h),h.forEach(_),o=Y(d),c&&c.l(d),d.forEach(_),r=Y(u),m&&m.l(u),s=oe(),this.h()},h(){y(t,"class","whitespace-nowrap"),y(l,"class","flex items-center justify-items-center")},m(u,d){f&&f.m(u,d),V(u,e,d),V(u,l,d),v(l,t),A(n,t,null),v(l,o),c&&c.m(l,null),V(u,r,d),m&&m.m(u,d),V(u,s,d),a=!0},p(u,[d]){u[0].type==="concept"?f?f.p(u,d):(f=gl(u),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const h={};d&2&&(h.type=u[1]),d&9&&(h.$$scope={dirty:d,ctx:u}),n.$set(h),u[0].type==="semantic"||u[0].type==="concept"?c?(c.p(u,d),d&1&&p(c,1)):(c=pl(u),c.c(),p(c,1),c.m(l,null)):c&&(ie(),w(c,1,1,()=>{c=null}),re()),u[2]?m?m.p(u,d):(m=bl(u),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},i(u){a||(p(n.$$.fragment,u),p(c),a=!0)},o(u){w(n.$$.fragment,u),w(c),a=!1},d(u){f&&f.d(u),u&&_(e),u&&_(l),B(n),c&&c.d(),u&&_(r),m&&m.d(u),u&&_(s)}}}function Hs(i,e,l){let t,{search:n}=e,{tagType:o="outline"}=e;return i.$$set=r=>{"search"in r&&l(0,n=r.search),"tagType"in r&&l(1,o=r.tagType)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=n.type==="concept"?"":n.query)},[n,o,t]}class vl extends ve{constructor(e){super(),we(this,e,Hs,Rs,be,{search:0,tagType:1})}}function Os(i){let e,l=Fe(i[0].path)+"",t,n,o,r;return{c(){e=I("span"),t=Q(l),n=Q(' has "'),o=Q(i[2]),r=Q('"'),this.h()},l(s){e=D(s,"SPAN",{class:!0});var a=E(e);t=W(a,l),a.forEach(_),n=W(s,' has "'),o=W(s,i[2]),r=W(s,'"'),this.h()},h(){y(e,"class","font-mono")},m(s,a){V(s,e,a),v(e,t),V(s,n,a),V(s,o,a),V(s,r,a)},p(s,a){a&1&&l!==(l=Fe(s[0].path)+"")&&fe(t,l),a&4&&fe(o,s[2])},d(s){s&&_(e),s&&_(n),s&&_(o),s&&_(r)}}}function Ls(i){let e,l,t,n,o,r;return l=new qt({props:{title:"query",interactive:!0,type:i[1],$$slots:{default:[Os]},$$scope:{ctx:i}}}),l.$on("click",i[6]),l.$on("remove",i[7]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);R(l.$$.fragment,a),a.forEach(_),this.h()},h(){y(e,"class","search-pill items-center text-left")},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{component:vl,props:{search:i[0],tagType:i[1]}})),o=!0)},p(s,[a]){const f={};a&2&&(f.type=s[1]),a&517&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&Le(t.update)&&a&3&&t.update.call(null,{component:vl,props:{search:s[0],tagType:s[1]}})},i(s){n||(p(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function qs(i,e,l){let t,n,o,{search:r}=e;const s={keyword:"outline",semantic:"teal",concept:"green"},a=Ue(),f=Ke();ke(i,f,u=>l(3,o=u));function c(u){mt.call(this,i,u)}const m=()=>{var u;return a.removeSearch(r,((u=o.selectRowsSchema)==null?void 0:u.data)||null)};return i.$$set=u=>{"search"in u&&l(0,r=u.search)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=r.type==="concept"?r.concept_name:r.query),i.$$.dirty&1&&l(1,n=r.type!=null?s[r.type]:"outline")},[r,n,t,o,a,f,c,m]}class $i extends ve{constructor(e){super(),we(this,e,qs,Ls,be,{search:0})}}function wl(i,e,l){const t=i.slice();return t[26]=e[l][0],t[27]=e[l][1],t}function kl(i,e,l){const t=i.slice();return t[30]=e[l],t}function $l(i,e,l){const t=i.slice();return t[33]=e[l],t}function El(i,e,l){const t=i.slice();return t[36]=e[l],t}function Sl(i,e,l){const t=i.slice();return t[39]=e[l],t}function Us(i){let e,l,t,n=i[13],o=[];for(let a=0;a<n.length;a+=1)o[a]=Dl(El(i,n,a));const r=a=>w(o[a],1,1,()=>{o[a]=null});let s=i[8]!=null&&i[8].length>0&&Vl(i);return{c(){e=I("div");for(let a=0;a<o.length;a+=1)o[a].c();l=j(),s&&s.c(),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);for(let c=0;c<o.length;c+=1)o[c].l(f);l=Y(f),s&&s.l(f),f.forEach(_),this.h()},h(){y(e,"class","flex w-full flex-row gap-x-4")},m(a,f){V(a,e,f);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);v(e,l),s&&s.m(e,null),t=!0},p(a,f){if(f[0]&57352){n=a[13];let c;for(c=0;c<n.length;c+=1){const m=El(a,n,c);o[c]?(o[c].p(m,f),p(o[c],1)):(o[c]=Dl(m),o[c].c(),p(o[c],1),o[c].m(e,l))}for(ie(),c=n.length;c<o.length;c+=1)r(c);re()}a[8]!=null&&a[8].length>0?s?(s.p(a,f),f[0]&256&&p(s,1)):(s=Vl(a),s.c(),p(s,1),s.m(e,null)):s&&(ie(),w(s,1,1,()=>{s=null}),re())},i(a){if(!t){for(let f=0;f<n.length;f+=1)p(o[f]);p(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)w(o[f]);w(s),t=!1},d(a){a&&_(e),Pe(o,a),s&&s.d()}}}function yl(i){let e,l,t=i[14][i[36]]+"",n,o,r,s,a,f=i[3][i[36]],c=[];for(let u=0;u<f.length;u+=1)c[u]=Il(Sl(i,f,u));const m=u=>w(c[u],1,1,()=>{c[u]=null});return{c(){e=I("div"),l=I("div"),n=Q(t),o=j(),r=I("div");for(let u=0;u<c.length;u+=1)c[u].c();s=j(),this.h()},l(u){e=D(u,"DIV",{class:!0});var d=E(e);l=D(d,"DIV",{class:!0});var h=E(l);n=W(h,t),h.forEach(_),o=Y(d),r=D(d,"DIV",{class:!0});var g=E(r);for(let k=0;k<c.length;k+=1)c[k].l(g);g.forEach(_),s=Y(d),d.forEach(_),this.h()},h(){y(l,"class","text-xs font-light"),y(r,"class","flex flex-row gap-x-1"),y(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-16ln9ke")},m(u,d){V(u,e,d),v(e,l),v(l,n),v(e,o),v(e,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(r,null);v(e,s),a=!0},p(u,d){if(d[0]&40968){f=u[3][u[36]];let h;for(h=0;h<f.length;h+=1){const g=Sl(u,f,h);c[h]?(c[h].p(g,d),p(c[h],1)):(c[h]=Il(g),c[h].c(),p(c[h],1),c[h].m(r,null))}for(ie(),h=f.length;h<c.length;h+=1)m(h);re()}},i(u){if(!a){for(let d=0;d<f.length;d+=1)p(c[d]);a=!0}},o(u){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)w(c[d]);a=!1},d(u){u&&_(e),Pe(c,u)}}}function Il(i){let e,l;function t(){return i[23](i[39])}return e=new $i({props:{search:i[39]}}),e.$on("click",t),{c(){P(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,o){A(e,n,o),l=!0},p(n,o){i=n;const r={};o[0]&8&&(r.search=i[39]),e.$set(r)},i(n){l||(p(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){B(e,n)}}}function Dl(i){let e,l,t=i[3][i[36]]&&yl(i);return{c(){t&&t.c(),e=oe()},l(n){t&&t.l(n),e=oe()},m(n,o){t&&t.m(n,o),V(n,e,o),l=!0},p(n,o){n[3][n[36]]?t?(t.p(n,o),o[0]&8&&p(t,1)):(t=yl(n),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(ie(),w(t,1,1,()=>{t=null}),re())},i(n){l||(p(t),l=!0)},o(n){w(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function Vl(i){let e,l,t,n,o,r,s=i[8],a=[];for(let c=0;c<s.length;c+=1)a[c]=Nl($l(i,s,c));const f=c=>w(a[c],1,1,()=>{a[c]=null});return{c(){e=I("div"),l=I("div"),t=Q("Filters"),n=j(),o=I("div");for(let c=0;c<a.length;c+=1)a[c].c();this.h()},l(c){e=D(c,"DIV",{class:!0});var m=E(e);l=D(m,"DIV",{class:!0});var u=E(l);t=W(u,"Filters"),u.forEach(_),n=Y(m),o=D(m,"DIV",{class:!0});var d=E(o);for(let h=0;h<a.length;h+=1)a[h].l(d);d.forEach(_),m.forEach(_),this.h()},h(){y(l,"class","text-xs font-light"),y(o,"class","flex flex-row gap-x-1"),y(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-16ln9ke")},m(c,m){V(c,e,m),v(e,l),v(l,t),v(e,n),v(e,o);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(o,null);r=!0},p(c,m){if(m[0]&256){s=c[8];let u;for(u=0;u<s.length;u+=1){const d=$l(c,s,u);a[u]?(a[u].p(d,m),p(a[u],1)):(a[u]=Nl(d),a[u].c(),p(a[u],1),a[u].m(o,null))}for(ie(),u=s.length;u<a.length;u+=1)f(u);re()}},i(c){if(!r){for(let m=0;m<s.length;m+=1)p(a[m]);r=!0}},o(c){a=a.filter(Boolean);for(let m=0;m<a.length;m+=1)w(a[m]);r=!1},d(c){c&&_(e),Pe(a,c)}}}function Nl(i){let e,l;return e=new ki({props:{filter:i[33]}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&256&&(o.filter=t[33]),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Tl(i){let e=$e(i[0])+"",l,t,n=$e(i[1].dataset_manifest.num_items)+"",o,r;return{c(){l=Q(e),t=Q(" of "),o=Q(n),r=Q(" rows")},l(s){l=W(s,e),t=W(s," of "),o=W(s,n),r=W(s," rows")},m(s,a){V(s,l,a),V(s,t,a),V(s,o,a),V(s,r,a)},p(s,a){a[0]&1&&e!==(e=$e(s[0])+"")&&fe(l,e),a[0]&2&&n!==(n=$e(s[1].dataset_manifest.num_items)+"")&&fe(o,n)},d(s){s&&_(l),s&&_(t),s&&_(o),s&&_(r)}}}function Cl(i){let e,l;return e=new Mt({props:{value:i[30].path!=null?Fe(i[30].path):void 0,text:i[30].text,disabled:i[30].disabled}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.value=t[30].path!=null?Fe(t[30].path):void 0),n[0]&128&&(o.text=t[30].text),n[0]&128&&(o.disabled=t[30].disabled),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function js(i){let e,l,t=i[27],n=[];for(let r=0;r<t.length;r+=1)n[r]=Cl(kl(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=j()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=Y(r)},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);V(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[27];let a;for(a=0;a<t.length;a+=1){const f=kl(r,t,a);n[a]?(n[a].p(f,s),p(n[a],1)):(n[a]=Cl(f),n[a].c(),p(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)p(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){Pe(n,r),r&&_(e)}}}function Ml(i){let e,l;return e=new Oi({props:{label:i[26],$$slots:{default:[js]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.label=t[26]),n[0]&128|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ys(i){let e,l,t=Object.entries(i[7]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Ml(wl(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);V(r,e,s),l=!0},p(r,s){if(s[0]&128){t=Object.entries(r[7]);let a;for(a=0;a<t.length;a+=1){const f=wl(r,t,a);n[a]?(n[a].p(f,s),p(n[a],1)):(n[a]=Ml(f),n[a].c(),p(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)p(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){Pe(n,r),r&&_(e)}}}function zl(i){let e,l,t,n,o,r;return l=new Hi({}),{c(){e=I("button"),P(l.$$.fragment),this.h()},l(s){e=D(s,"BUTTON",{});var a=E(e);R(l.$$.fragment,a),a.forEach(_),this.h()},h(){e.disabled=t=i[4]==null},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=[ye(Ie.call(null,e,{text:"Clear sort"})),ze(e,"click",i[18])],o=!0)},p(s,a){(!n||a[0]&16&&t!==(t=s[4]==null))&&(e.disabled=t)},i(s){n||(p(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,xe(r)}}}function Qs(i){let e,l;return e=new wi({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ws(i){let e,l;return e=new vi({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Gs(i){let e,l;return e=new $s({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Fl(i){let e,l;return e=new Lt({props:{open:!0,modalHeading:"",passiveModal:!0,size:"lg",$$slots:{default:[xs]},$$scope:{ctx:i}}}),e.$on("close",i[24]),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&1024|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ks(i){var r;let e,l,t,n,o;return l=new xn({props:{size:"small",kind:"ghost",icon:ei,href:Wt((r=i[10])==null?void 0:r.data.namespace,i[10].data.concept_name),iconDescription:"Open concept page",$$slots:{default:[Xs]},$$scope:{ctx:i}}}),n=new Ir({props:{concept:i[10].data}}),{c(){e=I("div"),P(l.$$.fragment),t=j(),P(n.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);R(l.$$.fragment,a),a.forEach(_),t=Y(s),R(n.$$.fragment,s),this.h()},h(){y(e,"class","mb-4 ml-6")},m(s,a){V(s,e,a),A(l,e,null),V(s,t,a),A(n,s,a),o=!0},p(s,a){var m;const f={};a[0]&1024&&(f.href=Wt((m=s[10])==null?void 0:m.data.namespace,s[10].data.concept_name)),a[1]&2048&&(f.$$scope={dirty:a,ctx:s}),l.$set(f);const c={};a[0]&1024&&(c.concept=s[10].data),n.$set(c)},i(s){o||(p(l.$$.fragment,s),p(n.$$.fragment,s),o=!0)},o(s){w(l.$$.fragment,s),w(n.$$.fragment,s),o=!1},d(s){s&&_(e),B(l),s&&_(t),B(n,s)}}}function Zs(i){let e,l=i[10].error.message+"",t;return{c(){e=I("p"),t=Q(l)},l(n){e=D(n,"P",{});var o=E(e);t=W(o,l),o.forEach(_)},m(n,o){V(n,e,o),v(e,t)},p(n,o){o[0]&1024&&l!==(l=n[10].error.message+"")&&fe(t,l)},i:J,o:J,d(n){n&&_(e)}}}function Js(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Xs(i){let e;return{c(){e=Q("Go to concept")},l(l){e=W(l,"Go to concept")},m(l,t){V(l,e,t)},d(l){l&&_(e)}}}function xs(i){let e,l,t,n;const o=[Js,Zs,Ks],r=[];function s(a,f){var c,m,u;return(c=a[10])!=null&&c.isLoading?0:(m=a[10])!=null&&m.isError?1:(u=a[10])!=null&&u.isSuccess?2:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=oe()},l(a){l&&l.l(a),t=oe()},m(a,f){~e&&r[e].m(a,f),V(a,t,f),n=!0},p(a,f){let c=e;e=s(a),e===c?~e&&r[e].p(a,f):(l&&(ie(),w(r[c],1,1,()=>{r[c]=null}),re()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),p(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(p(l),n=!0)},o(a){w(l),n=!1},d(a){~e&&r[e].d(a),a&&_(t)}}}function ea(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,g,k,$,b,S,N,C,F,T=i[13].length>0&&Us(i),K=i[0]&&i[1]&&Tl(i);c=new Jn({props:{noLabel:!0,size:"sm",class:"w-80",selected:i[5],$$slots:{default:[Ys]},$$scope:{ctx:i}}}),c.$on("update",i[16]);let X=i[6]!=null&&zl(i);const L=[Gs,Ws,Qs],M=[];function x(Z,O){var G,te,q;return((G=Z[4])==null?void 0:G.order)==null?0:((te=Z[4])==null?void 0:te.order)==="ASC"?1:((q=Z[4])==null?void 0:q.order)==="DESC"?2:-1}~(h=x(i))&&(g=M[h]=L[h](i));let H=i[2]&&Fl(i);return{c(){e=I("div"),T&&T.c(),l=j(),t=I("div"),n=I("div"),K&&K.c(),o=j(),r=I("div"),s=I("div"),a=Q("Sort by"),f=j(),P(c.$$.fragment),m=j(),X&&X.c(),u=j(),d=I("button"),g&&g.c(),b=j(),H&&H.c(),S=oe(),this.h()},l(Z){e=D(Z,"DIV",{class:!0});var O=E(e);T&&T.l(O),l=Y(O),t=D(O,"DIV",{class:!0});var G=E(t);n=D(G,"DIV",{class:!0});var te=E(n);K&&K.l(te),te.forEach(_),o=Y(G),r=D(G,"DIV",{class:!0});var q=E(r);s=D(q,"DIV",{class:!0});var ee=E(s);a=W(ee,"Sort by"),ee.forEach(_),f=Y(q),R(c.$$.fragment,q),m=Y(q),X&&X.l(q),u=Y(q),d=D(q,"BUTTON",{});var pe=E(d);g&&g.l(pe),pe.forEach(_),q.forEach(_),G.forEach(_),O.forEach(_),b=Y(Z),H&&H.l(Z),S=oe(),this.h()},h(){y(n,"class","py-1"),y(s,"class","mr-1"),d.disabled=k=i[4]==null,y(r,"class","sort-container flex flex-row items-center gap-x-1"),y(t,"class","flex w-full flex-row items-center justify-between"),y(e,"class","mx-5 my-2 flex flex-col gap-y-2")},m(Z,O){var G;V(Z,e,O),T&&T.m(e,null),v(e,l),v(e,t),v(t,n),K&&K.m(n,null),v(t,o),v(t,r),v(r,s),v(s,a),v(r,f),A(c,r,null),v(r,m),X&&X.m(r,null),v(r,u),v(r,d),~h&&M[h].m(d,null),V(Z,b,O),H&&H.m(Z,O),V(Z,S,O),N=!0,C||(F=[ye($=Ie.call(null,d,{text:((G=i[4])==null?void 0:G.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."})),ze(d,"click",i[17])],C=!0)},p(Z,O){var q;Z[13].length>0&&T.p(Z,O),Z[0]&&Z[1]?K?K.p(Z,O):(K=Tl(Z),K.c(),K.m(n,null)):K&&(K.d(1),K=null);const G={};O[0]&32&&(G.selected=Z[5]),O[0]&128|O[1]&2048&&(G.$$scope={dirty:O,ctx:Z}),c.$set(G),Z[6]!=null?X?(X.p(Z,O),O[0]&64&&p(X,1)):(X=zl(Z),X.c(),p(X,1),X.m(r,u)):X&&(ie(),w(X,1,1,()=>{X=null}),re());let te=h;h=x(Z),h!==te&&(g&&(ie(),w(M[te],1,1,()=>{M[te]=null}),re()),~h?(g=M[h],g||(g=M[h]=L[h](Z),g.c()),p(g,1),g.m(d,null)):g=null),(!N||O[0]&16&&k!==(k=Z[4]==null))&&(d.disabled=k),$&&Le($.update)&&O[0]&16&&$.update.call(null,{text:((q=Z[4])==null?void 0:q.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."}),Z[2]?H?(H.p(Z,O),O[0]&4&&p(H,1)):(H=Fl(Z),H.c(),p(H,1),H.m(S.parentNode,S)):H&&(ie(),w(H,1,1,()=>{H=null}),re())},i(Z){N||(p(T),p(c.$$.fragment,Z),p(X),p(g),p(H),N=!0)},o(Z){w(T),w(c.$$.fragment,Z),w(X),w(g),w(H),N=!1},d(Z){Z&&_(e),T&&T.d(),K&&K.d(),B(c),X&&X.d(),~h&&M[h].d(),Z&&_(b),H&&H.d(Z),Z&&_(S),C=!1,xe(F)}}}function ta(i,e,l){let t,n,o,r,s,a,f,c,m,u,d,h=J,g=()=>(h(),h=Ne(t,O=>l(10,d=O)),t);i.$$.on_destroy.push(()=>h());let{totalNumRows:k}=e,{manifest:$}=e,b=Ue();ke(i,b,O=>l(22,u=O));let S=Ke();ke(i,S,O=>l(21,m=O));let N=null;const C=["keyword","semantic","concept"],F={keyword:"Keyword",semantic:"Semantic",concept:"Concepts"};let T={};function K(O){O.type==="concept"&&l(2,N={namespace:O.concept_namespace,name:O.concept_name})}let X={};const L=O=>{const G=O.detail;G!==s&&b.setSortBy(G===""?null:Nt(G))},M=()=>{r!=null&&b.setSortBy(r.path),b.setSortOrder((r==null?void 0:r.order)==="ASC"?"DESC":"ASC")},x=()=>{b.clearSorts()},H=O=>K(O),Z=()=>l(2,N=null);return i.$$set=O=>{"totalNumRows"in O&&l(0,k=O.totalNumRows),"manifest"in O&&l(1,$=O.manifest)},i.$$.update=()=>{var O,G,te,q;if(i.$$.dirty[0]&4&&g(l(9,t=N?Xn(N.namespace,N.name):void 0)),i.$$.dirty[0]&4194304&&l(20,n=Tt(u)),i.$$.dirty[0]&4194304&&l(8,o=u.query.filters),i.$$.dirty[0]&1048584){l(3,T={});for(const ee of n)ee.type&&(ee.type in T||l(3,T[ee.type]=[],T),T[ee.type].push(ee))}if(i.$$.dirty[0]&2097152&&l(4,r=Ri(m)),i.$$.dirty[0]&2097152)for(const ee of((G=(O=m.selectRowsSchema)==null?void 0:O.data)==null?void 0:G.search_results)||[])X[Fe(ee.result_path)]=ee;i.$$.dirty[0]&16&&l(5,s=r!=null&&r.path?Fe(r.path):""),i.$$.dirty[0]&4194304&&l(6,a=u.query.sort_by),i.$$.dirty[0]&2097248&&l(19,f=((q=(te=m.selectRowsSchema)==null?void 0:te.data)==null?void 0:q.schema)!=null?[{path:[""],text:"None",disabled:a==null&&s!==""},...Ct(m.selectRowsSchema.data.schema).filter(ee=>ee.dtype!="embedding"&&ee.dtype!="string_span").map(ee=>({path:ee.path,text:nt(ee.path.slice(1)),disabled:!1}))]:[]),i.$$.dirty[0]&524288&&l(7,c=f.reduce((ee,pe)=>{const ce=pe.path[0];return(ee[ce]=ee[ce]||[]).push(pe),ee},{}))},[k,$,N,T,r,s,a,c,o,t,d,b,S,C,F,K,L,M,x,f,n,m,u,H,Z]}class la extends ve{constructor(e){super(),we(this,e,ta,ea,be,{totalNumRows:0,manifest:1},null,[-1,-1])}}function Pl(i,e,l){const t=i.slice();t[14]=e[l];const n=gt.value(t[14]);return t[15]=n,t}function $t(i){var n,o,r;const e=i.slice(),l=gt.path(e[14])||[];e[1]=l;const t=((r=(o=(n=e[7].data)==null?void 0:n.ui)==null?void 0:o.markdown_paths)==null?void 0:r.find(function(...a){return i[13](e[1],...a)}))!=null;return e[18]=t,e}function Al(i){let e,l,t,n=nt(i[1])+"",o,r,s,a,f,c;return a=new _i({props:{text:$e(i[15]),row:i[0],path:i[1],markdown:i[18],spanPaths:i[5].spanPaths,valuePaths:i[5].valuePaths,datasetViewStore:i[8],datasetStore:i[2],embeddings:i[6]}}),{c(){e=I("div"),l=I("div"),t=I("div"),o=Q(n),r=j(),s=I("div"),P(a.$$.fragment),f=j(),this.h()},l(m){e=D(m,"DIV",{class:!0});var u=E(e);l=D(u,"DIV",{class:!0});var d=E(l);t=D(d,"DIV",{class:!0});var h=E(t);o=W(h,n),h.forEach(_),d.forEach(_),r=Y(u),s=D(u,"DIV",{class:!0});var g=E(s);R(a.$$.fragment,g),g.forEach(_),f=Y(u),u.forEach(_),this.h()},h(){y(t,"class","sticky top-0 self-start truncate p-4 leading-5"),y(l,"class","relative flex w-44 flex-none font-mono font-medium text-neutral-500"),y(s,"class","mx-4 w-full font-normal"),y(e,"class","flex")},m(m,u){V(m,e,u),v(e,l),v(l,t),v(t,o),v(e,r),v(e,s),A(a,s,null),v(e,f),c=!0},p(m,u){(!c||u&8)&&n!==(n=nt(m[1])+"")&&fe(o,n);const d={};u&8&&(d.text=$e(m[15])),u&1&&(d.row=m[0]),u&8&&(d.path=m[1]),u&136&&(d.markdown=m[18]),u&32&&(d.spanPaths=m[5].spanPaths),u&32&&(d.valuePaths=m[5].valuePaths),u&4&&(d.datasetStore=m[2]),u&64&&(d.embeddings=m[6]),a.$set(d)},i(m){c||(p(a.$$.fragment,m),c=!0)},o(m){w(a.$$.fragment,m),c=!1},d(m){m&&_(e),B(a)}}}function Bl(i){let e=Gt(i[15]),l,t,n=e&&Al($t(i));return{c(){n&&n.c(),l=oe()},l(o){n&&n.l(o),l=oe()},m(o,r){n&&n.m(o,r),V(o,l,r),t=!0},p(o,r){r&8&&(e=Gt(o[15])),e?n?(n.p($t(o),r),r&8&&p(n,1)):(n=Al($t(o)),n.c(),p(n,1),n.m(l.parentNode,l)):n&&(ie(),w(n,1,1,()=>{n=null}),re())},i(o){t||(p(n),t=!0)},o(o){w(n),t=!1},d(o){n&&n.d(o),o&&_(l)}}}function na(i){let e,l,t=i[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=Bl(Pl(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);V(r,e,s),l=!0},p(r,[s]){if(s&493){t=r[3];let a;for(a=0;a<t.length;a+=1){const f=Pl(r,t,a);n[a]?(n[a].p(f,s),p(n[a],1)):(n[a]=Bl(f),n[a].c(),p(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)p(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){Pe(n,r),r&&_(e)}}}function ia(i,e,l){let t,n,o,r,s,a,f,c=J,m=()=>(c(),c=Ne(o,S=>l(7,f=S)),o);i.$$.on_destroy.push(()=>c());let{path:u}=e,{row:d}=e,{field:h}=e,{highlightedFields:g}=e;const k=Ue();ke(i,k,S=>l(12,s=S));const $=Ke();ke(i,$,S=>l(2,a=S));const b=(S,N)=>Xe(N,S);return i.$$set=S=>{"path"in S&&l(1,u=S.path),"row"in S&&l(0,d=S.row),"field"in S&&l(10,h=S.field),"highlightedFields"in S&&l(11,g=S.highlightedFields)},i.$$.update=()=>{i.$$.dirty&6&&l(6,t=_t(a.schema,u)),i.$$.dirty&3072&&l(5,n=ti(h,g)),i.$$.dirty&4096&&m(l(4,o=ot(s.namespace,s.datasetName))),i.$$.dirty&3&&l(3,r=Li(d,u))},[d,u,a,r,o,n,t,f,k,$,h,g,s,b]}class ra extends ve{constructor(e){super(),we(this,e,ia,na,be,{path:1,row:0,field:10,highlightedFields:11})}}function Rl(i,e,l){const t=i.slice();return t[8]=e[l],t[10]=l,t}function Hl(i){let e,l=[],t=new Map,n,o,r=i[1];const s=a=>Fe(a[8].path);for(let a=0;a<r.length;a+=1){let f=Rl(i,r,a),c=s(f);t.set(c,l[a]=Ol(c,f))}return{c(){e=I("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);for(let c=0;c<l.length;c+=1)l[c].l(f);f.forEach(_),this.h()},h(){y(e,"class","w-2/3"),Dt(()=>i[7].call(e))},m(a,f){V(a,e,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);n=Ti(e,i[7].bind(e)),o=!0},p(a,f){f&7&&(r=a[1],ie(),l=yt(l,f,s,1,a,r,t,e,It,Ol,null,Rl),re())},i(a){if(!o){for(let f=0;f<r.length;f+=1)p(l[f]);o=!0}},o(a){for(let f=0;f<l.length;f+=1)w(l[f]);o=!1},d(a){a&&_(e);for(let f=0;f<l.length;f+=1)l[f].d();n()}}}function Ol(i,e){let l,t,n,o;return t=new ra({props:{row:e[0],path:e[8].path,field:e[8],highlightedFields:e[2]}}),{key:i,first:null,c(){l=I("div"),P(t.$$.fragment),n=j(),this.h()},l(r){l=D(r,"DIV",{class:!0});var s=E(l);R(t.$$.fragment,s),n=Y(s),s.forEach(_),this.h()},h(){y(l,"class","border-neutral-200"),ue(l,"border-b",e[10]<e[1].length-1),this.first=l},m(r,s){V(r,l,s),A(t,l,null),v(l,n),o=!0},p(r,s){e=r;const a={};s&1&&(a.row=e[0]),s&2&&(a.path=e[8].path),s&2&&(a.field=e[8]),s&4&&(a.highlightedFields=e[2]),t.$set(a),(!o||s&2)&&ue(l,"border-b",e[10]<e[1].length-1)},i(r){o||(p(t.$$.fragment,r),o=!0)},o(r){w(t.$$.fragment,r),o=!1},d(r){r&&_(l),B(t)}}}function sa(i){let e,l,t,n,o,r,s,a,f,c=i[1].length>0&&Hl(i);return s=new Mr({props:{row:i[0],selectRowsSchema:i[4],highlightedFields:i[2]}}),{c(){e=I("div"),l=I("div"),c&&c.c(),t=j(),n=I("div"),o=I("div"),r=I("div"),P(s.$$.fragment),this.h()},l(m){e=D(m,"DIV",{class:!0});var u=E(e);l=D(u,"DIV",{class:!0});var d=E(l);c&&c.l(d),t=Y(d),n=D(d,"DIV",{class:!0});var h=E(n);o=D(h,"DIV",{class:!0});var g=E(o);r=D(g,"DIV",{style:!0,class:!0});var k=E(r);R(s.$$.fragment,k),k.forEach(_),g.forEach(_),h.forEach(_),d.forEach(_),u.forEach(_),this.h()},h(){y(r,"style",a=`max-height: ${Math.max(Ll,i[3])}px`),y(r,"class","overflow-y-auto py-2"),y(o,"class","sticky top-0 w-full self-start"),y(n,"class","flex h-full w-1/3 bg-neutral-100"),y(l,"class","flex h-full w-full flex-row"),y(e,"class","rounded border border-neutral-300")},m(m,u){V(m,e,u),v(e,l),c&&c.m(l,null),v(l,t),v(l,n),v(n,o),v(o,r),A(s,r,null),f=!0},p(m,[u]){m[1].length>0?c?(c.p(m,u),u&2&&p(c,1)):(c=Hl(m),c.c(),p(c,1),c.m(l,t)):c&&(ie(),w(c,1,1,()=>{c=null}),re());const d={};u&1&&(d.row=m[0]),u&16&&(d.selectRowsSchema=m[4]),u&4&&(d.highlightedFields=m[2]),s.$set(d),(!f||u&8&&a!==(a=`max-height: ${Math.max(Ll,m[3])}px`))&&y(r,"style",a)},i(m){f||(p(c),p(s.$$.fragment,m),f=!0)},o(m){w(c),w(s.$$.fragment,m),f=!1},d(m){m&&_(e),c&&c.d(),B(s)}}}const Ll=320;function aa(i,e,l){let t,n,{row:o}=e,{mediaFields:r}=e,{highlightedFields:s}=e;const a=Ke();ke(i,a,m=>l(6,n=m));let f=0;function c(){f=this.clientHeight,l(3,f)}return i.$$set=m=>{"row"in m&&l(0,o=m.row),"mediaFields"in m&&l(1,r=m.mediaFields),"highlightedFields"in m&&l(2,s=m.highlightedFields)},i.$$.update=()=>{var m;i.$$.dirty&64&&l(4,t=(m=n.selectRowsSchema)==null?void 0:m.data)},[o,r,s,f,t,a,n,c]}class oa extends ve{constructor(e){super(),we(this,e,aa,sa,be,{row:0,mediaFields:1,highlightedFields:2})}}function ql(i,e,l){const t=i.slice();return t[22]=e[l],t}function fa(i){let e,l;return{c(){e=I("div"),l=Q("No results."),this.h()},l(t){e=D(t,"DIV",{class:!0});var n=E(e);l=W(n,"No results."),n.forEach(_),this.h()},h(){y(e,"class","mx-4 mt-8 w-full text-gray-600")},m(t,n){V(t,e,n),v(e,l)},p:J,i:J,o:J,d(t){t&&_(e)}}}function ca(i){let e,l;return e=new Be({props:{paragraph:!0,lines:3}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ua(i){var t,n;let e,l;return e=new li({props:{lowContrast:!0,title:"Could not fetch schema:",subtitle:((t=i[1].error.body)==null?void 0:t.detail)||((n=i[1])==null?void 0:n.error.message)}}),{c(){P(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){A(e,o,r),l=!0},p(o,r){var a,f;const s={};r&2&&(s.subtitle=((a=o[1].error.body)==null?void 0:a.detail)||((f=o[1])==null?void 0:f.error.message)),e.$set(s)},i(o){l||(p(e.$$.fragment,o),l=!0)},o(o){w(e.$$.fragment,o),l=!1},d(o){B(e,o)}}}function da(i){var t;let e,l;return e=new li({props:{lowContrast:!0,title:"Could not fetch rows:",subtitle:((t=i[3].error.body)==null?void 0:t.detail)||i[3].error.message}}),{c(){P(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,o){A(e,n,o),l=!0},p(n,o){var s;const r={};o&8&&(r.subtitle=((s=n[3].error.body)==null?void 0:s.detail)||n[3].error.message),e.$set(r)},i(n){l||(p(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){B(e,n)}}}function Ul(i){let e,l,t,n=i[5],o=[];for(let a=0;a<n.length;a+=1)o[a]=jl(ql(i,n,a));const r=a=>w(o[a],1,1,()=>{o[a]=null});let s=i[5].length>0&&Yl(i);return{c(){e=I("div");for(let a=0;a<o.length;a+=1)o[a].c();l=j(),s&&s.c(),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);for(let c=0;c<o.length;c+=1)o[c].l(f);l=Y(f),s&&s.l(f),f.forEach(_),this.h()},h(){y(e,"class","flex h-full w-full flex-col gap-y-20 overflow-y-scroll px-5 pb-32")},m(a,f){V(a,e,f);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);v(e,l),s&&s.m(e,null),i[20](e),t=!0},p(a,f){if(f&304){n=a[5];let c;for(c=0;c<n.length;c+=1){const m=ql(a,n,c);o[c]?(o[c].p(m,f),p(o[c],1)):(o[c]=jl(m),o[c].c(),p(o[c],1),o[c].m(e,l))}for(ie(),c=n.length;c<o.length;c+=1)r(c);re()}a[5].length>0?s?(s.p(a,f),f&32&&p(s,1)):(s=Yl(a),s.c(),p(s,1),s.m(e,null)):s&&(ie(),w(s,1,1,()=>{s=null}),re())},i(a){if(!t){for(let f=0;f<n.length;f+=1)p(o[f]);p(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)w(o[f]);w(s),t=!1},d(a){a&&_(e),Pe(o,a),s&&s.d(),i[20](null)}}}function jl(i){let e,l;return e=new oa({props:{row:i[22],mediaFields:i[4],highlightedFields:i[8]}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&32&&(o.row=t[22]),n&16&&(o.mediaFields=t[4]),n&256&&(o.highlightedFields=t[8]),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Yl(i){let e,l;return e=new Vs({props:{threshold:100}}),e.$on("loadMore",i[19]),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ma(i){let e,l,t,n,o,r,s;e=new la({props:{totalNumRows:i[6],manifest:i[12].data}});const a=[da,ua,ca,fa],f=[];function c(u,d){var h,g,k,$;return u[3].isError?0:(h=u[1])!=null&&h.isError?1:(g=u[3])!=null&&g.isFetching||u[13].isFetching||(k=u[1])!=null&&k.isFetching||u[2].isFetching?2:($=u[3])!=null&&$.isSuccess&&u[5]&&u[5].length===0?3:-1}~(t=c(i))&&(n=f[t]=a[t](i));let m=i[5]&&i[13].isSuccess&&i[4]!=null&&Ul(i);return{c(){P(e.$$.fragment),l=j(),n&&n.c(),o=j(),m&&m.c(),r=oe()},l(u){R(e.$$.fragment,u),l=Y(u),n&&n.l(u),o=Y(u),m&&m.l(u),r=oe()},m(u,d){A(e,u,d),V(u,l,d),~t&&f[t].m(u,d),V(u,o,d),m&&m.m(u,d),V(u,r,d),s=!0},p(u,[d]){const h={};d&64&&(h.totalNumRows=u[6]),d&4096&&(h.manifest=u[12].data),e.$set(h);let g=t;t=c(u),t===g?~t&&f[t].p(u,d):(n&&(ie(),w(f[g],1,1,()=>{f[g]=null}),re()),~t?(n=f[t],n?n.p(u,d):(n=f[t]=a[t](u),n.c()),p(n,1),n.m(o.parentNode,o)):n=null),u[5]&&u[13].isSuccess&&u[4]!=null?m?(m.p(u,d),d&8240&&p(m,1)):(m=Ul(u),m.c(),p(m,1),m.m(r.parentNode,r)):m&&(ie(),w(m,1,1,()=>{m=null}),re())},i(u){s||(p(e.$$.fragment,u),p(n),p(m),s=!0)},o(u){w(e.$$.fragment,u),w(n),w(m),s=!1},d(u){B(e,u),u&&_(l),~t&&f[t].d(u),u&&_(o),m&&m.d(u),u&&_(r)}}}function ha(i,e,l){let t,n,o,r,s,a,f,c,m,u,d,h=J,g=()=>(h(),h=Ne(r,te=>l(2,d=te)),r),k,$,b=J,S=()=>(b(),b=Ne(f,te=>l(3,$=te)),f),N,C,F=J,T=()=>(F(),F=Ne(t,te=>l(12,C=te)),t),K,X=J,L=()=>(X(),X=Ne(n,te=>l(13,K=te)),n);i.$$.on_destroy.push(()=>h()),i.$$.on_destroy.push(()=>b()),i.$$.on_destroy.push(()=>F()),i.$$.on_destroy.push(()=>X());const M=Ue();ke(i,M,te=>l(18,N=te));const x=Ke();ke(i,x,te=>l(17,k=te));let H=null;const Z=yr(H),O=()=>$==null?void 0:$.fetchNextPage();function G(te){Oe[te?"unshift":"push"](()=>{H=te,l(0,H)})}return i.$$.update=()=>{var te,q,ee,pe;i.$$.dirty&262144&&T(l(11,t=qi(N.namespace,N.datasetName))),i.$$.dirty&262144&&L(l(10,n=zt(N.namespace,N.datasetName))),i.$$.dirty&262144&&l(16,o=Ui(N)),i.$$.dirty&262144&&g(l(9,r=ot(N.namespace,N.datasetName))),i.$$.dirty&131072&&l(1,s=k.selectRowsSchema),i.$$.dirty&262146&&l(8,a=ji(N.query,s==null?void 0:s.data)),i.$$.dirty&327682&&S(l(7,f=Yi(N.namespace,N.datasetName,o||{},s!=null&&s.isSuccess?s.data.schema:void 0))),i.$$.dirty&8&&l(6,c=(te=$.data)==null?void 0:te.pages[0].total_num_rows),i.$$.dirty&8&&l(5,m=(q=$.data)==null?void 0:q.pages.flatMap(ce=>ce.rows)),i.$$.dirty&131076&&l(4,u=d.data?Qi((pe=(ee=k.selectRowsSchema)==null?void 0:ee.data)==null?void 0:pe.schema,d.data):[]),i.$$.dirty&1&&Z.set(H)},Ci(Wi,Z),[H,s,d,$,u,m,c,f,a,r,n,t,C,K,M,x,o,k,N,O,G]}class _a extends ve{constructor(e){super(),we(this,e,ha,ma,be,{})}}function Ql(i){const e=i[3].find(function(...o){return i[38](i[48],...o)});i[49]=e;const l=i[49]!=null&&typeof i[49].id=="object"&&i[49].id.type==="field"&&i[49].id.isSignal;i[50]=l;const t=i[49]!=null&&typeof i[49].id=="object"&&i[49].id.type==="concept";i[51]=t}function Wl(i){const e=i[5].find(function(...t){return i[37](i[49],...t)});i[52]=e}function Gl(i){let e,l=i[52].text+"",t,n,o,r,s=i[52].embeddings.length>0&&Kl(i);return{c(){e=I("div"),t=Q(l),n=j(),s&&s.c(),o=oe(),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);t=W(f,l),f.forEach(_),n=Y(a),s&&s.l(a),o=oe(),this.h()},h(){y(e,"class","w-full flex-grow truncate")},m(a,f){V(a,e,f),v(e,t),V(a,n,f),s&&s.m(a,f),V(a,o,f),r=!0},p(a,f){(!r||f[0]&32|f[1]&262144)&&l!==(l=a[52].text+"")&&fe(t,l),a[52].embeddings.length>0?s?(s.p(a,f),f[0]&32|f[1]&262144&&p(s,1)):(s=Kl(a),s.c(),p(s,1),s.m(o.parentNode,o)):s&&(ie(),w(s,1,1,()=>{s=null}),re())},i(a){r||(p(s),r=!0)},o(a){w(s),r=!1},d(a){a&&_(e),a&&_(n),s&&s.d(a),a&&_(o)}}}function Kl(i){let e,l,t,n,o,r;return l=new Ye({props:{$$slots:{default:[ga]},$$scope:{ctx:i}}}),{c(){e=I("div"),P(l.$$.fragment)},l(s){e=D(s,"DIV",{});var a=E(e);R(l.$$.fragment,a),a.forEach(_)},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{text:`Computed embeddings: ${i[52].embeddings.join(", ")}`})),o=!0)},p(s,a){i=s;const f={};a[1]&4194304&&(f.$$scope={dirty:a,ctx:i}),l.$set(f),t&&Le(t.update)&&a[0]&32|a[1]&262144&&t.update.call(null,{text:`Computed embeddings: ${i[52].embeddings.join(", ")}`})},i(s){n||(p(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function ga(i){let e,l;return e=new er({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function pa(i){Wl(i);let e,l,t=i[52]&&Gl(i);return{c(){e=I("div"),t&&t.c(),this.h()},l(n){e=D(n,"DIV",{class:!0});var o=E(e);t&&t.l(o),o.forEach(_),this.h()},h(){y(e,"class","flex h-full w-full items-center justify-between gap-x-1")},m(n,o){V(n,e,o),t&&t.m(e,null),l=!0},p(n,o){Wl(n),n[52]?t?(t.p(n,o),o[0]&32|o[1]&262144&&p(t,1)):(t=Gl(n),t.c(),p(t,1),t.m(e,null)):t&&(ie(),w(t,1,1,()=>{t=null}),re())},i(n){l||(p(t),l=!0)},o(n){w(t),l=!1},d(n){n&&_(e),t&&t.d()}}}function ba(i){let e,l,t=i[49].text+"",n,o,r=i[49].description&&Zl(i);return{c(){e=I("div"),l=I("div"),n=Q(t),o=j(),r&&r.c(),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);l=D(a,"DIV",{});var f=E(l);n=W(f,t),f.forEach(_),o=Y(a),r&&r.l(a),a.forEach(_),this.h()},h(){y(e,"class","flex justify-between gap-x-8"),ue(e,"isSignal",i[50]),ue(e,"isConcept",i[51])},m(s,a){V(s,e,a),v(e,l),v(l,n),v(e,o),r&&r.m(e,null)},p(s,a){a[0]&8|a[1]&131072&&t!==(t=s[49].text+"")&&fe(n,t),s[49].description?r?r.p(s,a):(r=Zl(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null),a[0]&8|a[1]&131072&&ue(e,"isSignal",s[50]),a[0]&8|a[1]&131072&&ue(e,"isConcept",s[51])},i:J,o:J,d(s){s&&_(e),r&&r.d()}}}function va(i){let e,l,t,n,o,r;return l=new Ye({props:{$$slots:{default:[Sa]},$$scope:{ctx:i}}}),{c(){e=I("div"),P(l.$$.fragment),t=j(),n=I("div"),o=Q("Compute embeddings to enable concept search."),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);R(l.$$.fragment,a),t=Y(a),n=D(a,"DIV",{class:!0});var f=E(n);o=W(f,"Compute embeddings to enable concept search."),f.forEach(_),a.forEach(_),this.h()},h(){y(n,"class","ml-2"),y(e,"class","new-concept flex items-center")},m(s,a){V(s,e,a),A(l,e,null),v(e,t),v(e,n),v(n,o),r=!0},p(s,a){const f={};a[1]&4194304&&(f.$$scope={dirty:a,ctx:s}),l.$set(f)},i(s){r||(p(l.$$.fragment,s),r=!0)},o(s){w(l.$$.fragment,s),r=!1},d(s){s&&_(e),B(l)}}}function wa(i){let e,l,t,n,o,r,s;return l=new Ye({props:{$$slots:{default:[ya]},$$scope:{ctx:i}}}),{c(){e=I("div"),P(l.$$.fragment),t=j(),n=I("div"),o=Q(`Semantic search:
              `),r=Q(i[1]),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);R(l.$$.fragment,f),t=Y(f),n=D(f,"DIV",{class:!0});var c=E(n);o=W(c,`Semantic search:
              `),r=W(c,i[1]),c.forEach(_),f.forEach(_),this.h()},h(){y(n,"class","ml-2"),y(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){V(a,e,f),A(l,e,null),v(e,t),v(e,n),v(n,o),v(n,r),s=!0},p(a,f){const c={};f[1]&4194304&&(c.$$scope={dirty:f,ctx:a}),l.$set(c),(!s||f[0]&2)&&fe(r,a[1])},i(a){s||(p(l.$$.fragment,a),s=!0)},o(a){w(l.$$.fragment,a),s=!1},d(a){a&&_(e),B(l)}}}function ka(i){let e,l,t,n,o,r,s;return l=new Ye({props:{$$slots:{default:[Ia]},$$scope:{ctx:i}}}),{c(){e=I("div"),P(l.$$.fragment),t=j(),n=I("div"),o=Q(`Keyword search:
              `),r=Q(i[1]),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);R(l.$$.fragment,f),t=Y(f),n=D(f,"DIV",{class:!0});var c=E(n);o=W(c,`Keyword search:
              `),r=W(c,i[1]),c.forEach(_),f.forEach(_),this.h()},h(){y(n,"class","ml-2"),y(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){V(a,e,f),A(l,e,null),v(e,t),v(e,n),v(n,o),v(n,r),s=!0},p(a,f){const c={};f[1]&4194304&&(c.$$scope={dirty:f,ctx:a}),l.$set(c),(!s||f[0]&2)&&fe(r,a[1])},i(a){s||(p(l.$$.fragment,a),s=!0)},o(a){w(l.$$.fragment,a),s=!1},d(a){a&&_(e),B(l)}}}function $a(i){let e,l,t,n,o,r=i[1]!=""?":":"",s,a,f,c;return l=new Ye({props:{$$slots:{default:[Da]},$$scope:{ctx:i}}}),{c(){e=I("div"),P(l.$$.fragment),t=j(),n=I("div"),o=Q("New concept"),s=Q(r),a=j(),f=Q(i[1]),this.h()},l(m){e=D(m,"DIV",{class:!0});var u=E(e);R(l.$$.fragment,u),t=Y(u),n=D(u,"DIV",{class:!0});var d=E(n);o=W(d,"New concept"),s=W(d,r),a=Y(d),f=W(d,i[1]),d.forEach(_),u.forEach(_),this.h()},h(){y(n,"class","ml-2"),y(e,"class","new-concept flex flex-row items-center justify-items-center")},m(m,u){V(m,e,u),A(l,e,null),v(e,t),v(e,n),v(n,o),v(n,s),v(n,a),v(n,f),c=!0},p(m,u){const d={};u[1]&4194304&&(d.$$scope={dirty:u,ctx:m}),l.$set(d),(!c||u[0]&2)&&r!==(r=m[1]!=""?":":"")&&fe(s,r),(!c||u[0]&2)&&fe(f,m[1])},i(m){c||(p(l.$$.fragment,m),c=!0)},o(m){w(l.$$.fragment,m),c=!1},d(m){m&&_(e),B(l)}}}function Ea(i){let e;return{c(){e=I("div")},l(l){e=D(l,"DIV",{}),E(e).forEach(_)},m(l,t){V(l,e,t)},p:J,i:J,o:J,d(l){l&&_(e)}}}function Zl(i){let e,l=i[49].description+"",t;return{c(){e=I("div"),t=Q(l),this.h()},l(n){e=D(n,"DIV",{class:!0});var o=E(e);t=W(o,l),o.forEach(_),this.h()},h(){y(e,"class","truncate text-xs text-gray-500")},m(n,o){V(n,e,o),v(e,t)},p(n,o){o[0]&8|o[1]&131072&&l!==(l=n[49].description+"")&&fe(t,l)},d(n){n&&_(e)}}}function Sa(i){let e,l;return e=new mi({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ya(i){let e,l;return e=new bi({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ia(i){let e,l;return e=new bi({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Da(i){let e,l;return e=new xr({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Va(i){Ql(i);let e,l,t,n;const o=[Ea,$a,ka,wa,va,ba],r=[];function s(a,f){return a[49]==null?0:a[49].id==="new-concept"?1:a[49].id==="keyword-search"?2:a[49].id==="semantic-search"?3:a[49].id==="compute-embedding"&&a[2]&&a[0]?4:5}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=oe()},l(a){l.l(a),t=oe()},m(a,f){r[e].m(a,f),V(a,t,f),n=!0},p(a,f){Ql(a);let c=e;e=s(a),e===c?r[e].p(a,f):(ie(),w(r[c],1,1,()=>{r[c]=null}),re(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),p(l,1),l.m(t.parentNode,t))},i(a){n||(p(l),n=!0)},o(a){w(l),n=!1},d(a){r[e].d(a),a&&_(t)}}}function Na(i){var $;let e,l,t,n,o,r,s,a,f,c,m,u,d,h;n=new ms({props:{class:"ml-2 mr-px",size:16}}),s=new Zr({props:{size:"xl",class:"w-48",disabled:i[0]==null,selectedId:i[0]?Fe(i[0]):($=i[5][0])==null?void 0:$.id,items:i[5],$$slots:{default:[pa,({item:b})=>({49:b}),({item:b})=>[0,b?262144:0]]},$$scope:{ctx:i}}}),s.$on("select",i[16]);function g(b){i[40](b)}let k={size:"xl",class:"w-full",items:i[3],shouldFilterItem:Ta,placeholder:i[6],$$slots:{default:[Va,({item:b})=>({48:b}),({item:b})=>[0,b?131072:0]]},$$scope:{ctx:i}};return i[1]!==void 0&&(k.value=i[1]),c=new Br({props:k}),i[39](c),Oe.push(()=>We(c,"value",g)),c.$on("select",i[15]),{c(){e=I("div"),l=I("div"),t=I("div"),P(n.$$.fragment),o=j(),r=I("div"),P(s.$$.fragment),a=j(),f=I("div"),P(c.$$.fragment),this.h()},l(b){e=D(b,"DIV",{class:!0});var S=E(e);l=D(S,"DIV",{class:!0});var N=E(l);t=D(N,"DIV",{class:!0});var C=E(t);R(n.$$.fragment,C),C.forEach(_),o=Y(N),r=D(N,"DIV",{class:!0});var F=E(r);R(s.$$.fragment,F),F.forEach(_),a=Y(N),f=D(N,"DIV",{class:!0});var T=E(f);R(c.$$.fragment,T),T.forEach(_),N.forEach(_),S.forEach(_),this.h()},h(){y(t,"class","search-icon flex items-center svelte-mzi0ww"),y(r,"class","embedding-dropdown rounded border-r border-gray-200"),y(f,"class","search-container w-full flex-grow"),y(l,"class","flex w-full rounded border border-gray-200"),y(e,"class","flex h-full w-full flex-grow items-center")},m(b,S){V(b,e,S),v(e,l),v(l,t),A(n,t,null),v(l,o),v(l,r),A(s,r,null),v(l,a),v(l,f),A(c,f,null),u=!0,d||(h=ye(Ie.call(null,t,{text:"Select the field to search over."})),d=!0)},p(b,S){var F;const N={};S[0]&1&&(N.disabled=b[0]==null),S[0]&33&&(N.selectedId=b[0]?Fe(b[0]):(F=b[5][0])==null?void 0:F.id),S[0]&32&&(N.items=b[5]),S[0]&32|S[1]&4456448&&(N.$$scope={dirty:S,ctx:b}),s.$set(N);const C={};S[0]&8&&(C.items=b[3]),S[0]&64&&(C.placeholder=b[6]),S[0]&15|S[1]&4325376&&(C.$$scope={dirty:S,ctx:b}),!m&&S[0]&2&&(m=!0,C.value=b[1],Ge(()=>m=!1)),c.$set(C)},i(b){u||(p(n.$$.fragment,b),p(s.$$.fragment,b),p(c.$$.fragment,b),u=!0)},o(b){w(n.$$.fragment,b),w(s.$$.fragment,b),w(c.$$.fragment,b),u=!1},d(b){b&&_(e),B(n),B(s),i[39](null),B(c),d=!1,h()}}}const Ta=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-concept"||i.id==="compute-embedding";function Ca(i,e,l){let t,n,o,r,s,a,f,c,m,u,d,h,g,k,$,b,S,N,C,F,T,K,X,L=J,M=()=>(L(),L=Ne(t,de=>l(35,X=de)),t),x;i.$$.on_destroy.push(()=>L());const H=Ue();ke(i,H,de=>l(36,x=de));const Z=Ke();ke(i,Z,de=>l(30,S=de));const O=pi();ke(i,O,de=>l(34,K=de));let G;function te(de,Ve,Qe,je){if(Qe==null||Ve==null||de==null)return[];const tt=Qe?lt(Qe):[],Ae=[];for(const Ce of tt){if(Ce.dtype==null||Ce.dtype==="embedding"||Ce.dtype==="binary"||!ri(Ce.path,de))continue;const He=xi(Ce);if((He==null?void 0:He.signal_name)==="concept_score"||(je==null?void 0:je.some(Di=>Di.name===(He==null?void 0:He.signal_name))))continue;const Ut=Zn(Ce.path),jt=nt(Ce.path.slice(de.length));if(si(Ce.dtype)){Ae.push({id:{type:"field",path:Ce.path,sort:"DESC",isSignal:He!=null},text:jt,description:`Sort descending by ${Ut}`});continue}if(Ce.dtype==="string"||Ce.dtype==="string_span"){if(He==null)continue;Ae.push({id:{type:"field",path:Ce.path,op:"exists",isSignal:He!=null},text:jt,description:`Find documents with ${Ut}`});continue}}return Ae}const q=ni();ke(i,q,de=>l(43,N=de));const ee=ii();ke(i,ee,de=>l(33,T=de));const pe=(de,Ve)=>`${Fe(de||"")}_${Ve}`;let ce={};const ae=Gi();ke(i,ae,de=>l(32,F=de));const se=Ft();ke(i,se,de=>l(31,C=de));let le=[],U="",z;function ne(){f!=null&&(l(17,ce[pe(G,f)]=!0,ce),N.mutate([n,o,{leaf_path:Nt(G||[]),signal:{signal_name:f}}]))}let Ee;const me=(de,Ve)=>{G==null||f==null||(H.addSearch({path:G,type:"concept",concept_namespace:de,concept_name:Ve,embedding:f}),Ee.clear())},Me=de=>{if(G!=null){if(de.detail.selectedId==="new-concept"){U===z.id&&l(1,U="");const Ve=U.split("/",2);let Qe="",je="";Ve.length===2?[Qe,je]=Ve:[je]=Ve,Ze({command:Je.CreateConcept,namespace:Qe,conceptName:je,dataset:{namespace:n,name:o},path:G,onCreate:tt=>me(tt.detail.namespace,tt.detail.name)})}else if(de.detail.selectedId==="keyword-search"){if(U=="")return;H.addSearch({path:G,type:"keyword",query:U})}else if(de.detail.selectedId=="semantic-search"){if(U==""||f==null)return;H.addSearch({path:G,type:"semantic",query:U,embedding:f})}else if(de.detail.selectedId=="compute-embedding")ne();else if(de.detail.selectedId.type==="concept")me(de.detail.selectedId.namespace,de.detail.selectedId.name);else if(de.detail.selectedId.type==="field"){const Ve=de.detail.selectedId;if(Ve.sort!=null)H.setSortBy(Ve.path),H.setSortOrder(Ve.sort);else if(Ve.op!=null)H.addFilter({path:Ve.path,op:Ve.op});else throw new Error(`Unknown search type ${de.detail.selectedId}`)}else throw new Error(`Unknown search type ${de.detail.selectedId}`);Ee.clear()}},qe=de=>{l(0,G=de.detail.selectedItem.path)};let et=[];const dt=(de,Ve)=>Ve===de,Si=(de,Ve)=>Ve.id===de.id;function yi(de){Oe[de?"unshift":"push"](()=>{Ee=de,l(4,Ee)})}function Ii(de){U=de,l(1,U)}return i.$$.update=()=>{var de,Ve,Qe,je,tt;i.$$.dirty[1]&32&&M(l(7,t=ot(x.namespace,x.datasetName))),i.$$.dirty[1]&32&&(n=x.namespace),i.$$.dirty[1]&32&&(o=x.datasetName),i.$$.dirty[1]&16&&l(19,r=(Qe=(Ve=(de=X.data)==null?void 0:de.ui)==null?void 0:Ve.media_paths)==null?void 0:Qe.map(Ae=>Array.isArray(Ae)?Ae:[Ae])),i.$$.dirty[0]&1074266113&&G==null&&r!=null&&l(0,G=Ki(S,r)),i.$$.dirty[0]&1|i.$$.dirty[1]&32&&l(20,s=Tt(x,G)),i.$$.dirty[0]&1073741825|i.$$.dirty[1]&4&&l(22,a=te(G,S.stats,S.schema,T.data)),i.$$.dirty[0]&1073741825|i.$$.dirty[1]&28&&l(2,f=Zi(X.data,K,S,G,(T.data||[]).map(Ae=>Ae.name))),i.$$.dirty[0]&1073741825&&l(29,c=_t(S.schema,G)),i.$$.dirty[0]&536870916&&l(24,m=c!=null&&!!c.includes(f||"")),i.$$.dirty[0]&16908293&&l(27,u=!m&&ce[pe(G,f)]),i.$$.dirty[0]&16777216&&l(6,d=m?"Search by keyword, field or concept.":"Search by keyword or field. Compute embedding to enable concept search."),i.$$.dirty[1]&1&&l(28,h=(tt=(je=C.data)==null?void 0:je.user)==null?void 0:tt.id),i.$$.dirty[0]&285212672|i.$$.dirty[1]&2&&l(21,g=m?Ji(F.data||[],h):[]),i.$$.dirty[0]&2&&l(18,z={id:"new-concept",text:U}),i.$$.dirty[0]&2&&l(26,k={id:"keyword-search",text:U}),i.$$.dirty[0]&2&&l(25,$={id:"semantic-search",text:U}),i.$$.dirty[0]&134217728&&l(23,b={id:"compute-embedding",text:"Compute embedding",disabled:u}),i.$$.dirty[0]&133431302|i.$$.dirty[1]&3&&l(3,le=F!=null&&F.data?[...U!=""?[k]:[],...U!=""&&f&&m?[$]:[],...m?[z]:[b],...a,...g.flatMap(Ae=>Ae.concepts.map(Ce=>({id:{namespace:Ce.namespace,name:Ce.name,type:"concept"},text:Xi(Ce.namespace,Ce.name,C.data),description:Ce.metadata.description,disabled:s.some(He=>He.type==="concept"&&He.concept_namespace===Ce.namespace&&He.concept_name===Ce.name)})))]:[]),i.$$.dirty[0]&1074266112&&l(5,et=(r||[]).map(Ae=>({id:Fe(Ae),text:nt(Ae),path:Ae,embeddings:_t(S.schema,Ae)})))},[G,U,f,le,Ee,et,d,t,H,Z,O,q,ee,ae,se,Me,qe,ce,z,r,s,g,a,b,m,$,k,u,h,c,S,C,F,T,K,X,x,dt,Si,yi,Ii]}class Ma extends ve{constructor(e){super(),we(this,e,Ca,Na,be,{},null,[-1,-1])}}function Jl(i){let e,l;return e=new zi({props:{light:!0,flipped:!0,$$slots:{default:[za]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&767|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Xl(i){let e,l;return e=new it({props:{text:"Sort by"}}),e.$on("click",i[20]),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function xl(i){let e,l;return e=new it({props:{text:"Filter"}}),e.$on("click",i[21]),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function en(i){let e,l,t,n,o,r;return l=new it({props:{disabled:!i[7],text:"Compute embedding"}}),l.$on("click",i[22]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);R(l.$$.fragment,a),a.forEach(_),this.h()},h(){y(e,"class","w-full")},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{text:i[7]?"":"User does not have access to compute embeddings over this dataset."})),o=!0)},p(s,a){const f={};a[0]&128&&(f.disabled=!s[7]),l.$set(f),t&&Le(t.update)&&a[0]&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute embeddings over this dataset."})},i(s){n||(p(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function tn(i){let e,l,t,n,o,r;return l=new it({props:{text:"Compute concept",disabled:!i[7]||i[9].length===0}}),l.$on("click",i[23]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);R(l.$$.fragment,a),a.forEach(_),this.h()},h(){y(e,"class","w-full")},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{text:i[7]?i[9].length===0?"No embeddings are computed for this field. Compute embeddings before using concepts.":"":"User does not have access to compute concepts over this dataset."})),o=!0)},p(s,a){const f={};a[0]&640&&(f.disabled=!s[7]||s[9].length===0),l.$set(f),t&&Le(t.update)&&a[0]&640&&t.update.call(null,{text:s[7]?s[9].length===0?"No embeddings are computed for this field. Compute embeddings before using concepts.":"":"User does not have access to compute concepts over this dataset."})},i(s){n||(p(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function ln(i){let e,l,t,n,o,r;return l=new it({props:{text:"Compute signal",disabled:!i[7]}}),l.$on("click",i[24]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);R(l.$$.fragment,a),a.forEach(_),this.h()},h(){y(e,"class","w-full")},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{text:i[7]?"":"User does not have access to compute signals over this dataset."})),o=!0)},p(s,a){const f={};a[0]&128&&(f.disabled=!s[7]),l.$set(f),t&&Le(t.update)&&a[0]&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute signals over this dataset."})},i(s){n||(p(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function nn(i){let e,l;return e=new it({props:{text:"Preview signal"}}),e.$on("click",i[25]),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function rn(i){let e,l,t,n,o,r;return l=new it({props:{disabled:!i[6],text:"Delete signal"}}),l.$on("click",i[26]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);R(l.$$.fragment,a),a.forEach(_),this.h()},h(){y(e,"class","w-full")},m(s,a){V(s,e,a),A(l,e,null),n=!0,o||(r=ye(t=Ie.call(null,e,{text:i[6]?"":"User does not have access to delete signals for this dataset."})),o=!0)},p(s,a){const f={};a[0]&64&&(f.disabled=!s[6]),l.$set(f),t&&Le(t.update)&&a[0]&64&&t.update.call(null,{text:s[6]?"":"User does not have access to delete signals for this dataset."})},i(s){n||(p(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),B(l),o=!1,r()}}}function za(i){let e=pt(i[0]),l,t=St(i[0]),n,o,r,s,a,f,c,m=e&&Xl(i),u=t&&xl(i),d=!i[2]&&en(i),h=!i[2]&&tn(i),g=!i[2]&&ln(i),k=!i[2]&&nn(i),$=i[1]&&rn(i);return{c(){m&&m.c(),l=j(),u&&u.c(),n=j(),d&&d.c(),o=j(),h&&h.c(),r=j(),g&&g.c(),s=j(),k&&k.c(),a=j(),$&&$.c(),f=oe()},l(b){m&&m.l(b),l=Y(b),u&&u.l(b),n=Y(b),d&&d.l(b),o=Y(b),h&&h.l(b),r=Y(b),g&&g.l(b),s=Y(b),k&&k.l(b),a=Y(b),$&&$.l(b),f=oe()},m(b,S){m&&m.m(b,S),V(b,l,S),u&&u.m(b,S),V(b,n,S),d&&d.m(b,S),V(b,o,S),h&&h.m(b,S),V(b,r,S),g&&g.m(b,S),V(b,s,S),k&&k.m(b,S),V(b,a,S),$&&$.m(b,S),V(b,f,S),c=!0},p(b,S){S[0]&1&&(e=pt(b[0])),e?m?(m.p(b,S),S[0]&1&&p(m,1)):(m=Xl(b),m.c(),p(m,1),m.m(l.parentNode,l)):m&&(ie(),w(m,1,1,()=>{m=null}),re()),S[0]&1&&(t=St(b[0])),t?u?(u.p(b,S),S[0]&1&&p(u,1)):(u=xl(b),u.c(),p(u,1),u.m(n.parentNode,n)):u&&(ie(),w(u,1,1,()=>{u=null}),re()),b[2]?d&&(ie(),w(d,1,1,()=>{d=null}),re()):d?(d.p(b,S),S[0]&4&&p(d,1)):(d=en(b),d.c(),p(d,1),d.m(o.parentNode,o)),b[2]?h&&(ie(),w(h,1,1,()=>{h=null}),re()):h?(h.p(b,S),S[0]&4&&p(h,1)):(h=tn(b),h.c(),p(h,1),h.m(r.parentNode,r)),b[2]?g&&(ie(),w(g,1,1,()=>{g=null}),re()):g?(g.p(b,S),S[0]&4&&p(g,1)):(g=ln(b),g.c(),p(g,1),g.m(s.parentNode,s)),b[2]?k&&(ie(),w(k,1,1,()=>{k=null}),re()):k?(k.p(b,S),S[0]&4&&p(k,1)):(k=nn(b),k.c(),p(k,1),k.m(a.parentNode,a)),b[1]?$?($.p(b,S),S[0]&2&&p($,1)):($=rn(b),$.c(),p($,1),$.m(f.parentNode,f)):$&&(ie(),w($,1,1,()=>{$=null}),re())},i(b){c||(p(m),p(u),p(d),p(h),p(g),p(k),p($),c=!0)},o(b){w(m),w(u),w(d),w(h),w(g),w(k),w($),c=!1},d(b){m&&m.d(b),b&&_(l),u&&u.d(b),b&&_(n),d&&d.d(b),b&&_(o),h&&h.d(b),b&&_(r),g&&g.d(b),b&&_(s),k&&k.d(b),b&&_(a),$&&$.d(b),b&&_(f)}}}function Fa(i){let e,l,t,n=Fe(i[0].path)+"",o,r,s,a,f;return{c(){e=I("p"),l=Q("Confirm deleting "),t=I("code"),o=Q(n),r=Q(" ?"),s=j(),a=I("p"),f=Q("This is a permanent action and cannot be undone."),this.h()},l(c){e=D(c,"P",{class:!0});var m=E(e);l=W(m,"Confirm deleting "),t=D(m,"CODE",{});var u=E(t);o=W(u,n),u.forEach(_),r=W(m," ?"),m.forEach(_),s=Y(c),a=D(c,"P",{class:!0});var d=E(a);f=W(d,"This is a permanent action and cannot be undone."),d.forEach(_),this.h()},h(){y(e,"class","!text-lg"),y(a,"class","mt-2")},m(c,m){V(c,e,m),v(e,l),v(e,t),v(t,o),v(e,r),V(c,s,m),V(c,a,m),v(a,f)},p(c,m){m[0]&1&&n!==(n=Fe(c[0].path)+"")&&fe(o,n)},d(c){c&&_(e),c&&_(s),c&&_(a)}}}function Pa(i){let e,l,t,n,o=i[8]&&Jl(i);function r(a){i[27](a)}let s={danger:!0,modalHeading:"Delete signal",primaryButtonText:"Delete",primaryButtonIcon:i[10].isLoading?Kt:void 0,secondaryButtonText:"Cancel",$$slots:{default:[Fa]},$$scope:{ctx:i}};return i[3]!==void 0&&(s.open=i[3]),l=new Lt({props:s}),Oe.push(()=>We(l,"open",r)),l.$on("click:button--secondary",i[28]),l.$on("open",i[29]),l.$on("close",i[30]),l.$on("submit",i[15]),{c(){o&&o.c(),e=j(),P(l.$$.fragment)},l(a){o&&o.l(a),e=Y(a),R(l.$$.fragment,a)},m(a,f){o&&o.m(a,f),V(a,e,f),A(l,a,f),n=!0},p(a,f){a[8]?o?(o.p(a,f),f[0]&256&&p(o,1)):(o=Jl(a),o.c(),p(o,1),o.m(e.parentNode,e)):o&&(ie(),w(o,1,1,()=>{o=null}),re());const c={};f[0]&1024&&(c.primaryButtonIcon=a[10].isLoading?Kt:void 0),f[0]&1|f[1]&1&&(c.$$scope={dirty:f,ctx:a}),!t&&f[0]&8&&(t=!0,c.open=a[3],Ge(()=>t=!1)),l.$set(c)},i(a){n||(p(o),p(l.$$.fragment,a),n=!0)},o(a){w(o),w(l.$$.fragment,a),n=!1},d(a){o&&o.d(a),a&&_(e),B(l,a)}}}function Aa(i,e,l){let t,n,o,r,s,a,f,c,m,u,d,h,g,{field:k}=e,$=!1;const b=Ue();ke(i,b,q=>l(19,g=q));const S=Ke();ke(i,S,q=>l(18,h=q));const N=tr();ke(i,N,q=>l(10,u=q));const C=Ft();ke(i,C,q=>l(17,d=q));function F(){u.mutate([t,n,{signal_path:k.path}],{onSuccess:()=>{l(3,$=!1),b.deleteSignal(k.path)}})}const T=()=>b.addSortBy(k.path),K=()=>Ze({command:Je.EditFilter,namespace:t,datasetName:n,path:k.path}),X=()=>Ze({command:Je.ComputeEmbedding,namespace:t,datasetName:n,path:k==null?void 0:k.path}),L=()=>Ze({command:Je.ComputeConcept,namespace:t,datasetName:n,path:k==null?void 0:k.path}),M=()=>Ze({command:Je.ComputeSignal,namespace:t,datasetName:n,path:k==null?void 0:k.path}),x=()=>Ze({command:Je.PreviewConcept,namespace:t,datasetName:n,path:k==null?void 0:k.path}),H=()=>l(3,$=!0);function Z(q){$=q,l(3,$)}const O=()=>l(3,$=!1);function G(q){mt.call(this,i,q)}function te(q){mt.call(this,i,q)}return i.$$set=q=>{"field"in q&&l(0,k=q.field)},i.$$.update=()=>{var q,ee,pe;i.$$.dirty[0]&524288&&l(5,t=g.namespace),i.$$.dirty[0]&524288&&l(4,n=g.datasetName),i.$$.dirty[0]&1&&l(2,o=st(k)),i.$$.dirty[0]&1&&l(1,r=Pt(k)),i.$$.dirty[0]&262145&&l(9,s=_t(h.schema,k.path)),i.$$.dirty[0]&262145&&l(16,a=ai(((q=h.selectRowsSchema)==null?void 0:q.data)||null,k.path)),i.$$.dirty[0]&65543&&l(8,f=(pt(k)||St(k)||!o||r)&&!a),i.$$.dirty[0]&131072&&l(7,c=(ee=d.data)==null?void 0:ee.access.dataset.compute_signals),i.$$.dirty[0]&131072&&l(6,m=(pe=d.data)==null?void 0:pe.access.dataset.delete_signals)},[k,r,o,$,n,t,m,c,f,s,u,b,S,N,C,F,a,d,h,g,T,K,X,L,M,x,H,Z,O,G,te]}class Ba extends ve{constructor(e){super(),we(this,e,Aa,Pa,be,{field:0},null,[-1,-1])}}function Ra(i){let e,l,t,n,o;const r=[i[3],{type:i[0]?"green":"blue"},{icon:i[2]}];let s={};for(let a=0;a<r.length;a+=1)s=he(s,r[a]);return l=new Ye({props:s}),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);R(l.$$.fragment,f),f.forEach(_),this.h()},h(){y(e,"class","signal-badge")},m(a,f){V(a,e,f),A(l,e,null),t=!0,n||(o=ye(Ie.call(null,e,{text:i[1]})),n=!0)},p(a,[f]){const c=f&13?Re(r,[f&8&&Kn(a[3]),f&1&&{type:a[0]?"green":"blue"},f&4&&{icon:a[2]}]):{};l.$set(c)},i(a){t||(p(l.$$.fragment,a),t=!0)},o(a){w(l.$$.fragment,a),t=!1},d(a){a&&_(e),B(l),n=!1,o()}}}function Ha(i,e,l){const t=["isPreview"];let n=Se(e,t),{isPreview:o=!1}=e;const r=o?"Signal is in preview mode and has not been computed for the whole dataset.":"Generated by a signal.",s=o?Dr:rs;return i.$$set=a=>{e=he(he({},e),De(a)),l(3,n=Se(e,t)),"isPreview"in a&&l(0,o=a.isPreview)},[o,r,s,n]}class Oa extends ve{constructor(e){super(),we(this,e,Ha,Ra,be,{isPreview:0})}}function sn(i,e,l){const t=i.slice();t[7]=e[l][0],t[8]=e[l][1];const n=t[2](t[7]);t[9]=n;const o=`${t[8]/t[1]*100}%`;t[10]=o;const r=$e(t[8]);return t[11]=r,t}function an(i){let e,l,t=i[9]+"",n,o,r,s,a,f=i[11]+"",c,m,u,d,h;function g(){return i[6](i[7])}return{c(){e=I("button"),l=I("div"),n=Q(t),r=j(),s=I("div"),a=I("div"),c=Q(f),u=j(),this.h()},l(k){e=D(k,"BUTTON",{class:!0});var $=E(e);l=D($,"DIV",{title:!0,class:!0});var b=E(l);n=W(b,t),b.forEach(_),r=Y($),s=D($,"DIV",{class:!0});var S=E(s);a=D(S,"DIV",{title:!0,class:!0});var N=E(a);c=W(N,f),N.forEach(_),S.forEach(_),u=Y($),$.forEach(_),this.h()},h(){y(l,"title",o=i[9]),y(l,"class","w-48 flex-none truncate px-2"),y(a,"title",m=i[11]),y(a,"class","histogram-bar my-px bg-indigo-200 pl-2 text-xs leading-5"),ft(a,"width",i[10]),y(s,"class","w-36 border-l border-gray-300 pl-2"),y(e,"class","flex items-center p-0 text-left text-xs text-black hover:bg-gray-200")},m(k,$){V(k,e,$),v(e,l),v(l,n),v(e,r),v(e,s),v(s,a),v(a,c),v(e,u),d||(h=ze(e,"click",g),d=!0)},p(k,$){i=k,$&1&&t!==(t=i[9]+"")&&fe(n,t),$&1&&o!==(o=i[9])&&y(l,"title",o),$&1&&f!==(f=i[11]+"")&&fe(c,f),$&1&&m!==(m=i[11])&&y(a,"title",m),$&3&&ft(a,"width",i[10])},d(k){k&&_(e),d=!1,h()}}}function La(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=an(sn(i,l,n));return{c(){e=I("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=D(n,"DIV",{class:!0});var o=E(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(_),this.h()},h(){y(e,"class","histogram")},m(n,o){V(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,[o]){if(o&15){l=n[0];let r;for(r=0;r<l.length;r+=1){const s=sn(n,l,r);t[r]?t[r].p(s,o):(t[r]=an(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:J,o:J,d(n){n&&_(e),Pe(t,n)}}}function qa(i,e,l){let t,{field:n}=e,{counts:o}=e,{bins:r}=e;function s(c){if(c==null)return $e(c);if(r==null||n.bins!=null)return $e(c);const[m,u]=r[c.toString()];return m==null?`< ${$e(u)}`:u==null?`≥ ${$e(m)}`:`${$e(m)} .. ${$e(u)}`}const a=ut(),f=c=>a("row-click",{value:c});return i.$$set=c=>{"field"in c&&l(4,n=c.field),"counts"in c&&l(0,o=c.counts),"bins"in c&&l(5,r=c.bins)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=Math.max(...o.map(([c,m])=>m)))},[o,t,s,a,n,r,f]}class Ua extends ve{constructor(e){super(),we(this,e,qa,La,be,{field:4,counts:0,bins:5})}}function ja(i){let e,l,t,n,o,r,s,a,f,c,m,u=$e(i[4].total_count)+"",d,h,g,k,$,b,S,N,C,F,T,K,X=$e(i[4].approx_count_distinct)+"",L,M,x,H,Z,O;r=new ct({props:{class:"inline"}}),b=new ct({props:{class:"inline"}});let G=i[4].avg_text_length&&on(i),te=i[4].min_val&&i[4].max_val&&fn(i);return{c(){e=I("table"),l=I("tbody"),t=I("tr"),n=I("td"),o=I("span"),P(r.$$.fragment),s=j(),a=I("span"),f=Q("Total count"),c=j(),m=I("td"),d=Q(u),h=j(),g=I("tr"),k=I("td"),$=I("span"),P(b.$$.fragment),S=j(),N=I("span"),C=Q("Unique values"),F=j(),T=I("td"),K=Q("~"),L=Q(X),M=j(),G&&G.c(),x=j(),te&&te.c(),this.h()},l(q){e=D(q,"TABLE",{class:!0});var ee=E(e);l=D(ee,"TBODY",{});var pe=E(l);t=D(pe,"TR",{});var ce=E(t);n=D(ce,"TD",{class:!0});var ae=E(n);o=D(ae,"SPAN",{});var se=E(o);R(r.$$.fragment,se),se.forEach(_),s=Y(ae),a=D(ae,"SPAN",{});var le=E(a);f=W(le,"Total count"),le.forEach(_),ae.forEach(_),c=Y(ce),m=D(ce,"TD",{class:!0});var U=E(m);d=W(U,u),U.forEach(_),ce.forEach(_),h=Y(pe),g=D(pe,"TR",{});var z=E(g);k=D(z,"TD",{class:!0});var ne=E(k);$=D(ne,"SPAN",{});var Ee=E($);R(b.$$.fragment,Ee),Ee.forEach(_),S=Y(ne),N=D(ne,"SPAN",{});var me=E(N);C=W(me,"Unique values"),me.forEach(_),ne.forEach(_),F=Y(z),T=D(z,"TD",{class:!0});var Me=E(T);K=W(Me,"~"),L=W(Me,X),Me.forEach(_),z.forEach(_),M=Y(pe),G&&G.l(pe),x=Y(pe),te&&te.l(pe),pe.forEach(_),ee.forEach(_),this.h()},h(){y(n,"class","svelte-1tctrjz"),y(m,"class","svelte-1tctrjz"),y(k,"class","svelte-1tctrjz"),y(T,"class","svelte-1tctrjz"),y(e,"class","stats-table w-full svelte-1tctrjz")},m(q,ee){V(q,e,ee),v(e,l),v(l,t),v(t,n),v(n,o),A(r,o,null),v(n,s),v(n,a),v(a,f),v(t,c),v(t,m),v(m,d),v(l,h),v(l,g),v(g,k),v(k,$),A(b,$,null),v(k,S),v(k,N),v(N,C),v(g,F),v(g,T),v(T,K),v(T,L),v(l,M),G&&G.m(l,null),v(l,x),te&&te.m(l,null),H=!0,Z||(O=[ye(Ie.call(null,o,{text:"Total number of rows where the value is defined."})),ye(Ie.call(null,$,{text:"An approximation of the total number of unique values."}))],Z=!0)},p(q,ee){(!H||ee&16)&&u!==(u=$e(q[4].total_count)+"")&&fe(d,u),(!H||ee&16)&&X!==(X=$e(q[4].approx_count_distinct)+"")&&fe(L,X),q[4].avg_text_length?G?(G.p(q,ee),ee&16&&p(G,1)):(G=on(q),G.c(),p(G,1),G.m(l,x)):G&&(ie(),w(G,1,1,()=>{G=null}),re()),q[4].min_val&&q[4].max_val?te?(te.p(q,ee),ee&16&&p(te,1)):(te=fn(q),te.c(),p(te,1),te.m(l,null)):te&&(ie(),w(te,1,1,()=>{te=null}),re())},i(q){H||(p(r.$$.fragment,q),p(b.$$.fragment,q),p(G),p(te),H=!0)},o(q){w(r.$$.fragment,q),w(b.$$.fragment,q),w(G),w(te),H=!1},d(q){q&&_(e),B(r),B(b),G&&G.d(),te&&te.d(),Z=!1,xe(O)}}}function Ya(i){let e,l;return e=new Be({props:{paragraph:!0,width:"50%"}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Qa(i){let e,l,t=i[2].error.message+"",n;return{c(){e=I("p"),l=Q("Error: "),n=Q(t)},l(o){e=D(o,"P",{});var r=E(e);l=W(r,"Error: "),n=W(r,t),r.forEach(_)},m(o,r){V(o,e,r),v(e,l),v(e,n)},p(o,r){r&4&&t!==(t=o[2].error.message+"")&&fe(n,t)},i:J,o:J,d(o){o&&_(e)}}}function on(i){let e,l,t,n,o,r,s,a,f,c=$e(i[4].avg_text_length)+"",m,u,d,h;return n=new ct({props:{class:"inline"}}),{c(){e=I("tr"),l=I("td"),t=I("span"),P(n.$$.fragment),o=j(),r=I("span"),s=Q("Average text length"),a=j(),f=I("td"),m=Q(c),this.h()},l(g){e=D(g,"TR",{});var k=E(e);l=D(k,"TD",{class:!0});var $=E(l);t=D($,"SPAN",{});var b=E(t);R(n.$$.fragment,b),b.forEach(_),o=Y($),r=D($,"SPAN",{});var S=E(r);s=W(S,"Average text length"),S.forEach(_),$.forEach(_),a=Y(k),f=D(k,"TD",{class:!0});var N=E(f);m=W(N,c),N.forEach(_),k.forEach(_),this.h()},h(){y(l,"class","svelte-1tctrjz"),y(f,"class","svelte-1tctrjz")},m(g,k){V(g,e,k),v(e,l),v(l,t),A(n,t,null),v(l,o),v(l,r),v(r,s),v(e,a),v(e,f),v(f,m),u=!0,d||(h=ye(Ie.call(null,t,{text:"The average length of the text in characters."})),d=!0)},p(g,k){(!u||k&16)&&c!==(c=$e(g[4].avg_text_length)+"")&&fe(m,c)},i(g){u||(p(n.$$.fragment,g),u=!0)},o(g){w(n.$$.fragment,g),u=!1},d(g){g&&_(e),B(n),d=!1,h()}}}function fn(i){let e,l,t,n,o,r,s,a,f,c=$e(i[4].min_val)+"",m,u,d=$e(i[4].max_val)+"",h,g,k,$;return n=new ct({props:{class:"inline"}}),{c(){e=I("tr"),l=I("td"),t=I("span"),P(n.$$.fragment),o=j(),r=I("span"),s=Q("Range"),a=j(),f=I("td"),m=Q(c),u=Q(" .. "),h=Q(d),this.h()},l(b){e=D(b,"TR",{});var S=E(e);l=D(S,"TD",{class:!0});var N=E(l);t=D(N,"SPAN",{});var C=E(t);R(n.$$.fragment,C),C.forEach(_),o=Y(N),r=D(N,"SPAN",{});var F=E(r);s=W(F,"Range"),F.forEach(_),N.forEach(_),a=Y(S),f=D(S,"TD",{class:!0});var T=E(f);m=W(T,c),u=W(T," .. "),h=W(T,d),T.forEach(_),S.forEach(_),this.h()},h(){y(l,"class","svelte-1tctrjz"),y(f,"class","svelte-1tctrjz")},m(b,S){V(b,e,S),v(e,l),v(l,t),A(n,t,null),v(l,o),v(l,r),v(r,s),v(e,a),v(e,f),v(f,m),v(f,u),v(f,h),g=!0,k||($=ye(Ie.call(null,t,{text:"The minimum and maximum value across the dataset"})),k=!0)},p(b,S){(!g||S&16)&&c!==(c=$e(b[4].min_val)+"")&&fe(m,c),(!g||S&16)&&d!==(d=$e(b[4].max_val)+"")&&fe(h,d)},i(b){g||(p(n.$$.fragment,b),g=!0)},o(b){w(n.$$.fragment,b),g=!1},d(b){b&&_(e),B(n),k=!1,$()}}}function Wa(i){let e,l,t;return l=new Ua({props:{counts:i[5],bins:i[3],field:i[0]}}),l.$on("row-click",i[13]),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(n){e=D(n,"DIV",{class:!0});var o=E(e);R(l.$$.fragment,o),o.forEach(_),this.h()},h(){y(e,"class","mt-4")},m(n,o){V(n,e,o),A(l,e,null),t=!0},p(n,o){const r={};o&32&&(r.counts=n[5]),o&8&&(r.bins=n[3]),o&1&&(r.field=n[0]),l.$set(r)},i(n){t||(p(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&_(e),B(l)}}}function Ga(i){let e,l;return e=new Be({props:{paragraph:!0,width:"50%"}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ka(i){let e,l,t=i[1].error.message+"",n;return{c(){e=I("p"),l=Q("Error: "),n=Q(t)},l(o){e=D(o,"P",{});var r=E(e);l=W(r,"Error: "),n=W(r,t),r.forEach(_)},m(o,r){V(o,e,r),v(e,l),v(e,n)},p(o,r){r&2&&t!==(t=o[1].error.message+"")&&fe(n,t)},i:J,o:J,d(o){o&&_(e)}}}function Za(i){let e,l,t,n,o,r,s;const a=[Qa,Ya,ja],f=[];function c(h,g){return h[2].error?0:h[4]==null?1:2}l=c(i),t=f[l]=a[l](i);const m=[Ka,Ga,Wa],u=[];function d(h,g){return h[1].error?0:h[5]==null?1:h[5].length>0?2:-1}return~(o=d(i))&&(r=u[o]=m[o](i)),{c(){e=I("div"),t.c(),n=j(),r&&r.c(),this.h()},l(h){e=D(h,"DIV",{class:!0});var g=E(e);t.l(g),n=Y(g),r&&r.l(g),g.forEach(_),this.h()},h(){y(e,"class","p-4")},m(h,g){V(h,e,g),f[l].m(e,null),v(e,n),~o&&u[o].m(e,null),s=!0},p(h,[g]){let k=l;l=c(h),l===k?f[l].p(h,g):(ie(),w(f[k],1,1,()=>{f[k]=null}),re(),t=f[l],t?t.p(h,g):(t=f[l]=a[l](h),t.c()),p(t,1),t.m(e,n));let $=o;o=d(h),o===$?~o&&u[o].p(h,g):(r&&(ie(),w(u[$],1,1,()=>{u[$]=null}),re()),~o?(r=u[o],r?r.p(h,g):(r=u[o]=m[o](h),r.c()),p(r,1),r.m(e,null)):r=null)},i(h){s||(p(t),p(r),s=!0)},o(h){w(t),w(r),s=!1},d(h){h&&_(e),f[l].d(),~o&&u[o].d()}}}function Ja(i,e,l){let t,n,o,r,s,a=J,f=()=>(a(),a=Ne(n,C=>l(1,s=C)),n),c,m=J,u=()=>(m(),m=Ne(t,C=>l(2,c=C)),t),d;i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>m());let{field:h}=e;const g=Ue();ke(i,g,C=>l(12,d=C));let k,$,b=null;function S(C){if(C==null)return;if(b!=null){const[T,K]=b[C.toString()];if(T!=null){const X={path:h.path,op:"greater_equal",value:T};g.addFilter(X)}if(K!=null){const X={path:h.path,op:"less",value:K};g.addFilter(X)}return}const F={path:h.path,op:"equals",value:C};g.addFilter(F)}const N=C=>S(C.detail.value);return i.$$set=C=>{"field"in C&&l(0,h=C.field)},i.$$.update=()=>{var C;if(i.$$.dirty&4097&&u(l(7,t=oi(d.namespace,d.datasetName,{leaf_path:h.path}))),i.$$.dirty&1&&l(10,k=si(h.dtype)&&!h.categorical?"value":"count"),i.$$.dirty&1024&&l(11,$=k==="value"?"ASC":"DESC"),i.$$.dirty&7169&&f(l(6,n=fi(d.namespace,d.datasetName,{leaf_path:h.path,filters:d.query.filters,sort_by:k,sort_order:$}))),i.$$.dirty&2&&l(5,o=s.data!=null?s.data.counts:null),i.$$.dirty&4&&l(4,r=c.data!=null?c.data:null),i.$$.dirty&2)if(((C=s.data)==null?void 0:C.bins)!=null){l(3,b={});for(const[F,T,K]of Object.values(s.data.bins))l(3,b[F]=[T,K],b)}else l(3,b=null)},[h,s,c,b,r,o,n,t,g,S,k,$,d,N]}class Xa extends ve{constructor(e){super(),we(this,e,Ja,Za,be,{field:0})}}function cn(i,e,l){const t=i.slice();return t[37]=e[l],t}function un(i,e,l){const t=i.slice();return t[40]=e[l],t}function dn(i,e,l){const t=i.slice();return t[43]=e[l],t}function mn(i,e,l){const t=i.slice();return t[46]=e[l],t}function xa(i){let e,l="{}",t;return{c(){e=I("span"),t=Q(l),this.h()},l(n){e=D(n,"SPAN",{class:!0});var o=E(e);t=W(o,l),o.forEach(_),this.h()},h(){y(e,"class","font-mono")},m(n,o){V(n,e,o),v(e,t)},p:J,i:J,o:J,d(n){n&&_(e)}}}function eo(i){let e,l,t,n;var o=at[i[1].repeated_field.dtype];function r(s){return{props:{title:s[1].dtype}}}return o&&(l=rt(o,r(i))),{c(){e=I("div"),l&&P(l.$$.fragment),t=Q("[]"),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=E(e);l&&R(l.$$.fragment,a),t=W(a,"[]"),a.forEach(_),this.h()},h(){y(e,"class","flex")},m(s,a){V(s,e,a),l&&A(l,e,null),v(e,t),n=!0},p(s,a){const f={};if(a[0]&2&&(f.title=s[1].dtype),a[0]&2&&o!==(o=at[s[1].repeated_field.dtype])){if(l){ie();const c=l;w(c.$$.fragment,1,0,()=>{B(c,1)}),re()}o?(l=rt(o,r(s)),P(l.$$.fragment),p(l.$$.fragment,1),A(l,e,t)):l=null}else o&&l.$set(f)},i(s){n||(l&&p(l.$$.fragment,s),n=!0)},o(s){l&&w(l.$$.fragment,s),n=!1},d(s){s&&_(e),l&&B(l)}}}function to(i){let e,l,t;var n=at[i[1].dtype];function o(r){return{props:{title:r[1].dtype}}}return n&&(e=rt(n,o(i))),{c(){e&&P(e.$$.fragment),l=oe()},l(r){e&&R(e.$$.fragment,r),l=oe()},m(r,s){e&&A(e,r,s),V(r,l,s),t=!0},p(r,s){const a={};if(s[0]&2&&(a.title=r[1].dtype),s[0]&2&&n!==(n=at[r[1].dtype])){if(e){ie();const f=e;w(f.$$.fragment,1,0,()=>{B(f,1)}),re()}n?(e=rt(n,o(r)),P(e.$$.fragment),p(e.$$.fragment,1),A(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&p(e.$$.fragment,r),t=!0)},o(r){e&&w(e.$$.fragment,r),t=!1},d(r){r&&_(l),e&&B(e,r)}}}function hn(i){let e,l;return e=new qt({props:{interactive:!0,type:"green",$$slots:{default:[io]},$$scope:{ctx:i}}}),e.$on("click",i[31]),e.$on("remove",i[32]),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&16384|n[1]&262144&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function lo(i){let e,l;return e=new wi({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function no(i){let e,l;return e=new vi({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function io(i){let e,l,t,n,o,r,s,a;const f=[no,lo],c=[];function m(u,d){return u[14]=="ASC"?0:1}return r=m(i),s=c[r]=f[r](i),{c(){e=I("div"),l=I("div"),t=Q("Sorted"),n=j(),o=I("span"),s.c(),this.h()},l(u){e=D(u,"DIV",{class:!0});var d=E(e);l=D(d,"DIV",{class:!0});var h=E(l);t=W(h,"Sorted"),h.forEach(_),n=Y(d),o=D(d,"SPAN",{});var g=E(o);s.l(g),g.forEach(_),d.forEach(_),this.h()},h(){y(l,"class","mr-1"),y(e,"class","flex flex-row")},m(u,d){V(u,e,d),v(e,l),v(l,t),v(e,n),v(e,o),c[r].m(o,null),a=!0},p(u,d){let h=r;r=m(u),r!==h&&(ie(),w(c[h],1,1,()=>{c[h]=null}),re(),s=c[r],s||(s=c[r]=f[r](u),s.c()),p(s,1),s.m(o,null))},i(u){a||(p(s),a=!0)},o(u){w(s),a=!1},d(u){u&&_(e),c[r].d()}}}function _n(i){let e,l,t=i[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=gn(mn(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);V(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[7];let a;for(a=0;a<t.length;a+=1){const f=mn(r,t,a);n[a]?(n[a].p(f,s),p(n[a],1)):(n[a]=gn(f),n[a].c(),p(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)p(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){Pe(n,r),r&&_(e)}}}function gn(i){let e,l;return e=new ki({props:{filter:i[46],hidePath:!0}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.filter=t[46]),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function pn(i){let e,l;return e=new $i({props:{search:i[43]}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.search=t[43]),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function bn(i){var t;let e,l;return e=new hi({props:{embedding:(t=i[40].signal)==null?void 0:t.signal_name}}),{c(){P(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,o){A(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&65536&&(r.embedding=(s=n[40].signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(p(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){B(e,n)}}}function vn(i){let e,l,t,n,o,r,s;return l=new Ye({props:{type:"cyan",icon:mi}}),l.$on("click",i[33]),n=new Oa({props:{isPreview:!0}}),n.$on("click",i[34]),{c(){e=I("div"),P(l.$$.fragment),t=j(),P(n.$$.fragment),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);R(l.$$.fragment,f),f.forEach(_),t=Y(a),R(n.$$.fragment,a),this.h()},h(){y(e,"class","compute-signal-preview pointer-events-auto")},m(a,f){V(a,e,f),A(l,e,null),V(a,t,f),A(n,a,f),o=!0,r||(s=ye(Ie.call(null,e,{text:`Compute signal over the column and save the result.

This may be expensive.`})),r=!0)},p:J,i(a){o||(p(l.$$.fragment,a),p(n.$$.fragment,a),o=!0)},o(a){w(l.$$.fragment,a),w(n.$$.fragment,a),o=!1},d(a){a&&_(e),B(l),a&&_(t),B(n,a),r=!1,s()}}}function wn(i){let e,l,t,n,o,r,s;return t=new Rr({}),{c(){e=I("button"),l=I("div"),P(t.$$.fragment),this.h()},l(a){e=D(a,"BUTTON",{});var f=E(e);l=D(f,"DIV",{class:!0});var c=E(l);R(t.$$.fragment,c),c.forEach(_),f.forEach(_),this.h()},h(){y(l,"class","transition"),ue(l,"rotate-180",i[19]),ue(e,"bg-slate-300",i[19])},m(a,f){V(a,e,f),v(e,l),A(t,l,null),o=!0,r||(s=[ye(n=Ie.call(null,e,{text:i[19]?"Close statistics":"See statistics"})),ze(e,"click",i[35])],r=!0)},p(a,f){(!o||f[0]&524288)&&ue(l,"rotate-180",a[19]),n&&Le(n.update)&&f[0]&524288&&n.update.call(null,{text:a[19]?"Close statistics":"See statistics"}),(!o||f[0]&524288)&&ue(e,"bg-slate-300",a[19])},i(a){o||(p(t.$$.fragment,a),o=!0)},o(a){w(t.$$.fragment,a),o=!1},d(a){a&&_(e),B(t),r=!1,xe(s)}}}function kn(i){let e,l,t,n;return l=new Xa({props:{field:i[1]}}),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(o){e=D(o,"DIV",{class:!0});var r=E(e);R(l.$$.fragment,r),r.forEach(_),this.h()},h(){y(e,"class","px-2")},m(o,r){V(o,e,r),A(l,e,null),n=!0},p(o,r){const s={};r[0]&2&&(s.field=o[1]),l.$set(s)},i(o){n||(p(l.$$.fragment,o),o&&Dt(()=>{n&&(t||(t=ht(e,vt,{},!0)),t.run(1))}),n=!0)},o(o){w(l.$$.fragment,o),o&&(t||(t=ht(e,vt,{},!1)),t.run(0)),n=!1},d(o){o&&_(e),B(l),o&&t&&t.end()}}}function $n(i){let e,l,t=i[17],n=[];for(let r=0;r<t.length;r+=1)n[r]=En(cn(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);V(r,e,s),l=!0},p(r,s){if(s[0]&131343){t=r[17];let a;for(a=0;a<t.length;a+=1){const f=cn(r,t,a);n[a]?(n[a].p(f,s),p(n[a],1)):(n[a]=En(f),n[a].c(),p(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)p(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){Pe(n,r),r&&_(e)}}}function En(i){let e,l;return e=new Ei({props:{schema:i[0],field:i[37],indent:i[3]+1,sourceField:i[8]&&st(i[37])?i[1]:i[2]}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&131072&&(o.field=t[37]),n[0]&8&&(o.indent=t[3]+1),n[0]&131334&&(o.sourceField=t[8]&&st(t[37])?t[1]:t[2]),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ro(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,g,k,$,b,S,N,C,F,T,K,X;const L=[to,eo,xa],M=[];function x(U,z){return U[1].dtype?0:U[1].repeated_field&&U[1].repeated_field.dtype?1:2}n=x(i),o=M[n]=L[n](i);let H=i[15]&&hn(i),Z=i[13]&&_n(i),O=i[12],G=[];for(let U=0;U<O.length;U+=1)G[U]=pn(dn(i,O,U));const te=U=>w(G[U],1,1,()=>{G[U]=null});let q=i[16],ee=[];for(let U=0;U<q.length;U+=1)ee[U]=bn(un(i,q,U));const pe=U=>w(ee[U],1,1,()=>{ee[U]=null});let ce=i[4]&&i[21]&&vn(i),ae=i[10]&&wn(i);b=new Ba({props:{field:i[1]}});let se=i[19]&&kn(i),le=i[17].length&&$n(i);return{c(){e=I("div"),l=I("div"),t=I("div"),o.c(),s=j(),a=I("button"),f=Q(i[18]),m=j(),H&&H.c(),u=j(),Z&&Z.c(),d=j();for(let U=0;U<G.length;U+=1)G[U].c();h=j();for(let U=0;U<ee.length;U+=1)ee[U].c();g=j(),ce&&ce.c(),k=j(),ae&&ae.c(),$=j(),P(b.$$.fragment),S=j(),se&&se.c(),N=j(),C=I("div"),le&&le.c(),this.h()},l(U){e=D(U,"DIV",{class:!0});var z=E(e);l=D(z,"DIV",{class:!0});var ne=E(l);t=D(ne,"DIV",{class:!0});var Ee=E(t);o.l(Ee),Ee.forEach(_),s=Y(ne),a=D(ne,"BUTTON",{class:!0});var me=E(a);f=W(me,i[18]),me.forEach(_),m=Y(ne),H&&H.l(ne),u=Y(ne),Z&&Z.l(ne),d=Y(ne);for(let qe=0;qe<G.length;qe+=1)G[qe].l(ne);h=Y(ne);for(let qe=0;qe<ee.length;qe+=1)ee[qe].l(ne);g=Y(ne),ce&&ce.l(ne),k=Y(ne),ae&&ae.l(ne),$=Y(ne),R(b.$$.fragment,ne),ne.forEach(_),S=Y(z),se&&se.l(z),N=Y(z),C=D(z,"DIV",{});var Me=E(C);le&&le.l(Me),Me.forEach(_),z.forEach(_),this.h()},h(){y(t,"class","rounded-md bg-blue-200 p-0.5"),ue(t,"bg-blue-200",i[5]),ft(t,"margin-left",i[3]*1.5+"rem"),y(a,"class","ml-2 grow cursor-pointer truncate whitespace-nowrap text-left text-gray-900"),a.disabled=c=!i[10],ue(a,"cursor-default",!i[10]),y(l,"class","flex w-full flex-row items-center gap-x-2 border-gray-300 px-4 hover:bg-gray-100"),ue(l,"bg-blue-50",i[5]),ue(l,"bg-emerald-100",i[4]),ue(l,"bg-teal-200",i[20]),ue(l,"hover:bg-blue-100",i[5]),y(e,"class","border-gray-300"),ue(e,"border-b",!i[5])},m(U,z){V(U,e,z),v(e,l),v(l,t),M[n].m(t,null),v(l,s),v(l,a),v(a,f),v(l,m),H&&H.m(l,null),v(l,u),Z&&Z.m(l,null),v(l,d);for(let ne=0;ne<G.length;ne+=1)G[ne]&&G[ne].m(l,null);v(l,h);for(let ne=0;ne<ee.length;ne+=1)ee[ne]&&ee[ne].m(l,null);v(l,g),ce&&ce.m(l,null),v(l,k),ae&&ae.m(l,null),v(l,$),A(b,l,null),v(e,S),se&&se.m(e,null),v(e,N),v(e,C),le&&le.m(C,null),T=!0,K||(X=[ye(r=Ie.call(null,t,{text:i[11]})),ze(a,"click",i[30])],K=!0)},p(U,z){let ne=n;if(n=x(U),n===ne?M[n].p(U,z):(ie(),w(M[ne],1,1,()=>{M[ne]=null}),re(),o=M[n],o?o.p(U,z):(o=M[n]=L[n](U),o.c()),p(o,1),o.m(t,null)),r&&Le(r.update)&&z[0]&2048&&r.update.call(null,{text:U[11]}),(!T||z[0]&32)&&ue(t,"bg-blue-200",U[5]),z[0]&8&&ft(t,"margin-left",U[3]*1.5+"rem"),(!T||z[0]&262144)&&fe(f,U[18]),(!T||z[0]&1024&&c!==(c=!U[10]))&&(a.disabled=c),(!T||z[0]&1024)&&ue(a,"cursor-default",!U[10]),U[15]?H?(H.p(U,z),z[0]&32768&&p(H,1)):(H=hn(U),H.c(),p(H,1),H.m(l,u)):H&&(ie(),w(H,1,1,()=>{H=null}),re()),U[13]?Z?(Z.p(U,z),z[0]&8192&&p(Z,1)):(Z=_n(U),Z.c(),p(Z,1),Z.m(l,d)):Z&&(ie(),w(Z,1,1,()=>{Z=null}),re()),z[0]&4096){O=U[12];let me;for(me=0;me<O.length;me+=1){const Me=dn(U,O,me);G[me]?(G[me].p(Me,z),p(G[me],1)):(G[me]=pn(Me),G[me].c(),p(G[me],1),G[me].m(l,h))}for(ie(),me=O.length;me<G.length;me+=1)te(me);re()}if(z[0]&65536){q=U[16];let me;for(me=0;me<q.length;me+=1){const Me=un(U,q,me);ee[me]?(ee[me].p(Me,z),p(ee[me],1)):(ee[me]=bn(Me),ee[me].c(),p(ee[me],1),ee[me].m(l,g))}for(ie(),me=q.length;me<ee.length;me+=1)pe(me);re()}U[4]&&U[21]?ce?(ce.p(U,z),z[0]&2097168&&p(ce,1)):(ce=vn(U),ce.c(),p(ce,1),ce.m(l,k)):ce&&(ie(),w(ce,1,1,()=>{ce=null}),re()),U[10]?ae?(ae.p(U,z),z[0]&1024&&p(ae,1)):(ae=wn(U),ae.c(),p(ae,1),ae.m(l,$)):ae&&(ie(),w(ae,1,1,()=>{ae=null}),re());const Ee={};z[0]&2&&(Ee.field=U[1]),b.$set(Ee),(!T||z[0]&32)&&ue(l,"bg-blue-50",U[5]),(!T||z[0]&16)&&ue(l,"bg-emerald-100",U[4]),(!T||z[0]&1048576)&&ue(l,"bg-teal-200",U[20]),(!T||z[0]&32)&&ue(l,"hover:bg-blue-100",U[5]),U[19]?se?(se.p(U,z),z[0]&524288&&p(se,1)):(se=kn(U),se.c(),p(se,1),se.m(e,N)):se&&(ie(),w(se,1,1,()=>{se=null}),re()),U[17].length?le?(le.p(U,z),z[0]&131072&&p(le,1)):(le=$n(U),le.c(),p(le,1),le.m(C,null)):le&&(ie(),w(le,1,1,()=>{le=null}),re()),(!T||z[0]&32)&&ue(e,"border-b",!U[5])},i(U){if(!T){p(o),p(H),p(Z);for(let z=0;z<O.length;z+=1)p(G[z]);for(let z=0;z<q.length;z+=1)p(ee[z]);p(ce),p(ae),p(b.$$.fragment,U),p(se),p(le),U&&Dt(()=>{T&&(F||(F=ht(C,vt,{},!0)),F.run(1))}),T=!0}},o(U){w(o),w(H),w(Z),G=G.filter(Boolean);for(let z=0;z<G.length;z+=1)w(G[z]);ee=ee.filter(Boolean);for(let z=0;z<ee.length;z+=1)w(ee[z]);w(ce),w(ae),w(b.$$.fragment,U),w(se),w(le),U&&(F||(F=ht(C,vt,{},!1)),F.run(0)),T=!1},d(U){U&&_(e),M[n].d(),H&&H.d(),Z&&Z.d(),Pe(G,U),Pe(ee,U),ce&&ce.d(),ae&&ae.d(),B(b),se&&se.d(),le&&le.d(),U&&F&&F.end(),K=!1,xe(X)}}}function so(i,e,l){let t,n,o,r,s,a,f,c,m,u,d,h,g,k,$,b,S,N,C,F,T,K,X,{schema:L}=e,{field:M}=e,{sourceField:x=void 0}=e,{indent:H=0}=e;const Z=ni();ke(i,Z,le=>l(22,X=le));const O=Ue();ke(i,O,le=>l(9,T=le));const G=Ke();ke(i,G,le=>l(29,K=le));function te(le){return le!=null&&le.repeated_field?te(le.repeated_field):le!=null&&le.fields?[...Object.values(le.fields).filter(U=>U.path.at(-1)!==nr)].filter(U=>{var z,ne,Ee,me;return!(U.dtype==="embedding"||U.signal!=null&&lt(U).some(Me=>Me.dtype==="embedding")||((z=U.signal)==null?void 0:z.signal_name)==="sentences"||((ne=U.signal)==null?void 0:ne.signal_name)==="substring_search"||((Ee=U.signal)==null?void 0:Ee.signal_name)==="semantic_similarity"||((me=U.signal)==null?void 0:me.signal_name)==="concept_labels")}):[]}const q=()=>{F&&(a?O.removeExpandedColumn(s):O.addExpandedColumn(s))},ee=()=>h==="ASC"?Et(O,T.query.sort_order="DESC",T):Et(O,T.query.sort_order="ASC",T),pe=()=>O.removeSortBy(s),ce=()=>M.signal&&$&&x&&X.mutate([T.namespace,T.datasetName,{leaf_path:x.path,signal:M.signal}]),ae=()=>{var le;return M.signal&&$&&Ze({command:Je.EditPreviewConcept,namespace:T.namespace,datasetName:T.datasetName,path:x==null?void 0:x.path,signalName:(le=M.signal)==null?void 0:le.signal_name,value:M.signal})},se=()=>{a?O.removeExpandedColumn(s):O.addExpandedColumn(s)};return i.$$set=le=>{"schema"in le&&l(0,L=le.schema),"field"in le&&l(1,M=le.field),"sourceField"in le&&l(2,x=le.sourceField),"indent"in le&&l(3,H=le.indent)},i.$$.update=()=>{var le,U,z;i.$$.dirty[0]&2&&l(5,t=st(M)),i.$$.dirty[0]&2&&l(21,n=Pt(M)),i.$$.dirty[0]&2&&l(20,o=lr(M)),i.$$.dirty[0]&32&&l(8,r=!t),i.$$.dirty[0]&2&&l(6,s=M.path),i.$$.dirty[0]&576&&l(19,a=T.expandedStats[Fe(s)]||!1),i.$$.dirty[0]&64&&l(28,f=s.at(-1)===bt),i.$$.dirty[0]&268435520&&l(18,c=f?s.at(-2):s.at(-1)),i.$$.dirty[0]&2&&l(17,m=te(M)),i.$$.dirty[0]&258&&l(16,u=r?lt(M).filter(ne=>ne.signal!=null&&lt(ne).some(Ee=>Ee.dtype==="embedding")):[]),i.$$.dirty[0]&576&&l(15,d=(le=T.query.sort_by)==null?void 0:le.some(ne=>Xe(ne,s))),i.$$.dirty[0]&512&&l(14,h=T.query.sort_order),i.$$.dirty[0]&576&&l(7,g=((U=T.query.filters)==null?void 0:U.filter(ne=>Xe(ne.path,s)))||[]),i.$$.dirty[0]&128&&l(13,k=g.length>0),i.$$.dirty[0]&536870976&&l(4,$=ai(((z=K.selectRowsSchema)==null?void 0:z.data)||null,s)),i.$$.dirty[0]&576&&l(12,b=Tt(T,s)),i.$$.dirty[0]&32&&l(26,S=t?". Generated by a signal":""),i.$$.dirty[0]&2&&l(27,N=M.dtype??(M.repeated_field&&M.repeated_field.dtype?`${M.repeated_field.dtype}[]`:"object")),i.$$.dirty[0]&201326592&&l(11,C=`${N}${S}`),i.$$.dirty[0]&18&&l(10,F=pt(M)&&!$)},[L,M,x,H,$,t,s,g,r,T,F,C,b,k,h,d,u,m,c,a,o,n,X,Z,O,G,S,N,f,K,q,ee,pe,ce,ae,se]}class Ei extends ve{constructor(e){super(),we(this,e,so,ro,be,{schema:0,field:1,sourceField:2,indent:3},null,[-1,-1])}}function Sn(i,e,l){const t=i.slice();return t[3]=e[l],t}function ao(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=s=>s[3];for(let s=0;s<o.length;s+=1){let a=Sn(i,o,s),f=r(a);l.set(f,e[s]=yn(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=oe()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=oe()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);V(s,t,a),n=!0},p(s,a){a&1&&(o=Object.keys(s[0].data.schema.fields),ie(),e=yt(e,a,r,1,s,o,l,t.parentNode,It,yn,t,Sn),re())},i(s){if(!n){for(let a=0;a<o.length;a+=1)p(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)w(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&_(t)}}}function oo(i){let e,l;return e=new Be({props:{paragraph:!0,lines:3}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function yn(i,e){let l,t,n;return t=new Ei({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=oe(),P(t.$$.fragment),this.h()},l(o){l=oe(),R(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){V(o,l,r),A(t,o,r),n=!0},p(o,r){e=o;const s={};r&1&&(s.schema=e[0].data.schema),r&1&&(s.field=e[0].data.schema.fields[e[3]]),t.$set(s)},i(o){n||(p(t.$$.fragment,o),n=!0)},o(o){w(t.$$.fragment,o),n=!1},d(o){o&&_(l),B(t,o)}}}function fo(i){let e,l,t,n;const o=[oo,ao],r=[];function s(a,f){var c,m;return(c=a[0])!=null&&c.isLoading?0:(m=a[0])!=null&&m.isSuccess&&a[0].data.schema.fields!=null?1:-1}return~(l=s(i))&&(t=r[l]=o[l](i)),{c(){e=I("div"),t&&t.c(),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);t&&t.l(f),f.forEach(_),this.h()},h(){y(e,"class","schema flex h-full flex-col overflow-y-auto")},m(a,f){V(a,e,f),~l&&r[l].m(e,null),n=!0},p(a,[f]){let c=l;l=s(a),l===c?~l&&r[l].p(a,f):(t&&(ie(),w(r[c],1,1,()=>{r[c]=null}),re()),~l?(t=r[l],t?t.p(a,f):(t=r[l]=o[l](a),t.c()),p(t,1),t.m(e,null)):t=null)},i(a){n||(p(t),n=!0)},o(a){w(t),n=!1},d(a){a&&_(e),~l&&r[l].d()}}}function co(i,e,l){let t,n;const o=Ke();return ke(i,o,r=>l(2,n=r)),i.$$.update=()=>{i.$$.dirty&4&&l(0,t=n.selectRowsSchema)},[t,o,n]}class uo extends ve{constructor(e){super(),we(this,e,co,fo,be,{})}}function In(i,e,l){const t=i.slice();return t[5]=e[l],t}function mo(i){let e,l="{}",t;return{c(){e=I("span"),t=Q(l),this.h()},l(n){e=D(n,"SPAN",{class:!0});var o=E(e);t=W(o,l),o.forEach(_),this.h()},h(){y(e,"class","font-mono")},m(n,o){V(n,e,o),v(e,t)},p:J,i:J,o:J,d(n){n&&_(e)}}}function ho(i){let e,l,t;var n=at[i[5].dtype];function o(r){return{props:{title:r[5].dtype}}}return n&&(e=rt(n,o(i))),{c(){e&&P(e.$$.fragment),l=oe()},l(r){e&&R(e.$$.fragment,r),l=oe()},m(r,s){e&&A(e,r,s),V(r,l,s),t=!0},p(r,s){const a={};if(s&2&&(a.title=r[5].dtype),s&2&&n!==(n=at[r[5].dtype])){if(e){ie();const f=e;w(f.$$.fragment,1,0,()=>{B(f,1)}),re()}n?(e=rt(n,o(r)),P(e.$$.fragment),p(e.$$.fragment,1),A(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&p(e.$$.fragment,r),t=!0)},o(r){e&&w(e.$$.fragment,r),t=!1},d(r){r&&_(l),e&&B(e,r)}}}function Dn(i){let e;return{c(){e=Q("[]")},l(l){e=W(l,"[]")},m(l,t){V(l,e,t)},d(l){l&&_(e)}}}function Vn(i){let e,l,t,n,o,r,s,a,f,c=i[5].path.indexOf(bt)>=0,m,u,d=Fe(i[5].path)+"",h,g,k;function $(...T){return i[3](i[5],...T)}function b(...T){return i[4](i[5],...T)}t=new ir({props:{labelText:"Download",hideLabel:!0,checked:i[0].find($)!=null}}),t.$on("change",b);const S=[ho,mo],N=[];function C(T,K){return T[5].dtype?0:1}s=C(i),a=N[s]=S[s](i);let F=c&&Dn();return{c(){e=I("div"),l=I("div"),P(t.$$.fragment),n=j(),o=I("div"),r=I("div"),a.c(),f=j(),F&&F.c(),m=j(),u=I("div"),h=Q(d),g=j(),this.h()},l(T){e=D(T,"DIV",{class:!0});var K=E(e);l=D(K,"DIV",{class:!0});var X=E(l);R(t.$$.fragment,X),X.forEach(_),n=Y(K),o=D(K,"DIV",{class:!0});var L=E(o);r=D(L,"DIV",{class:!0});var M=E(r);a.l(M),f=Y(M),F&&F.l(M),M.forEach(_),L.forEach(_),m=Y(K),u=D(K,"DIV",{class:!0});var x=E(u);h=W(x,d),x.forEach(_),g=Y(K),K.forEach(_),this.h()},h(){y(l,"class","mr-2"),y(r,"class","inline-flex items-center rounded-md bg-blue-200 p-0.5"),y(o,"class","flex w-10"),y(u,"class","flex-grow"),y(e,"class","flex items-center")},m(T,K){V(T,e,K),v(e,l),A(t,l,null),v(e,n),v(e,o),v(o,r),N[s].m(r,null),v(r,f),F&&F.m(r,null),v(e,m),v(e,u),v(u,h),v(e,g),k=!0},p(T,K){i=T;const X={};K&3&&(X.checked=i[0].find($)!=null),t.$set(X);let L=s;s=C(i),s===L?N[s].p(i,K):(ie(),w(N[L],1,1,()=>{N[L]=null}),re(),a=N[s],a?a.p(i,K):(a=N[s]=S[s](i),a.c()),p(a,1),a.m(r,f)),K&2&&(c=i[5].path.indexOf(bt)>=0),c?F||(F=Dn(),F.c(),F.m(r,null)):F&&(F.d(1),F=null),(!k||K&2)&&d!==(d=Fe(i[5].path)+"")&&fe(h,d)},i(T){k||(p(t.$$.fragment,T),p(a),k=!0)},o(T){w(t.$$.fragment,T),w(a),k=!1},d(T){T&&_(e),B(t),N[s].d(),F&&F.d()}}}function _o(i){let e,l,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=Vn(In(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);V(r,e,s),l=!0},p(r,[s]){if(s&7){t=r[1];let a;for(a=0;a<t.length;a+=1){const f=In(r,t,a);n[a]?(n[a].p(f,s),p(n[a],1)):(n[a]=Vn(f),n[a].c(),p(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)p(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){Pe(n,r),r&&_(e)}}}function go(i,e,l){let{fields:t}=e,{checkedFields:n}=e;function o(a,f){f.target.checked?(n.push(a),l(0,n)):l(0,n=n.filter(m=>!Xe(m.path,a.path)))}const r=(a,f)=>Xe(f.path,a.path),s=(a,f)=>o(a,f);return i.$$set=a=>{"fields"in a&&l(1,t=a.fields),"checkedFields"in a&&l(0,n=a.checkedFields)},[n,t,o,r,s]}class wt extends ve{constructor(e){super(),we(this,e,go,_o,be,{fields:1,checkedFields:0})}}function Nn(i,e,l){const t=i.slice();return t[29]=e[l],t}function po(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,g,k,$,b,S,N,C,F,T,K,X,L,M,x;function H(O){i[23](O)}let Z={invalid:i[8]!=i[9]};return i[8]!==void 0&&(Z.value=i[8]),S=new cr({props:Z}),Oe.push(()=>We(S,"value",H)),K=new Vr({}),{c(){e=I("div"),l=I("section"),t=I("div"),n=Q("Delete this dataset"),o=j(),r=I("div"),s=I("p"),a=Q("This action cannot be undone."),f=j(),c=I("p"),m=Q(`This will permanently delete the
                  `),u=I("span"),d=Q(i[9]),h=Q(` dataset and all its files. Please type
                  `),g=I("span"),k=Q(i[9]),$=Q(" to confirm."),b=j(),P(S.$$.fragment),C=j(),F=I("button"),T=Q(`I understand, delete this dataset
                `),P(K.$$.fragment),this.h()},l(O){e=D(O,"DIV",{class:!0});var G=E(e);l=D(G,"SECTION",{class:!0});var te=E(l);t=D(te,"DIV",{class:!0});var q=E(t);n=W(q,"Delete this dataset"),q.forEach(_),o=Y(te),r=D(te,"DIV",{class:!0});var ee=E(r);s=D(ee,"P",{class:!0});var pe=E(s);a=W(pe,"This action cannot be undone."),pe.forEach(_),f=Y(ee),c=D(ee,"P",{});var ce=E(c);m=W(ce,`This will permanently delete the
                  `),u=D(ce,"SPAN",{class:!0});var ae=E(u);d=W(ae,i[9]),ae.forEach(_),h=W(ce,` dataset and all its files. Please type
                  `),g=D(ce,"SPAN",{class:!0});var se=E(g);k=W(se,i[9]),se.forEach(_),$=W(ce," to confirm."),ce.forEach(_),ee.forEach(_),b=Y(te),R(S.$$.fragment,te),C=Y(te),F=D(te,"BUTTON",{class:!0});var le=E(F);T=W(le,`I understand, delete this dataset
                `),R(K.$$.fragment,le),le.forEach(_),te.forEach(_),G.forEach(_),this.h()},h(){y(t,"class","text-lg text-gray-700"),y(s,"class","mb-2"),y(u,"class","font-bold"),y(g,"class","font-bold"),y(r,"class","mb-4 text-sm text-gray-500"),y(F,"class","mt-2 flex cursor-pointer flex-row justify-between p-4 text-left outline-red-400 hover:bg-gray-200"),F.disabled=X=i[8]!=i[9],ue(F,"cursor-not-allowed",i[8]!=i[9]),ue(F,"outline",i[8]==i[9]),ue(F,"opacity-50",i[8]!=i[9]),y(l,"class","flex flex-col gap-y-1"),y(e,"class","flex flex-col gap-y-6")},m(O,G){V(O,e,G),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),v(r,s),v(s,a),v(r,f),v(r,c),v(c,m),v(c,u),v(u,d),v(c,h),v(c,g),v(g,k),v(c,$),v(l,b),A(S,l,null),v(l,C),v(l,F),v(F,T),A(K,F,null),L=!0,M||(x=ze(F,"click",i[24]),M=!0)},p(O,G){(!L||G[0]&512)&&fe(d,O[9]),(!L||G[0]&512)&&fe(k,O[9]);const te={};G[0]&768&&(te.invalid=O[8]!=O[9]),!N&&G[0]&256&&(N=!0,te.value=O[8],Ge(()=>N=!1)),S.$set(te),(!L||G[0]&768&&X!==(X=O[8]!=O[9]))&&(F.disabled=X),(!L||G[0]&768)&&ue(F,"cursor-not-allowed",O[8]!=O[9]),(!L||G[0]&768)&&ue(F,"outline",O[8]==O[9]),(!L||G[0]&768)&&ue(F,"opacity-50",O[8]!=O[9])},i(O){L||(p(S.$$.fragment,O),p(K.$$.fragment,O),L=!0)},o(O){w(S.$$.fragment,O),w(K.$$.fragment,O),L=!1},d(O){O&&_(e),B(S),B(K),M=!1,x()}}}function bo(i){let e,l,t,n;const o=[wo,vo],r=[];function s(a,f){return a[6].isFetching?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=oe()},l(a){l.l(a),t=oe()},m(a,f){r[e].m(a,f),V(a,t,f),n=!0},p(a,f){let c=e;e=s(a),e===c?r[e].p(a,f):(ie(),w(r[c],1,1,()=>{r[c]=null}),re(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),p(l,1),l.m(t.parentNode,t))},i(a){n||(p(l),n=!0)},o(a){w(l),n=!1},d(a){r[e].d(a),a&&_(t)}}}function vo(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,g,k,$,b,S,N,C,F,T,K,X,L,M,x,H;const Z=[$o,ko],O=[];function G(se,le){return se[3]!=null?0:1}f=G(i),c=O[f]=Z[f](i);const te=[So,Eo],q=[];function ee(se,le){return se[11].isFetching?0:1}N=ee(i),C=q[N]=te[N](i);const pe=[Do,Io],ce=[];function ae(se,le){return se[3]!=null&&se[4]!=null?0:1}return M=ae(i),x=ce[M]=pe[M](i),{c(){e=I("div"),l=I("section"),t=I("div"),n=Q("Media fields"),o=j(),r=I("div"),s=Q("These fields will be presented differently from the rest of the metadata fields."),a=j(),c.c(),m=j(),u=I("section"),d=I("div"),h=Q("Preferred embedding"),g=j(),k=I("div"),$=Q("This embedding will be used by default when indexing and querying the data."),b=j(),S=I("div"),C.c(),F=j(),T=I("section"),K=I("div"),X=Q("Render as markdown"),L=j(),x.c(),this.h()},l(se){e=D(se,"DIV",{class:!0});var le=E(e);l=D(le,"SECTION",{class:!0});var U=E(l);t=D(U,"DIV",{class:!0});var z=E(t);n=W(z,"Media fields"),z.forEach(_),o=Y(U),r=D(U,"DIV",{class:!0});var ne=E(r);s=W(ne,"These fields will be presented differently from the rest of the metadata fields."),ne.forEach(_),a=Y(U),c.l(U),U.forEach(_),m=Y(le),u=D(le,"SECTION",{class:!0});var Ee=E(u);d=D(Ee,"DIV",{class:!0});var me=E(d);h=W(me,"Preferred embedding"),me.forEach(_),g=Y(Ee),k=D(Ee,"DIV",{class:!0});var Me=E(k);$=W(Me,"This embedding will be used by default when indexing and querying the data."),Me.forEach(_),b=Y(Ee),S=D(Ee,"DIV",{class:!0});var qe=E(S);C.l(qe),qe.forEach(_),Ee.forEach(_),F=Y(le),T=D(le,"SECTION",{class:!0});var et=E(T);K=D(et,"DIV",{class:!0});var dt=E(K);X=W(dt,"Render as markdown"),dt.forEach(_),L=Y(et),x.l(et),et.forEach(_),le.forEach(_),this.h()},h(){y(t,"class","text-lg text-gray-700"),y(r,"class","text-sm text-gray-500"),y(l,"class","flex flex-col gap-y-1"),y(d,"class","text-lg text-gray-700"),y(k,"class","text-sm text-gray-500"),y(S,"class","w-60"),y(u,"class","flex flex-col gap-y-1"),y(K,"class","text-lg text-gray-700"),y(T,"class","flex flex-col gap-y-1"),y(e,"class","flex flex-col gap-y-6")},m(se,le){V(se,e,le),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),v(r,s),v(l,a),O[f].m(l,null),v(e,m),v(e,u),v(u,d),v(d,h),v(u,g),v(u,k),v(k,$),v(u,b),v(u,S),q[N].m(S,null),v(e,F),v(e,T),v(T,K),v(K,X),v(T,L),ce[M].m(T,null),H=!0},p(se,le){let U=f;f=G(se),f===U?O[f].p(se,le):(ie(),w(O[U],1,1,()=>{O[U]=null}),re(),c=O[f],c?c.p(se,le):(c=O[f]=Z[f](se),c.c()),p(c,1),c.m(l,null));let z=N;N=ee(se),N===z?q[N].p(se,le):(ie(),w(q[z],1,1,()=>{q[z]=null}),re(),C=q[N],C?C.p(se,le):(C=q[N]=te[N](se),C.c()),p(C,1),C.m(S,null));let ne=M;M=ae(se),M===ne?ce[M].p(se,le):(ie(),w(ce[ne],1,1,()=>{ce[ne]=null}),re(),x=ce[M],x?x.p(se,le):(x=ce[M]=pe[M](se),x.c()),p(x,1),x.m(T,null))},i(se){H||(p(c),p(C),p(x),H=!0)},o(se){w(c),w(C),w(x),H=!1},d(se){se&&_(e),O[f].d(),q[N].d(),ce[M].d()}}}function wo(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ko(i){let e,l;return e=new Ot({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function $o(i){let e,l,t;function n(r){i[21](r)}let o={fields:i[5]};return i[3]!==void 0&&(o.checkedFields=i[3]),e=new wt({props:o}),Oe.push(()=>We(e,"checkedFields",n)),{c(){P(e.$$.fragment)},l(r){R(e.$$.fragment,r)},m(r,s){A(e,r,s),t=!0},p(r,s){const a={};s[0]&32&&(a.fields=r[5]),!l&&s[0]&8&&(l=!0,a.checkedFields=r[3],Ge(()=>l=!1)),e.$set(a)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Eo(i){var t;let e,l;return e=new Jn({props:{selected:(t=i[6].data)==null?void 0:t.preferred_embedding,$$slots:{default:[yo]},$$scope:{ctx:i}}}),e.$on("change",i[16]),{c(){P(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,o){A(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&64&&(r.selected=(s=n[6].data)==null?void 0:s.preferred_embedding),o[0]&2048|o[1]&2&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(p(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){B(e,n)}}}function So(i){let e,l;return e=new Ot({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Tn(i){let e,l;return e=new Mt({props:{value:i[29].name}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&2048&&(o.value=t[29].name),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function yo(i){let e,l,t,n;e=new Mt({props:{value:void 0,text:"None"}});let o=i[11].data||[],r=[];for(let a=0;a<o.length;a+=1)r[a]=Tn(Nn(i,o,a));const s=a=>w(r[a],1,1,()=>{r[a]=null});return{c(){P(e.$$.fragment),l=j();for(let a=0;a<r.length;a+=1)r[a].c();t=oe()},l(a){R(e.$$.fragment,a),l=Y(a);for(let f=0;f<r.length;f+=1)r[f].l(a);t=oe()},m(a,f){A(e,a,f),V(a,l,f);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(a,f);V(a,t,f),n=!0},p(a,f){if(f[0]&2048){o=a[11].data||[];let c;for(c=0;c<o.length;c+=1){const m=Nn(a,o,c);r[c]?(r[c].p(m,f),p(r[c],1)):(r[c]=Tn(m),r[c].c(),p(r[c],1),r[c].m(t.parentNode,t))}for(ie(),c=o.length;c<r.length;c+=1)s(c);re()}},i(a){if(!n){p(e.$$.fragment,a);for(let f=0;f<o.length;f+=1)p(r[f]);n=!0}},o(a){w(e.$$.fragment,a),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)w(r[f]);n=!1},d(a){B(e,a),a&&_(l),Pe(r,a),a&&_(t)}}}function Io(i){let e,l;return e=new Ot({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Do(i){let e,l,t;function n(r){i[22](r)}let o={fields:i[3]};return i[4]!==void 0&&(o.checkedFields=i[4]),e=new wt({props:o}),Oe.push(()=>We(e,"checkedFields",n)),{c(){P(e.$$.fragment)},l(r){R(e.$$.fragment,r)},m(r,s){A(e,r,s),t=!0},p(r,s){const a={};s[0]&8&&(a.fields=r[3]),!l&&s[0]&16&&(l=!0,a.checkedFields=r[4],Ge(()=>l=!1)),e.$set(a)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Vo(i){let e,l,t,n,o,r,s,a;t=new fr({props:{items:[{title:"Fields",value:"fields"},{title:"Administration",value:"administration"}],item:i[7]}}),t.$on("select",i[20]);const f=[bo,po],c=[];function m(u,d){return u[7]==="fields"?0:u[7]==="administration"?1:-1}return~(r=m(i))&&(s=c[r]=f[r](i)),{c(){e=I("div"),l=I("div"),P(t.$$.fragment),n=j(),o=I("div"),s&&s.c(),this.h()},l(u){e=D(u,"DIV",{class:!0});var d=E(e);l=D(d,"DIV",{class:!0});var h=E(l);R(t.$$.fragment,h),h.forEach(_),n=Y(d),o=D(d,"DIV",{class:!0});var g=E(o);s&&s.l(g),g.forEach(_),d.forEach(_),this.h()},h(){y(l,"class","-ml-4 mr-4 w-96 grow-0"),y(o,"class","flex w-full flex-col gap-y-6 rounded border border-gray-300 bg-white p-4"),y(e,"class","flex flex-row")},m(u,d){V(u,e,d),v(e,l),A(t,l,null),v(e,n),v(e,o),~r&&c[r].m(o,null),a=!0},p(u,d){const h={};d[0]&128&&(h.item=u[7]),t.$set(h);let g=r;r=m(u),r===g?~r&&c[r].p(u,d):(s&&(ie(),w(c[g],1,1,()=>{c[g]=null}),re()),~r?(s=c[r],s?s.p(u,d):(s=c[r]=f[r](u),s.c()),p(s,1),s.m(o,null)):s=null)},i(u){a||(p(t.$$.fragment,u),p(s),a=!0)},o(u){w(t.$$.fragment,u),w(s),a=!1},d(u){u&&_(e),B(t),~r&&c[r].d()}}}function No(i){let e,l,t,n,o,r;return e=new Bt({props:{label:"Changes",title:"Dataset settings"}}),t=new Rt({props:{hasForm:!0,$$slots:{default:[Vo]},$$scope:{ctx:i}}}),o=new Ht({props:{danger:i[7]==="administration",primaryButtonText:"Save",secondaryButtonText:"Cancel",primaryButtonDisabled:i[7]==="administration"}}),o.$on("click:button--secondary",close),{c(){P(e.$$.fragment),l=j(),P(t.$$.fragment),n=j(),P(o.$$.fragment)},l(s){R(e.$$.fragment,s),l=Y(s),R(t.$$.fragment,s),n=Y(s),R(o.$$.fragment,s)},m(s,a){A(e,s,a),V(s,l,a),A(t,s,a),V(s,n,a),A(o,s,a),r=!0},p(s,a){const f={};a[0]&7166|a[1]&2&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const c={};a[0]&128&&(c.danger=s[7]==="administration"),a[0]&128&&(c.primaryButtonDisabled=s[7]==="administration"),o.$set(c)},i(s){r||(p(e.$$.fragment,s),p(t.$$.fragment,s),p(o.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),w(t.$$.fragment,s),w(o.$$.fragment,s),r=!1},d(s){B(e,s),s&&_(l),B(t,s),s&&_(n),B(o,s)}}}function To(i){let e,l;return e=new At({props:{open:i[0],$$slots:{default:[No]},$$scope:{ctx:i}}}),e.$on("submit",i[17]),e.$on("close",i[25]),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.open=t[0]),n[0]&7166|n[1]&2&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Co(i,e,l){let t,n,o,r,s,a=J,f=()=>(a(),a=Ne(t,q=>l(6,s=q)),t),c,m,u;i.$$.on_destroy.push(()=>a());let{namespace:d}=e,{name:h}=e,{open:g=!1}=e,{schema:k}=e;const $=pi();ke(i,$,q=>l(28,c=q));const b=ii();ke(i,b,q=>l(11,m=q));const S=rr();ke(i,S,q=>l(27,r=q));let N="fields",C=null,F=null,T=c.embedding;function K(q){T=q.target.value,T===""&&(T=void 0)}function X(){if(C==null)return;const q={ui:{media_paths:C.map(ee=>ee.path),markdown_paths:F==null?void 0:F.map(ee=>ee.path)},preferred_embedding:T};r.mutate([d,h,q],{onSuccess:()=>{l(0,g=!1)}})}let L="";const M=sr();ke(i,M,q=>l(12,u=q));const x=q=>l(7,N=q.detail);function H(q){C=q,l(3,C),l(6,s),l(5,o),l(19,k)}function Z(q){F=q,l(4,F),l(6,s),l(5,o),l(19,k)}function O(q){L=q,l(8,L)}const G=()=>u.mutate([d,h],{onSuccess:()=>Vt("/")}),te=()=>l(0,g=!1);return i.$$set=q=>{"namespace"in q&&l(1,d=q.namespace),"name"in q&&l(2,h=q.name),"open"in q&&l(0,g=q.open),"schema"in q&&l(19,k=q.schema)},i.$$.update=()=>{var q,ee,pe,ce;if(i.$$.dirty[0]&6&&f(l(10,t=ot(d,h))),i.$$.dirty[0]&6&&l(9,n=ar(d,h)),i.$$.dirty[0]&524288&&l(5,o=Ct(k).filter(ae=>ae.dtype==="string"&&!Xe(ae.path,[or])&&!st(ae))),i.$$.dirty[0]&104&&C==null){const ae=(((ee=(q=s.data)==null?void 0:q.ui)==null?void 0:ee.media_paths)||[]).map(se=>Array.isArray(se)?se:[se]);l(3,C=o.filter(se=>ae.some(le=>Xe(se.path,le))))}if(i.$$.dirty[0]&112&&F==null){const ae=(((ce=(pe=s.data)==null?void 0:pe.ui)==null?void 0:ce.markdown_paths)||[]).map(se=>Array.isArray(se)?se:[se]);l(4,F=o.filter(se=>ae.some(le=>Xe(se.path,le))))}},[g,d,h,C,F,o,s,N,L,n,t,m,u,$,b,S,K,X,M,k,x,H,Z,O,G,te]}class Mo extends ve{constructor(e){super(),we(this,e,Co,To,be,{namespace:1,name:2,open:0,schema:19},null,[-1,-1])}}function zo(i){let e,l,t;function n(r){i[13](r)}let o={fields:i[6]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new wt({props:o}),Oe.push(()=>We(e,"checkedFields",n)),{c(){P(e.$$.fragment)},l(r){R(e.$$.fragment,r)},m(r,s){A(e,r,s),t=!0},p(r,s){const a={};s&64&&(a.fields=r[6]),!l&&s&2&&(l=!0,a.checkedFields=r[1],Ge(()=>l=!1)),e.$set(a)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Fo(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Cn(i){let e,l,t,n,o,r,s;const a=[Ao,Po],f=[];function c(m,u){return m[5]==null?0:1}return o=c(i),r=f[o]=a[o](i),{c(){e=I("section"),l=I("h4"),t=Q("Select enriched fields"),n=j(),r.c(),this.h()},l(m){e=D(m,"SECTION",{});var u=E(e);l=D(u,"H4",{class:!0});var d=E(l);t=W(d,"Select enriched fields"),d.forEach(_),n=Y(u),r.l(u),u.forEach(_),this.h()},h(){y(l,"class","svelte-1ge817j")},m(m,u){V(m,e,u),v(e,l),v(l,t),v(e,n),f[o].m(e,null),s=!0},p(m,u){let d=o;o=c(m),o===d?f[o].p(m,u):(ie(),w(f[d],1,1,()=>{f[d]=null}),re(),r=f[o],r?r.p(m,u):(r=f[o]=a[o](m),r.c()),p(r,1),r.m(e,null))},i(m){s||(p(r),s=!0)},o(m){w(r),s=!1},d(m){m&&_(e),f[o].d()}}}function Po(i){let e,l,t;function n(r){i[14](r)}let o={fields:i[5]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new wt({props:o}),Oe.push(()=>We(e,"checkedFields",n)),{c(){P(e.$$.fragment)},l(r){R(e.$$.fragment,r)},m(r,s){A(e,r,s),t=!0},p(r,s){const a={};s&32&&(a.fields=r[5]),!l&&s&4&&(l=!0,a.checkedFields=r[2],Ge(()=>l=!1)),e.$set(a)},i(r){t||(p(e.$$.fragment,r),t=!0)},o(r){w(e.$$.fragment,r),t=!1},d(r){B(e,r)}}}function Ao(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Mn(i){let e,l;return{c(){e=I("p"),l=Q("No fields selected. Please select at least one field to download."),this.h()},l(t){e=D(t,"P",{class:!0});var n=E(e);l=W(n,"No fields selected. Please select at least one field to download."),n.forEach(_),this.h()},h(){y(e,"class","text-gray-600")},m(t,n){V(t,e,n),v(e,l)},d(t){t&&_(e)}}}function Bo(i){let e,l;return e=new gi({props:{value:JSON.stringify(i[7].data,null,2),readonly:!0,rows:30,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&128&&(o.value=JSON.stringify(t[7].data,null,2)),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ro(i){let e,l;return e=new Be({props:{paragraph:!0}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ho(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,g,k,$;const b=[Fo,zo],S=[];function N(L,M){return L[6]==null?0:1}o=N(i),r=S[o]=b[o](i);let C=(i[5]==null||i[5].length>0)&&Cn(i),F=i[3].length===0&&Mn();const T=[Ro,Bo],K=[];function X(L,M){return L[7]&&L[7].isFetching?0:L[4]&&L[7]?1:-1}return~(g=X(i))&&(k=K[g]=T[g](i)),{c(){e=I("section"),l=I("h4"),t=Q("Select source fields"),n=j(),r.c(),s=j(),C&&C.c(),a=j(),f=I("section"),c=I("h4"),m=Q("Download preview"),u=j(),F&&F.c(),d=j(),h=I("div"),k&&k.c(),this.h()},l(L){e=D(L,"SECTION",{});var M=E(e);l=D(M,"H4",{class:!0});var x=E(l);t=W(x,"Select source fields"),x.forEach(_),n=Y(M),r.l(M),M.forEach(_),s=Y(L),C&&C.l(L),a=Y(L),f=D(L,"SECTION",{});var H=E(f);c=D(H,"H4",{class:!0});var Z=E(c);m=W(Z,"Download preview"),Z.forEach(_),u=Y(H),F&&F.l(H),d=Y(H),h=D(H,"DIV",{class:!0});var O=E(h);k&&k.l(O),O.forEach(_),H.forEach(_),this.h()},h(){y(l,"class","svelte-1ge817j"),y(c,"class","svelte-1ge817j"),y(h,"class","preview svelte-1ge817j")},m(L,M){V(L,e,M),v(e,l),v(l,t),v(e,n),S[o].m(e,null),V(L,s,M),C&&C.m(L,M),V(L,a,M),V(L,f,M),v(f,c),v(c,m),v(f,u),F&&F.m(f,null),v(f,d),v(f,h),~g&&K[g].m(h,null),$=!0},p(L,M){let x=o;o=N(L),o===x?S[o].p(L,M):(ie(),w(S[x],1,1,()=>{S[x]=null}),re(),r=S[o],r?r.p(L,M):(r=S[o]=b[o](L),r.c()),p(r,1),r.m(e,null)),L[5]==null||L[5].length>0?C?(C.p(L,M),M&32&&p(C,1)):(C=Cn(L),C.c(),p(C,1),C.m(a.parentNode,a)):C&&(ie(),w(C,1,1,()=>{C=null}),re()),L[3].length===0?F||(F=Mn(),F.c(),F.m(f,d)):F&&(F.d(1),F=null);let H=g;g=X(L),g===H?~g&&K[g].p(L,M):(k&&(ie(),w(K[H],1,1,()=>{K[H]=null}),re()),~g?(k=K[g],k?k.p(L,M):(k=K[g]=T[g](L),k.c()),p(k,1),k.m(h,null)):k=null)},i(L){$||(p(r),p(C),p(k),$=!0)},o(L){w(r),w(C),w(k),$=!1},d(L){L&&_(e),S[o].d(),L&&_(s),C&&C.d(L),L&&_(a),L&&_(f),F&&F.d(),~g&&K[g].d()}}}function Oo(i){let e,l,t,n,o,r;return e=new Bt({props:{title:"Download data"}}),t=new Rt({props:{hasForm:!0,$$slots:{default:[Ho]},$$scope:{ctx:i}}}),o=new Ht({props:{primaryButtonText:"Download",primaryButtonDisabled:i[3].length===0,secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",i[10]),{c(){P(e.$$.fragment),l=j(),P(t.$$.fragment),n=j(),P(o.$$.fragment)},l(s){R(e.$$.fragment,s),l=Y(s),R(t.$$.fragment,s),n=Y(s),R(o.$$.fragment,s)},m(s,a){A(e,s,a),V(s,l,a),A(t,s,a),V(s,n,a),A(o,s,a),r=!0},p(s,a){const f={};a&262398&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const c={};a&8&&(c.primaryButtonDisabled=s[3].length===0),o.$set(c)},i(s){r||(p(e.$$.fragment,s),p(t.$$.fragment,s),p(o.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),w(t.$$.fragment,s),w(o.$$.fragment,s),r=!1},d(s){B(e,s),s&&_(l),B(t,s),s&&_(n),B(o,s)}}}function Lo(i){let e,l;return e=new At({props:{size:"lg",open:i[0],$$slots:{default:[Oo]},$$scope:{ctx:i}}}),e.$on("submit",i[9]),e.$on("close",i[15]),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&262398&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function qo(i,e,l){let t,n,o,r,s,a,f=J,c=()=>(f(),f=Ne(r,T=>l(7,a=T)),r);i.$$.on_destroy.push(()=>f());let{open:m=!1}=e,{schema:u}=e;const d=ut(),h=Ue();ke(i,h,T=>l(12,s=T));let g=[],k=[];function $(T){if(T==null)return{sourceFields:null,enrichedFields:null};const X=Ct(T).filter(M=>["embedding"].indexOf(M.dtype)===-1).filter(M=>!st(M)),L=lt(T).filter(M=>Pt(M)).filter(M=>!lt(M).some(x=>x.dtype==="embedding"));return{sourceFields:X,enrichedFields:L}}async function b(){const T=s.namespace,K=s.datasetName,X={combine_columns:!1,columns:o.map(x=>x.path)},L=`/api/v1/datasets/${T}/${K}/select_rows_download?url_safe_options=${encodeURIComponent(JSON.stringify(X))}`,M=document.createElement("a");M.download=`${T}_${K}.json`,M.href=L,document.body.appendChild(M),M.click(),M.remove()}function S(){l(0,m=!1),d("close")}function N(T){g=T,l(1,g)}function C(T){k=T,l(2,k)}const F=()=>l(0,m=!1);return i.$$set=T=>{"open"in T&&l(0,m=T.open),"schema"in T&&l(11,u=T.schema)},i.$$.update=()=>{i.$$.dirty&2048&&l(6,{sourceFields:t,enrichedFields:n}=$(u),t,(l(5,n),l(11,u))),i.$$.dirty&6&&l(3,o=[...g,...k]),i.$$.dirty&4104&&c(l(4,r=o.length>0?ci(s.namespace,s.datasetName,{columns:o.map(T=>T.path),limit:3,combine_columns:!1}):null))},[m,g,k,o,r,n,t,a,h,b,S,u,s,N,C,F]}class Uo extends ve{constructor(e){super(),we(this,e,qo,Lo,be,{open:0,schema:11})}}function zn(i,e,l){const t=i.slice();t[12]=e[l];const n=t[3](t[12]);t[13]=n;const o=t[4](t[12]);return t[14]=o,t}function jo(i){let e,l,t,n,o,r,s,a,f;s=new xn({props:{size:"small",tooltipPosition:"left",icon:ei,iconDescription:"Sort dataset by concept score"}}),s.$on("click",i[5]);let c=i[2].data.rows,m=[];for(let d=0;d<c.length;d+=1)m[d]=Fn(zn(i,c,d));const u=d=>w(m[d],1,1,()=>{m[d]=null});return{c(){e=I("div"),l=I("div"),t=I("div"),n=Q("Items with highest score"),o=j(),r=I("div"),P(s.$$.fragment),a=j();for(let d=0;d<m.length;d+=1)m[d].c();this.h()},l(d){e=D(d,"DIV",{class:!0});var h=E(e);l=D(h,"DIV",{class:!0});var g=E(l);t=D(g,"DIV",{});var k=E(t);n=W(k,"Items with highest score"),k.forEach(_),o=Y(g),r=D(g,"DIV",{});var $=E(r);R(s.$$.fragment,$),$.forEach(_),g.forEach(_),a=Y(h);for(let b=0;b<m.length;b+=1)m[b].l(h);h.forEach(_),this.h()},h(){y(l,"class","flex h-8 justify-between text-lg"),y(e,"class","flex flex-col gap-y-4")},m(d,h){V(d,e,h),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),A(s,r,null),v(e,a);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(e,null);f=!0},p(d,h){if(h&29){c=d[2].data.rows;let g;for(g=0;g<c.length;g+=1){const k=zn(d,c,g);m[g]?(m[g].p(k,h),p(m[g],1)):(m[g]=Fn(k),m[g].c(),p(m[g],1),m[g].m(e,null))}for(ie(),g=c.length;g<m.length;g+=1)u(g);re()}},i(d){if(!f){p(s.$$.fragment,d);for(let h=0;h<c.length;h+=1)p(m[h]);f=!0}},o(d){w(s.$$.fragment,d),m=m.filter(Boolean);for(let h=0;h<m.length;h+=1)w(m[h]);f=!1},d(d){d&&_(e),B(s),Pe(m,d)}}}function Yo(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Fn(i){let e,l,t,n,o,r,s,a,f,c=$e(i[14])+"",m,u,d;return t=new _i({props:{text:i[13],row:i[12],spanPaths:i[0].spanPaths,valuePaths:i[0].valuePaths,embeddings:[]}}),{c(){e=I("div"),l=I("div"),P(t.$$.fragment),n=j(),o=I("div"),r=I("div"),s=Q("Max score"),a=j(),f=I("div"),m=Q(c),u=j(),this.h()},l(h){e=D(h,"DIV",{class:!0});var g=E(e);l=D(g,"DIV",{class:!0});var k=E(l);R(t.$$.fragment,k),k.forEach(_),n=Y(g),o=D(g,"DIV",{class:!0});var $=E(o);r=D($,"DIV",{class:!0});var b=E(r);s=W(b,"Max score"),b.forEach(_),a=Y($),f=D($,"DIV",{class:!0});var S=E(f);m=W(S,c),S.forEach(_),$.forEach(_),u=Y(g),g.forEach(_),this.h()},h(){y(l,"class","flex-grow"),y(r,"class","text-sm text-gray-500"),y(f,"class","text-lg"),y(o,"class","flex flex-none flex-col items-end"),y(e,"class","flex gap-x-4 rounded border border-gray-300 px-4 py-2")},m(h,g){V(h,e,g),v(e,l),A(t,l,null),v(e,n),v(e,o),v(o,r),v(r,s),v(o,a),v(o,f),v(f,m),v(e,u),d=!0},p(h,g){const k={};g&4&&(k.text=h[13]),g&4&&(k.row=h[12]),g&1&&(k.spanPaths=h[0].spanPaths),g&1&&(k.valuePaths=h[0].valuePaths),t.$set(k),(!d||g&4)&&c!==(c=$e(h[14])+"")&&fe(m,c)},i(h){d||(p(t.$$.fragment,h),d=!0)},o(h){w(t.$$.fragment,h),d=!1},d(h){h&&_(e),B(t)}}}function Qo(i){let e,l,t,n;const o=[Yo,jo],r=[];function s(a,f){return a[2].isFetching?0:a[2].data?1:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=oe()},l(a){l&&l.l(a),t=oe()},m(a,f){~e&&r[e].m(a,f),V(a,t,f),n=!0},p(a,[f]){let c=e;e=s(a),e===c?~e&&r[e].p(a,f):(l&&(ie(),w(r[c],1,1,()=>{r[c]=null}),re()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),p(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(p(l),n=!0)},o(a){w(l),n=!1},d(a){~e&&r[e].d(a),a&&_(t)}}}const Wo=5;function Go(i,e,l){let t,n,o,r,s=J,a=()=>(s(),s=Ne(t,$=>l(2,r=$)),t);i.$$.on_destroy.push(()=>s());let{schema:f}=e,{namespace:c}=e,{datasetName:m}=e,{mediaPath:u}=e,{scorePath:d}=e;function h($){return gt.value(kt($,u),"string")}function g($){const b=d.slice(0,d.length-2),S=kt($,b);let N=0;for(const C of S){const F=gt.value(kt(C,["score"]),"float32");N=Math.max(N,F)}return N}function k(){const $=di(c,m);$.query.sort_by=[d],$.query.sort_order="DESC",$.insightsOpen=!1,Vt(ui(c,m,$))}return i.$$set=$=>{"schema"in $&&l(6,f=$.schema),"namespace"in $&&l(7,c=$.namespace),"datasetName"in $&&l(8,m=$.datasetName),"mediaPath"in $&&l(9,u=$.mediaPath),"scorePath"in $&&l(10,d=$.scorePath)},i.$$.update=()=>{i.$$.dirty&1984&&a(l(1,t=ci(c,m,{columns:[u,d],limit:Wo,combine_columns:!0,sort_by:[d]},f))),i.$$.dirty&1088&&l(11,n=[ur(f,d)]),i.$$.dirty&2112&&l(0,o=ti(f,n))},[o,t,r,h,g,k,f,c,m,u,d,n]}class Ko extends ve{constructor(e){super(),we(this,e,Go,Qo,be,{schema:6,namespace:7,datasetName:8,mediaPath:9,scorePath:10})}}function Zo(i){let e,l;return e=new Be({props:{lines:1,width:"200px"}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Jo(i){let e,l;return{c(){e=I("div"),l=Q(i[9]),this.h()},l(t){e=D(t,"DIV",{class:!0});var n=E(e);l=W(n,i[9]),n.forEach(_),this.h()},h(){y(e,"class","text-sm text-gray-500")},m(t,n){V(t,e,n),v(e,l)},p(t,n){n&512&&fe(l,t[9])},i:J,o:J,d(t){t&&_(e)}}}function Xo(i){let e,l=i[7].toFixed(2)+"",t,n,o=$e(i[3])+"",r,s;return{c(){e=I("div"),t=Q(l),n=Q("% ("),r=Q(o),s=Q(" items)"),this.h()},l(a){e=D(a,"DIV",{class:!0});var f=E(e);t=W(f,l),n=W(f,"% ("),r=W(f,o),s=W(f," items)"),f.forEach(_),this.h()},h(){y(e,"class","text-lg font-bold")},m(a,f){V(a,e,f),v(e,t),v(e,n),v(e,r),v(e,s)},p(a,f){f&128&&l!==(l=a[7].toFixed(2)+"")&&fe(t,l),f&8&&o!==(o=$e(a[3])+"")&&fe(r,o)},i:J,o:J,d(a){a&&_(e)}}}function xo(i){let e,l;return e=new Be({props:{lines:1,width:"200px"}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ef(i){let e,l,t,n,o=i[13].namespace+"",r,s,a=i[13].concept_name+"",f,c,m,u,d,h,g,k,$,b,S,N;const C=[Jo,Zo],F=[];function T(M,x){return M[9]?0:1}u=T(i),d=F[u]=C[u](i);const K=[xo,Xo],X=[];function L(M,x){return M[6].isFetching?0:1}return k=L(i),$=X[k]=K[k](i),{c(){e=I("div"),l=I("div"),t=I("div"),n=I("span"),r=Q(o),s=Q(" / "),f=Q(a),m=j(),d.c(),h=j(),g=I("div"),$.c(),this.h()},l(M){e=D(M,"DIV",{slot:!0,class:!0});var x=E(e);l=D(x,"DIV",{class:!0});var H=E(l);t=D(H,"DIV",{class:!0});var Z=E(t);n=D(Z,"SPAN",{});var O=E(n);r=W(O,o),s=W(O," / "),f=W(O,a),O.forEach(_),Z.forEach(_),m=Y(H),d.l(H),H.forEach(_),h=Y(x),g=D(x,"DIV",{class:!0});var G=E(g);$.l(G),G.forEach(_),x.forEach(_),this.h()},h(){y(t,"class","text-lg"),y(l,"class","w-full flex-grow"),y(g,"class","flex-none"),y(e,"slot","above"),y(e,"class","flex w-full items-center")},m(M,x){V(M,e,x),v(e,l),v(l,t),v(t,n),v(n,r),v(n,s),v(n,f),v(l,m),F[u].m(l,null),v(e,h),v(e,g),X[k].m(g,null),b=!0,S||(N=ye(c=Ie.call(null,n,{text:`version: ${i[8]}`})),S=!0)},p(M,x){c&&Le(c.update)&&x&256&&c.update.call(null,{text:`version: ${M[8]}`});let H=u;u=T(M),u===H?F[u].p(M,x):(ie(),w(F[H],1,1,()=>{F[H]=null}),re(),d=F[u],d?d.p(M,x):(d=F[u]=C[u](M),d.c()),p(d,1),d.m(l,null));let Z=k;k=L(M),k===Z?X[k].p(M,x):(ie(),w(X[Z],1,1,()=>{X[Z]=null}),re(),$=X[k],$?$.p(M,x):($=X[k]=K[k](M),$.c()),p($,1),$.m(g,null))},i(M){b||(p(d),p($),b=!0)},o(M){w(d),w($),b=!1},d(M){M&&_(e),F[u].d(),X[k].d(),S=!1,N()}}}function tf(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function lf(i){let e,l;return e=new Ko({props:{schema:i[0],namespace:i[1],datasetName:i[2],mediaPath:i[12],scorePath:i[4]}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.schema=t[0]),n&2&&(o.namespace=t[1]),n&4&&(o.datasetName=t[2]),n&4096&&(o.mediaPath=t[12]),n&16&&(o.scorePath=t[4]),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function nf(i){let e,l,t,n;const o=[lf,tf],r=[];function s(a,f){return a[5].data?0:1}return l=s(i),t=r[l]=o[l](i),{c(){e=I("div"),t.c(),this.h()},l(a){e=D(a,"DIV",{slot:!0});var f=E(e);t.l(f),f.forEach(_),this.h()},h(){y(e,"slot","below")},m(a,f){V(a,e,f),r[l].m(e,null),n=!0},p(a,f){let c=l;l=s(a),l===c?r[l].p(a,f):(ie(),w(r[c],1,1,()=>{r[c]=null}),re(),t=r[l],t?t.p(a,f):(t=r[l]=o[l](a),t.c()),p(t,1),t.m(e,null))},i(a){n||(p(t),n=!0)},o(a){w(t),n=!1},d(a){a&&_(e),r[l].d()}}}function rf(i){let e,l;return e=new Nr({props:{$$slots:{below:[nf],above:[ef]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,[n]){const o={};n&70655&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}const sf="In concept",af="Not in concept";function of(i,e,l){let t,n,o,r,s,a,f,c,m,u,d=J,h=()=>(d(),d=Ne(r,T=>l(5,u=T)),r),g,k=J,$=()=>(k(),k=Ne(o,T=>l(6,g=T)),o);i.$$.on_destroy.push(()=>d()),i.$$.on_destroy.push(()=>k());let{field:b}=e,{schema:S}=e,{namespace:N}=e,{datasetName:C}=e,F=b.signal;return i.$$set=T=>{"field"in T&&l(14,b=T.field),"schema"in T&&l(0,S=T.schema),"namespace"in T&&l(1,N=T.namespace),"datasetName"in T&&l(2,C=T.datasetName)},i.$$.update=()=>{var T,K,X,L,M,x,H;i.$$.dirty&16384&&l(4,t=[...b.path,bt,"score"]),i.$$.dirty&16384&&l(12,n=b.parent.path),i.$$.dirty&22&&$(l(11,o=fi(N,C,{leaf_path:t}))),i.$$.dirty&32&&l(9,s=(K=(T=u.data)==null?void 0:T.metadata)==null?void 0:K.description),i.$$.dirty&64&&l(15,a=((L=(X=g.data)==null?void 0:X.counts.find(([Z,O])=>Z===af))==null?void 0:L[1])||0),i.$$.dirty&64&&l(3,f=((x=(M=g.data)==null?void 0:M.counts.find(([Z,O])=>Z===sf))==null?void 0:x[1])||0),i.$$.dirty&32&&l(8,c=(H=u.data)==null?void 0:H.version),i.$$.dirty&32776&&l(7,m=f/(f+a)*100)},h(l(10,r=Xn(F.namespace,F.concept_name))),[S,N,C,f,t,u,g,m,c,s,r,o,n,F,b,a]}class ff extends ve{constructor(e){super(),we(this,e,of,rf,be,{field:14,schema:0,namespace:1,datasetName:2})}}function Pn(i,e,l){const t=i.slice();return t[9]=e[l],t}function cf(i){let e,l;return e=new Be({props:{paragraph:!0,lines:2,width:"200px"}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function uf(i){let e,l=$e(i[5])+"",t,n,o,r,s,a;return{c(){e=I("div"),t=Q(l),n=Q(" items"),o=j(),r=I("div"),s=Q(i[6]),a=Q(" chars on average")},l(f){e=D(f,"DIV",{});var c=E(e);t=W(c,l),n=W(c," items"),c.forEach(_),o=Y(f),r=D(f,"DIV",{});var m=E(r);s=W(m,i[6]),a=W(m," chars on average"),m.forEach(_)},m(f,c){V(f,e,c),v(e,t),v(e,n),V(f,o,c),V(f,r,c),v(r,s),v(r,a)},p(f,c){c&32&&l!==(l=$e(f[5])+"")&&fe(t,l),c&64&&fe(s,f[6])},i:J,o:J,d(f){f&&_(e),f&&_(o),f&&_(r)}}}function An(i){let e,l;return e=new ff({props:{schema:i[2],namespace:i[3],datasetName:i[4],field:i[9]}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&4&&(o.schema=t[2]),n&8&&(o.namespace=t[3]),n&16&&(o.datasetName=t[4]),n&1&&(o.field=t[9]),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function df(i){let e,l,t,n,o,r,s,a,f,c;const m=[uf,cf],u=[];function d($,b){return $[5]&&$[6]?0:1}s=d(i),a=u[s]=m[s](i);let h=i[0],g=[];for(let $=0;$<h.length;$+=1)g[$]=An(Pn(i,h,$));const k=$=>w(g[$],1,1,()=>{g[$]=null});return{c(){e=I("div"),l=I("div"),t=I("div"),n=Q(i[1]),o=j(),r=I("div"),a.c(),f=j();for(let $=0;$<g.length;$+=1)g[$].c();this.h()},l($){e=D($,"DIV",{class:!0});var b=E(e);l=D(b,"DIV",{class:!0});var S=E(l);t=D(S,"DIV",{class:!0});var N=E(t);n=W(N,i[1]),N.forEach(_),o=Y(S),r=D(S,"DIV",{class:!0});var C=E(r);a.l(C),C.forEach(_),S.forEach(_),f=Y(b);for(let F=0;F<g.length;F+=1)g[F].l(b);b.forEach(_),this.h()},h(){y(t,"class","flex-grow text-2xl font-semibold text-slate-900"),y(r,"class","flex-none text-sm text-gray-500"),y(l,"class","sticky top-0 flex rounded-xl border border-gray-300 bg-slate-50/80 px-4 py-3 backdrop-blur-sm"),y(e,"class","relative flex flex-col gap-y-4")},m($,b){V($,e,b),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),u[s].m(r,null),v(e,f);for(let S=0;S<g.length;S+=1)g[S]&&g[S].m(e,null);c=!0},p($,[b]){(!c||b&2)&&fe(n,$[1]);let S=s;if(s=d($),s===S?u[s].p($,b):(ie(),w(u[S],1,1,()=>{u[S]=null}),re(),a=u[s],a?a.p($,b):(a=u[s]=m[s]($),a.c()),p(a,1),a.m(r,null)),b&29){h=$[0];let N;for(N=0;N<h.length;N+=1){const C=Pn($,h,N);g[N]?(g[N].p(C,b),p(g[N],1)):(g[N]=An(C),g[N].c(),p(g[N],1),g[N].m(e,null))}for(ie(),N=h.length;N<g.length;N+=1)k(N);re()}},i($){if(!c){p(a);for(let b=0;b<h.length;b+=1)p(g[b]);c=!0}},o($){w(a),g=g.filter(Boolean);for(let b=0;b<g.length;b+=1)w(g[b]);c=!1},d($){$&&_(e),u[s].d(),Pe(g,$)}}}function mf(i,e,l){let t,n,o,r,s=J,a=()=>(s(),s=Ne(t,h=>l(8,r=h)),t);i.$$.on_destroy.push(()=>s());let{concepts:f}=e,{mediaPath:c}=e,{schema:m}=e,{namespace:u}=e,{datasetName:d}=e;return i.$$set=h=>{"concepts"in h&&l(0,f=h.concepts),"mediaPath"in h&&l(1,c=h.mediaPath),"schema"in h&&l(2,m=h.schema),"namespace"in h&&l(3,u=h.namespace),"datasetName"in h&&l(4,d=h.datasetName)},i.$$.update=()=>{var h,g;i.$$.dirty&26&&a(l(7,t=oi(u,d,{leaf_path:c}))),i.$$.dirty&256&&l(6,n=(h=r.data)==null?void 0:h.avg_text_length),i.$$.dirty&256&&l(5,o=(g=r.data)==null?void 0:g.total_count)},[f,c,m,u,d,o,n,t,r]}class hf extends ve{constructor(e){super(),we(this,e,mf,df,be,{concepts:0,mediaPath:1,schema:2,namespace:3,datasetName:4})}}function Bn(i,e,l){const t=i.slice();t[8]=e[l];const n=t[5](t[8]);return t[9]=n,t}function Rn(i){let e,l;return e=new hf({props:{mediaPath:i[8],schema:i[0],namespace:i[1],datasetName:i[2],concepts:i[9]}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&8&&(o.mediaPath=t[8]),n&1&&(o.schema=t[0]),n&2&&(o.namespace=t[1]),n&4&&(o.datasetName=t[2]),n&8&&(o.concepts=t[9]),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function _f(i){let e,l,t=i[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=Rn(Bn(i,t,r));const o=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){e=I("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=D(r,"DIV",{class:!0});var s=E(e);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(_),this.h()},h(){y(e,"class","flex flex-col gap-y-6")},m(r,s){V(r,e,s);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);l=!0},p(r,[s]){if(s&47){t=r[3];let a;for(a=0;a<t.length;a+=1){const f=Bn(r,t,a);n[a]?(n[a].p(f,s),p(n[a],1)):(n[a]=Rn(f),n[a].c(),p(n[a],1),n[a].m(e,null))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)p(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)w(n[s]);l=!1},d(r){r&&_(e),Pe(n,r)}}}function gf(i,e,l){let t,n,o,r,s=J,a=()=>(s(),s=Ne(n,d=>l(6,r=d)),n);i.$$.on_destroy.push(()=>s());let{schema:f}=e,{namespace:c}=e,{datasetName:m}=e;function u(d){return t.filter(h=>ri(h.path,d))}return i.$$set=d=>{"schema"in d&&l(0,f=d.schema),"namespace"in d&&l(1,c=d.namespace),"datasetName"in d&&l(2,m=d.datasetName)},i.$$.update=()=>{var d,h;i.$$.dirty&1&&(t=lt(f).filter(g=>{var k;return((k=g.signal)==null?void 0:k.signal_name)=="concept_score"})),i.$$.dirty&6&&a(l(4,n=ot(c,m))),i.$$.dirty&64&&l(3,o=(((h=(d=r.data)==null?void 0:d.ui)==null?void 0:h.media_paths)||[]).map(g=>Array.isArray(g)?g:[g]))},[f,c,m,o,n,u,r]}class pf extends ve{constructor(e){super(),we(this,e,gf,_f,be,{schema:0,namespace:1,datasetName:2})}}function Hn(i){let e,l,t,n,o,r,s,a;function f(d){i[24](d)}let c={schema:i[12].data,namespace:i[0],name:i[1]};i[4]!==void 0&&(c.open=i[4]),e=new Mo({props:c}),Oe.push(()=>We(e,"open",f));function m(d){i[25](d)}let u={schema:i[12].data};return i[5]!==void 0&&(u.open=i[5]),n=new Uo({props:u}),Oe.push(()=>We(n,"open",m)),s=new At({props:{size:"lg",open:i[3].insightsOpen,$$slots:{default:[vf]},$$scope:{ctx:i}}}),s.$on("close",i[26]),s.$on("submit",i[27]),{c(){P(e.$$.fragment),t=j(),P(n.$$.fragment),r=j(),P(s.$$.fragment)},l(d){R(e.$$.fragment,d),t=Y(d),R(n.$$.fragment,d),r=Y(d),R(s.$$.fragment,d)},m(d,h){A(e,d,h),V(d,t,h),A(n,d,h),V(d,r,h),A(s,d,h),a=!0},p(d,h){const g={};h[0]&4096&&(g.schema=d[12].data),h[0]&1&&(g.namespace=d[0]),h[0]&2&&(g.name=d[1]),!l&&h[0]&16&&(l=!0,g.open=d[4],Ge(()=>l=!1)),e.$set(g);const k={};h[0]&4096&&(k.schema=d[12].data),!o&&h[0]&32&&(o=!0,k.open=d[5],Ge(()=>o=!1)),n.$set(k);const $={};h[0]&8&&($.open=d[3].insightsOpen),h[0]&4107|h[1]&1&&($.$$scope={dirty:h,ctx:d}),s.$set($)},i(d){a||(p(e.$$.fragment,d),p(n.$$.fragment,d),p(s.$$.fragment,d),a=!0)},o(d){w(e.$$.fragment,d),w(n.$$.fragment,d),w(s.$$.fragment,d),a=!1},d(d){B(e,d),d&&_(t),B(n,d),d&&_(r),B(s,d)}}}function On(i){let e,l;return e=new pf({props:{schema:i[12].data,namespace:i[0],datasetName:i[1]}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.schema=t[12].data),n[0]&1&&(o.namespace=t[0]),n[0]&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function bf(i){let e,l,t=i[3].insightsOpen&&On(i);return{c(){t&&t.c(),e=oe()},l(n){t&&t.l(n),e=oe()},m(n,o){t&&t.m(n,o),V(n,e,o),l=!0},p(n,o){n[3].insightsOpen?t?(t.p(n,o),o[0]&8&&p(t,1)):(t=On(n),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(ie(),w(t,1,1,()=>{t=null}),re())},i(n){l||(p(t),l=!0)},o(n){w(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function vf(i){let e,l,t,n,o,r;return e=new Bt({props:{title:"Insights"}}),t=new Rt({props:{$$slots:{default:[bf]},$$scope:{ctx:i}}}),o=new Ht({props:{primaryButtonText:"Close"}}),{c(){P(e.$$.fragment),l=j(),P(t.$$.fragment),n=j(),P(o.$$.fragment)},l(s){R(e.$$.fragment,s),l=Y(s),R(t.$$.fragment,s),n=Y(s),R(o.$$.fragment,s)},m(s,a){A(e,s,a),V(s,l,a),A(t,s,a),V(s,n,a),A(o,s,a),r=!0},p(s,a){const f={};a[0]&4107|a[1]&1&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){r||(p(e.$$.fragment,s),p(t.$$.fragment,s),p(o.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),w(t.$$.fragment,s),w(o.$$.fragment,s),r=!1},d(s){B(e,s),s&&_(l),B(t,s),s&&_(n),B(o,s)}}}function Ln(i){let e,l;return e=new Lt({props:{open:!0,modalHeading:"Dataset config",primaryButtonText:"Ok",secondaryButtonText:"Cancel",$$slots:{default:[$f]},$$scope:{ctx:i}}}),e.$on("click:button--secondary",i[28]),e.$on("close",i[29]),e.$on("submit",i[30]),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&8192|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function wf(i){let e,l;return e=new gi({props:{value:`${i[13].data}`,readonly:!0,rows:15,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&8192&&(o.value=`${t[13].data}`),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function kf(i){let e,l;return e=new Be({}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:J,i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function $f(i){let e,l,t,n,o,r,s,a,f,c;const m=[kf,wf],u=[];function d(h,g){var k,$;return(k=h[13])!=null&&k.isFetching?0:($=h[13])!=null&&$.data?1:-1}return~(s=d(i))&&(a=u[s]=m[s](i)),{c(){e=I("div"),l=Q(`This dataset configuration represents the transformations that created the dataset,
        including signals, embeddings, and user settings. This can be used with lilac.load to
        generate the dataset with the same view as presented.`),t=j(),n=I("div"),o=Q("config.yml"),r=j(),a&&a.c(),f=oe(),this.h()},l(h){e=D(h,"DIV",{class:!0});var g=E(e);l=W(g,`This dataset configuration represents the transformations that created the dataset,
        including signals, embeddings, and user settings. This can be used with lilac.load to
        generate the dataset with the same view as presented.`),g.forEach(_),t=Y(h),n=D(h,"DIV",{class:!0});var k=E(n);o=W(k,"config.yml"),k.forEach(_),r=Y(h),a&&a.l(h),f=oe(),this.h()},h(){y(e,"class","mb-4 text-sm"),y(n,"class","font-mono text-xs")},m(h,g){V(h,e,g),v(e,l),V(h,t,g),V(h,n,g),v(n,o),V(h,r,g),~s&&u[s].m(h,g),V(h,f,g),c=!0},p(h,g){let k=s;s=d(h),s===k?~s&&u[s].p(h,g):(a&&(ie(),w(u[k],1,1,()=>{u[k]=null}),re()),~s?(a=u[s],a?a.p(h,g):(a=u[s]=m[s](h),a.c()),p(a,1),a.m(f.parentNode,f)):a=null)},i(h){c||(p(a),c=!0)},o(h){w(a),c=!1},d(h){h&&_(e),h&&_(t),h&&_(n),h&&_(r),~s&&u[s].d(h),h&&_(f)}}}function Ef(i){let e,l,t,n,o,r,s,a,f,c,m;t=new uo({}),s=new _a({});let u=i[12].data&&Hn(i),d=i[2]&&Ln(i);return{c(){e=I("div"),l=I("div"),P(t.$$.fragment),o=j(),r=I("div"),P(s.$$.fragment),a=j(),u&&u.c(),f=j(),d&&d.c(),c=oe(),this.h()},l(h){e=D(h,"DIV",{class:!0});var g=E(e);l=D(g,"DIV",{class:!0});var k=E(l);R(t.$$.fragment,k),k.forEach(_),o=Y(g),r=D(g,"DIV",{class:!0});var $=E(r);R(s.$$.fragment,$),$.forEach(_),g.forEach(_),a=Y(h),u&&u.l(h),f=Y(h),d&&d.l(h),c=oe(),this.h()},h(){y(l,"class",n=Qt(`schema-container relative h-full ${i[11]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1xlsh2v"),y(r,"class","h-full w-2/3 flex-grow"),y(e,"class","flex h-full w-full")},m(h,g){V(h,e,g),v(e,l),A(t,l,null),v(e,o),v(e,r),A(s,r,null),V(h,a,g),u&&u.m(h,g),V(h,f,g),d&&d.m(h,g),V(h,c,g),m=!0},p(h,g){(!m||g[0]&2048&&n!==(n=Qt(`schema-container relative h-full ${h[11]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1xlsh2v"))&&y(l,"class",n),h[12].data?u?(u.p(h,g),g[0]&4096&&p(u,1)):(u=Hn(h),u.c(),p(u,1),u.m(f.parentNode,f)):u&&(ie(),w(u,1,1,()=>{u=null}),re()),h[2]?d?(d.p(h,g),g[0]&4&&p(d,1)):(d=Ln(h),d.c(),p(d,1),d.m(c.parentNode,c)):d&&(ie(),w(d,1,1,()=>{d=null}),re())},i(h){m||(p(t.$$.fragment,h),p(s.$$.fragment,h),p(u),p(d),m=!0)},o(h){w(t.$$.fragment,h),w(s.$$.fragment,h),w(u),w(d),m=!1},d(h){h&&_(e),B(t),B(s),h&&_(a),u&&u.d(h),h&&_(f),d&&d.d(h),h&&_(c)}}}function Sf(i){let e,l,t=i[3].namespace+"",n,o,r=i[3].datasetName+"",s,a,f;return{c(){e=I("div"),l=I("a"),n=Q(t),o=Q("/"),s=Q(r),this.h()},l(c){e=D(c,"DIV",{class:!0});var m=E(e);l=D(m,"A",{class:!0,href:!0});var u=E(l);n=W(u,t),o=W(u,"/"),s=W(u,r),u.forEach(_),m.forEach(_),this.h()},h(){y(l,"class","font-semibold text-black"),y(l,"href",i[8]),y(e,"class","dataset-name svelte-1xlsh2v")},m(c,m){V(c,e,m),v(e,l),v(l,n),v(l,o),v(l,s),a||(f=ze(l,"click",i[21]),a=!0)},p(c,m){m[0]&8&&t!==(t=c[3].namespace+"")&&fe(n,t),m[0]&8&&r!==(r=c[3].datasetName+"")&&fe(s,r),m[0]&256&&y(l,"href",c[8])},d(c){c&&_(e),a=!1,f()}}}function yf(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,g;return t=new ys({}),r=new Ye({props:{type:"outline",$$slots:{default:[Sf]},$$scope:{ctx:i}}}),f=new ct({}),u=new os({}),{c(){e=I("div"),l=I("button"),P(t.$$.fragment),o=j(),P(r.$$.fragment),s=j(),a=I("button"),P(f.$$.fragment),c=j(),m=I("button"),P(u.$$.fragment),this.h()},l(k){e=D(k,"DIV",{slot:!0,class:!0});var $=E(e);l=D($,"BUTTON",{class:!0});var b=E(l);R(t.$$.fragment,b),b.forEach(_),o=Y($),R(r.$$.fragment,$),s=Y($),a=D($,"BUTTON",{});var S=E(a);R(f.$$.fragment,S),S.forEach(_),c=Y($),m=D($,"BUTTON",{});var N=E(m);R(u.$$.fragment,N),N.forEach(_),$.forEach(_),this.h()},h(){y(l,"class","mr-2"),ue(l,"bg-blue-100",!i[11]),ue(l,"outline-blue-400",!i[11]),ue(l,"outline",!i[11]),y(e,"slot","header-subtext"),y(e,"class","flex flex-row items-center gap-x-1")},m(k,$){V(k,e,$),v(e,l),A(t,l,null),v(e,o),A(r,e,null),v(e,s),v(e,a),A(f,a,null),v(e,c),v(e,m),A(u,m,null),d=!0,h||(g=[ye(n=Ie.call(null,l,{text:i[11]?"Show Schema":"Hide Schema"})),ze(l,"click",i[15]),ze(l,"keypress",i[15]),ze(a,"click",i[22]),ye(Ie.call(null,a,{text:"Dataset information"})),ye(Ie.call(null,m,{text:"Dataset insights"})),ze(m,"click",i[23])],h=!0)},p(k,$){n&&Le(n.update)&&$[0]&2048&&n.update.call(null,{text:k[11]?"Show Schema":"Hide Schema"}),(!d||$[0]&2048)&&ue(l,"bg-blue-100",!k[11]),(!d||$[0]&2048)&&ue(l,"outline-blue-400",!k[11]),(!d||$[0]&2048)&&ue(l,"outline",!k[11]);const b={};$[0]&264|$[1]&1&&(b.$$scope={dirty:$,ctx:k}),r.$set(b)},i(k){d||(p(t.$$.fragment,k),p(r.$$.fragment,k),p(f.$$.fragment,k),p(u.$$.fragment,k),d=!0)},o(k){w(t.$$.fragment,k),w(r.$$.fragment,k),w(f.$$.fragment,k),w(u.$$.fragment,k),d=!1},d(k){k&&_(e),B(t),B(r),B(f),B(u),h=!1,xe(g)}}}function If(i){let e,l,t;return l=new Ma({}),{c(){e=I("div"),P(l.$$.fragment),this.h()},l(n){e=D(n,"DIV",{slot:!0,class:!0});var o=E(e);R(l.$$.fragment,o),o.forEach(_),this.h()},h(){y(e,"slot","header-center"),y(e,"class","flex w-full items-center")},m(n,o){V(n,e,o),A(l,e,null),t=!0},p:J,i(n){t||(p(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&_(e),B(l)}}}function qn(i){let e,l,t,n;return{c(){e=I("div"),l=Q("Copied!"),this.h()},l(o){e=D(o,"DIV",{class:!0});var r=E(e);l=W(r,"Copied!"),r.forEach(_),this.h()},h(){y(e,"class","absolute right-12 z-50 mt-2 rounded border border-neutral-300 bg-neutral-50 px-4 py-1 text-xs")},m(o,r){V(o,e,r),v(e,l),n=!0},i(o){n||(t&&t.end(1),n=!0)},o(o){t=Mi(e,Hr,{}),n=!1},d(o){o&&_(e),o&&t&&t.end()}}}function Df(i){let e,l,t,n,o,r,s,a,f,c,m,u,d,h,g,k,$,b,S,N=i[6]&&qn();return s=new Tr({}),c=new ls({}),h=new Cr({}),{c(){e=I("div"),l=I("div"),t=I("div"),n=I("div"),N&&N.c(),o=j(),r=I("button"),P(s.$$.fragment),a=j(),f=I("button"),P(c.$$.fragment),m=j(),u=I("div"),d=I("button"),P(h.$$.fragment),this.h()},l(C){e=D(C,"DIV",{slot:!0});var F=E(e);l=D(F,"DIV",{class:!0});var T=E(l);t=D(T,"DIV",{class:!0});var K=E(t);n=D(K,"DIV",{class:!0});var X=E(n);N&&N.l(X),o=Y(X),r=D(X,"BUTTON",{});var L=E(r);R(s.$$.fragment,L),L.forEach(_),X.forEach(_),a=Y(K),f=D(K,"BUTTON",{});var M=E(f);R(c.$$.fragment,M),M.forEach(_),m=Y(K),u=D(K,"DIV",{class:!0});var x=E(u);d=D(x,"BUTTON",{});var H=E(d);R(h.$$.fragment,H),H.forEach(_),x.forEach(_),K.forEach(_),T.forEach(_),F.forEach(_),this.h()},h(){y(n,"class","relative"),d.disabled=g=!i[9],y(u,"class","mr-2"),ue(u,"opacity-40",!i[9]),y(t,"class","flex"),y(l,"class","flex h-full flex-col"),y(e,"slot","header-right")},m(C,F){V(C,e,F),v(e,l),v(l,t),v(t,n),N&&N.m(n,null),v(n,o),v(n,r),A(s,r,null),v(t,a),v(t,f),A(c,f,null),v(t,m),v(t,u),v(u,d),A(h,d,null),$=!0,b||(S=[ye(Ie.call(null,r,{text:"Copy the URL"})),ze(r,"click",i[18]),ye(Ie.call(null,f,{text:"Download data"})),ze(f,"click",i[19]),ye(Ie.call(null,d,{text:"Dataset settings"})),ze(d,"click",i[20]),ye(k=Ie.call(null,u,{text:i[9]?"":"User does not have access to update settings of this dataset."}))],b=!0)},p(C,F){C[6]?N?F[0]&64&&p(N,1):(N=qn(),N.c(),p(N,1),N.m(n,o)):N&&(ie(),w(N,1,1,()=>{N=null}),re()),(!$||F[0]&512&&g!==(g=!C[9]))&&(d.disabled=g),k&&Le(k.update)&&F[0]&512&&k.update.call(null,{text:C[9]?"":"User does not have access to update settings of this dataset."}),(!$||F[0]&512)&&ue(u,"opacity-40",!C[9])},i(C){$||(p(N),p(s.$$.fragment,C),p(c.$$.fragment,C),p(h.$$.fragment,C),$=!0)},o(C){w(N),w(s.$$.fragment,C),w(c.$$.fragment,C),w(h.$$.fragment,C),$=!1},d(C){C&&_(e),N&&N.d(),B(s),B(c),B(h),b=!1,xe(S)}}}function Vf(i){let e,l;return e=new Fi({props:{$$slots:{"header-right":[Df],"header-center":[If],"header-subtext":[yf],default:[Ef]},$$scope:{ctx:i}}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n[0]&15231|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Nf(i,e,l){let t,n,o,r,s,a,f,c,m=J,u=()=>(m(),m=Ne(n,ae=>l(12,c=ae)),n),d,h=J,g=()=>(h(),h=Ne(s,ae=>l(13,d=ae)),s);i.$$.on_destroy.push(()=>m()),i.$$.on_destroy.push(()=>h());let{namespace:k}=e,{datasetName:$}=e;const b=Ue();ke(i,b,ae=>l(3,f=ae));function S(){Et(b,f.schemaCollapsed=!f.schemaCollapsed,f)}let N=!1,C=!1;const F=Ft();ke(i,F,ae=>l(17,a=ae));let T=!1,K=!1;const X=()=>navigator.clipboard.writeText(location.href).then(()=>{l(6,T=!0),setTimeout(()=>l(6,T=!1),2e3)},()=>{throw Error("Error copying link to clipboard.")}),L=()=>l(5,C=!0),M=()=>l(4,N=!0),x=()=>Vt(r),H=()=>l(2,K=!0),Z=()=>b.setInsightsOpen(!0);function O(ae){N=ae,l(4,N)}function G(ae){C=ae,l(5,C)}const te=()=>b.setInsightsOpen(!1),q=()=>b.setInsightsOpen(!1),ee=()=>l(2,K=!1),pe=()=>l(2,K=!1),ce=()=>l(2,K=!1);return i.$$set=ae=>{"namespace"in ae&&l(0,k=ae.namespace),"datasetName"in ae&&l(1,$=ae.datasetName)},i.$$.update=()=>{var ae;i.$$.dirty[0]&8&&l(11,t=f.schemaCollapsed),i.$$.dirty[0]&8&&u(l(10,n=zt(f.namespace,f.datasetName))),i.$$.dirty[0]&131072&&l(9,o=(ae=a.data)==null?void 0:ae.access.dataset.update_settings),i.$$.dirty[0]&3&&l(8,r=ui(k,$)),i.$$.dirty[0]&7&&g(l(7,s=K?dr(k,$,"yaml"):null))},[k,$,K,f,N,C,T,s,r,o,n,t,c,d,b,S,F,a,X,L,M,x,H,Z,O,G,te,q,ee,pe,ce]}class Tf extends ve{constructor(e){super(),we(this,e,Nf,Vf,be,{namespace:0,datasetName:1},null,[-1,-1])}}function Cf(i){let e;return{c(){e=Q("Page not found! Please specify a dataset.")},l(l){e=W(l,"Page not found! Please specify a dataset.")},m(l,t){V(l,e,t)},p:J,i:J,o:J,d(l){l&&_(e)}}}function Mf(i){let e=i[2],l,t,n=Un(i);return{c(){n.c(),l=oe()},l(o){n.l(o),l=oe()},m(o,r){n.m(o,r),V(o,l,r),t=!0},p(o,r){r&4&&be(e,e=o[2])?(ie(),w(n,1,1,J),re(),n=Un(o),n.c(),p(n,1),n.m(l.parentNode,l)):n.p(o,r)},i(o){t||(p(n),t=!0)},o(o){w(n),t=!1},d(o){o&&_(l),n.d(o)}}}function Un(i){let e,l;return e=new Tf({props:{namespace:i[0],datasetName:i[1]}}),{c(){P(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.namespace=t[0]),n&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(p(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function zf(i){let e,l,t,n;const o=[Mf,Cf],r=[];function s(a,f){return a[2]&&a[0]&&a[1]?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=oe()},l(a){l.l(a),t=oe()},m(a,f){r[e].m(a,f),V(a,t,f),n=!0},p(a,[f]){let c=e;e=s(a),e===c?r[e].p(a,f):(ie(),w(r[c],1,1,()=>{r[c]=null}),re(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),p(l,1),l.m(t.parentNode,t))},i(a){n||(p(l),n=!0)},o(a){w(l),n=!1},d(a){r[e].d(a),a&&_(t)}}}function Ff(i,e,l){let t,n,o,r,s,a,f,c,m=J,u=()=>(m(),m=Ne(f,H=>l(10,c=H)),f),d,h=J,g=()=>(h(),h=Ne(t,H=>l(11,d=H)),t),k,$=J,b=()=>($(),$=Ne(a,H=>l(12,k=H)),a),S,N=J,C=()=>(N(),N=Ne(r,H=>l(13,S=H)),r),F,T=J,K=()=>(T(),T=Ne(o,H=>l(14,F=H)),o),X;i.$$.on_destroy.push(()=>m()),i.$$.on_destroy.push(()=>h()),i.$$.on_destroy.push(()=>$()),i.$$.on_destroy.push(()=>N()),i.$$.on_destroy.push(()=>T());let L,M;const x=mr();return ke(i,x,H=>l(15,X=H)),i.$$.update=()=>{if(i.$$.dirty&32771&&X.page==="datasets")if(X.identifier==""||X.identifier==null)l(0,L=void 0),l(1,M=void 0);else{const[H,Z]=X.identifier.split("/");(L!=H||M!=Z)&&(l(0,L=H),l(1,M=Z))}if(i.$$.dirty&3&&g(l(2,t=L&&M?vr(L,M):null)),i.$$.dirty&7&&t!=null){const H=di(L,M);hr("datasets",`${L}/${M}`,t,x,Z=>br(Z,H),Z=>pr(Z,H))}i.$$.dirty&4&&t!=null&&_r(t),i.$$.dirty&3&&l(8,n=L&&M?wr(L,M):null),i.$$.dirty&256&&n!=null&&gr(n),i.$$.dirty&3&&K(l(6,o=L&&M?ot(L,M):null)),i.$$.dirty&16640&&n&&F!=null&&F.data&&n.setSettings(F.data),i.$$.dirty&3&&C(l(5,r=L&&M?zt(L,M):null)),i.$$.dirty&8448&&n&&S!=null&&S.data&&n.setSchema(S.data),i.$$.dirty&8192&&l(9,s=S!=null&&S.data?kr("string",S.data):null),i.$$.dirty&515&&b(l(4,a=L&&M&&s?$r(L,M,s.map(H=>H.path)):null)),i.$$.dirty&4352&&n&&k!=null&&k.data&&!k.isFetching&&n.setStats(k.data),i.$$.dirty&2051&&u(l(3,f=L&&M&&d?Er(L,M,Sr(d)):null)),i.$$.dirty&1280&&n&&c!=null&&c.data&&n.setSelectRowsSchema(c)},[L,M,t,f,a,r,o,x,n,s,c,d,k,S,F,X]}class Gf extends ve{constructor(e){super(),we(this,e,Ff,zf,be,{})}}export{Gf as component};
